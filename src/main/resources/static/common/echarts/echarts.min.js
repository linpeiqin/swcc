(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?a(exports):typeof define==="function"&&define.amd?define(["exports"],a):window.layui&&layui.define?layui.define(function(c){c("echarts",a(c))}):(a((b.echarts={})))}(this,(function(sV){var xJ;if(typeof window!=="undefined"){xJ=window.__DEV__}else{if(typeof global!=="undefined"){xJ=global.__DEV__}}if(typeof xJ==="undefined"){xJ=true}var pm=xJ;var JO=2311;var dI=function(){return JO++};var hY={};if(typeof wx==="object"&&typeof wx.getSystemInfoSync==="function"){hY={browser:{},os:{},node:false,wxa:true,canvasSupported:true,svgSupported:false,touchEventsSupported:true,domSupported:false}}else{if(typeof document==="undefined"&&typeof self!=="undefined"){hY={browser:{},os:{},node:false,worker:true,canvasSupported:true,domSupported:false}}else{if(typeof navigator==="undefined"){hY={browser:{},os:{},node:true,worker:false,canvasSupported:true,svgSupported:true,domSupported:false}}else{hY=lY(navigator.userAgent)}}}var uk=hY;function lY(k){var Z={};var e={};var v=k.match(/Firefox\/([\d.]+)/);var on=k.match(/MSIE\s([\d.]+)/)||k.match(/Trident\/.+?rv:(([\d.]+))/);var m=k.match(/Edge\/([\d.]+)/);var i=(/micromessenger/i).test(k);if(v){e.firefox=true;e.version=v[1]}if(on){e.ie=true;e.version=on[1]}if(m){e.edge=true;e.version=m[1]}if(i){e.weChat=true}return{browser:e,os:Z,node:false,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect!=="undefined",touchEventsSupported:"ontouchstart" in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown" in window&&(e.edge||(e.ie&&e.version>=11)),domSupported:typeof document!=="undefined"}}var yM={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1};var cb={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1};var Bs=Object.prototype.toString;var dl=Array.prototype;var tq=dl.forEach;var mT=dl.filter;var In=dl.slice;var cR=dl.map;var E0=dl.reduce;var oi={};function CJ(e,i){if(e==="createCanvas"){hM=null}oi[e]=i}function E5(v1){if(v1==null||typeof v1!=="object"){return v1}var m=v1;var k=Bs.call(v1);if(k==="[object Array]"){if(!m2(v1)){m=[];for(var on=0,e=v1.length;on<e;on++){m[on]=E5(v1[on])}}}else{if(cb[k]){if(!m2(v1)){var v=v1.constructor;if(v1.constructor.from){m=v.from(v1)}else{m=new v(v1.length);for(var on=0,e=v1.length;on<e;on++){m[on]=E5(v1[on])}}}}else{if(!yM[k]&&!m2(v1)&&!aF(v1)){m={};for(var Z in v1){if(v1.hasOwnProperty(Z)){m[Z]=E5(v1[Z])}}}}}return m}function xF(v,m,i){if(!u7(m)||!u7(v)){return i?E5(m):v}for(var k in m){if(m.hasOwnProperty(k)){var e=v[k];var Z=m[k];if(u7(Z)&&u7(e)&&!IQ(Z)&&!IQ(e)&&!aF(Z)&&!aF(e)&&!xV(Z)&&!xV(e)&&!m2(Z)&&!m2(e)){xF(e,Z,i)}else{if(i||!(k in v)){v[k]=E5(m[k],true)}}}}return v}function ae(Z,m){var k=Z[0];for(var v=1,e=Z.length;v<e;v++){k=xF(k,Z[v],m)}return k}function cc(k,i){for(var e in i){if(i.hasOwnProperty(e)){k[e]=i[e]}}return k}function Fg(m,k,e){for(var i in k){if(k.hasOwnProperty(i)&&(e?k[i]!=null:m[i]==null)){m[i]=k[i]}}return m}var Fe=function(){return oi.createCanvas()};oi.createCanvas=function(){return document.createElement("canvas")};var hM;function pM(){if(!hM){hM=Fe().getContext("2d")}return hM}function fc(v,m){if(v){if(v.indexOf){return v.indexOf(m)}for(var k=0,e=v.length;k<e;k++){if(v[k]===m){return k}}}return -1}function nm(i,e){var k=i.prototype;function m(){}m.prototype=e.prototype;i.prototype=new m();for(var v in k){if(k.hasOwnProperty(v)){i.prototype[v]=k[v]}}i.prototype.constructor=i;i.superClass=e}function Iz(k,i,e){k="prototype" in k?k.prototype:k;i="prototype" in i?i.prototype:i;Fg(k,i,e)}function ue(e){if(!e){return}if(typeof e==="string"){return false}return typeof e.length==="number"}function qg(on,k,Z){if(!(on&&k)){return}if(on.forEach&&on.forEach===tq){on.forEach(k,Z)}else{if(on.length===+on.length){for(var v=0,e=on.length;v<e;v++){k.call(Z,on[v],v,on)}}else{for(var m in on){if(on.hasOwnProperty(m)){k.call(Z,on[m],m,on)}}}}}function Gj(on,m,Z){if(!(on&&m)){return}if(on.map&&on.map===cR){return on.map(m,Z)}else{var k=[];for(var v=0,e=on.length;v<e;v++){k.push(m.call(Z,on[v],v,on))}return k}}function yO(on,k,m,Z){if(!(on&&k)){return}if(on.reduce&&on.reduce===E0){return on.reduce(k,m,Z)}else{for(var v=0,e=on.length;v<e;v++){m=k.call(Z,m,on[v],v,on)}return m}}function sk(on,m,Z){if(!(on&&m)){return}if(on.filter&&on.filter===mT){return on.filter(m,Z)}else{var k=[];for(var v=0,e=on.length;v<e;v++){if(m.call(Z,on[v],v,on)){k.push(on[v])}}return k}}function sQ(Z,k,v){if(!(Z&&k)){return}for(var m=0,e=Z.length;m<e;m++){if(k.call(v,Z[m],m,Z)){return Z[m]}}}function k9(k,i){var e=In.call(arguments,2);return function(){return k.apply(i,e.concat(In.call(arguments)))}}function tT(i){var e=In.call(arguments,1);return function(){return i.apply(this,e.concat(In.call(arguments)))}}function IQ(e){return Bs.call(e)==="[object Array]"}function Hb(e){return typeof e==="function"}function xN(e){return Bs.call(e)==="[object String]"}function u7(i){var e=typeof i;return e==="function"||(!!i&&e==="object")}function xV(e){return !!yM[Bs.call(e)]}function J9(e){return !!cb[Bs.call(e)]}function aF(e){return typeof e==="object"&&typeof e.nodeType==="number"&&typeof e.ownerDocument==="object"}function ml(e){return e!==e}function g1(k){for(var m=0,e=arguments.length;m<e;m++){if(arguments[m]!=null){return arguments[m]}}}function kY(i,e){return i!=null?i:e}function kX(k,i,e){return k!=null?k:i!=null?i:e}function iL(){return Function.call.apply(In,arguments)}function Fx(i){if(typeof(i)==="number"){return[i,i,i,i]}var e=i.length;if(e===2){return[i[0],i[1],i[0],i[1]]}else{if(e===3){return[i[0],i[1],i[2],i[1]]}}return i}function bY(i,e){if(!i){throw new Error(e)}}function IB(e){if(e==null){return null}else{if(typeof e.trim==="function"){return e.trim()}else{return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}}var tG="__ec_primitive__";function B(e){e[tG]=true}function m2(e){return e[tG]}function qD(k){var i=IQ(k);this.data={};var m=this;(k instanceof qD)?k.each(e):(k&&qg(k,e));function e(Z,v){i?m.set(Z,v):m.set(v,Z)}}qD.prototype={constructor:qD,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,i){return(this.data[e]=i)},each:function(e,k){k!==void 0&&(e=k9(e,k));for(var i in this.data){this.data.hasOwnProperty(i)&&e(this.data[i],i)}},removeKey:function(e){delete this.data[e]}};function EI(e){return new qD(e)}function l2(m,k){var e=new m.constructor(m.length+k.length);for(var v=0;v<m.length;v++){e[v]=m[v]}var Z=m.length;for(v=0;v<k.length;v++){e[v+Z]=k[v]}return e}function Y(){}var yT=(Object.freeze||Object)({$override:CJ,clone:E5,merge:xF,mergeAll:ae,extend:cc,defaults:Fg,createCanvas:Fe,getContext:pM,indexOf:fc,inherits:nm,mixin:Iz,isArrayLike:ue,each:qg,map:Gj,reduce:yO,filter:sk,find:sQ,bind:k9,curry:tT,isArray:IQ,isFunction:Hb,isString:xN,isObject:u7,isBuiltInObject:xV,isTypedArray:J9,isDom:aF,eqNaN:ml,retrieve:g1,retrieve2:kY,retrieve3:kX,slice:iL,normalizeCssArray:Fx,assert:bY,trim:IB,setAsPrimitive:B,isPrimitive:m2,createHashMap:EI,concatArray:l2,noop:Y});var D=typeof Float32Array==="undefined"?Array:Float32Array;function Jk(e,k){var i=new D(2);if(e==null){e=0}if(k==null){k=0}i[0]=e;i[1]=k;return i}function Ar(i,e){i[0]=e[0];i[1]=e[1];return i}function wm(e){var i=new D(2);i[0]=e[0];i[1]=e[1];return i}function IX(k,i,e){k[0]=i;k[1]=e;return k}function v0(e,k,i){e[0]=k[0]+i[0];e[1]=k[1]+i[1];return e}function CY(i,m,k,e){i[0]=m[0]+k[0]*e;i[1]=m[1]+k[1]*e;return i}function DJ(e,k,i){e[0]=k[0]-i[0];e[1]=k[1]-i[1];return e}function eT(e){return Math.sqrt(nZ(e))}var n3=eT;function nZ(e){return e[0]*e[0]+e[1]*e[1]}var bK=nZ;function yz(e,k,i){e[0]=k[0]*i[0];e[1]=k[1]*i[1];return e}function wj(e,k,i){e[0]=k[0]/i[0];e[1]=k[1]/i[1];return e}function tR(i,e){return i[0]*e[0]+i[1]*e[1]}function JT(i,e,k){i[0]=e[0]*k;i[1]=e[1]*k;return i}function yj(i,e){var k=eT(e);if(k===0){i[0]=0;i[1]=0}else{i[0]=e[0]/k;i[1]=e[1]/k}return i}function BZ(i,e){return Math.sqrt((i[0]-e[0])*(i[0]-e[0])+(i[1]-e[1])*(i[1]-e[1]))}var FX=BZ;function GQ(i,e){return(i[0]-e[0])*(i[0]-e[0])+(i[1]-e[1])*(i[1]-e[1])}var cz=GQ;function lR(i,e){i[0]=-e[0];i[1]=-e[1];return i}function s2(e,m,k,i){e[0]=m[0]+i*(k[0]-m[0]);e[1]=m[1]+i*(k[1]-m[1]);return e}function a5(Z,k,i){var e=k[0];var on=k[1];Z[0]=i[0]*e+i[2]*on+i[4];Z[1]=i[1]*e+i[3]*on+i[5];return Z}function Dp(e,k,i){e[0]=Math.min(k[0],i[0]);e[1]=Math.min(k[1],i[1]);return e}function F9(e,k,i){e[0]=Math.max(k[0],i[0]);e[1]=Math.max(k[1],i[1]);return e}var GH=(Object.freeze||Object)({create:Jk,copy:Ar,clone:wm,set:IX,add:v0,scaleAndAdd:CY,sub:DJ,len:eT,length:n3,lenSquare:nZ,lengthSquare:bK,mul:yz,div:wj,dot:tR,scale:JT,normalize:yj,distance:BZ,dist:FX,distanceSquare:GQ,distSquare:cz,negate:lR,lerp:s2,applyTransform:a5,min:Dp,max:F9});function oc(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this)}oc.prototype={constructor:oc,_dragStart:function(k){var i=k.target;while(i&&!i.draggable){i=i.parent}if(i){this._draggingTarget=i;i.dragging=true;this._x=k.offsetX;this._y=k.offsetY;this.dispatchToElement(lF(i,k),"dragstart",k.event)}},_drag:function(on){var v=this._draggingTarget;if(v){var i=on.offsetX;var v2=on.offsetY;var m=i-this._x;var k=v2-this._y;this._x=i;this._y=v2;v.drift(m,k,on);this.dispatchToElement(lF(v,on),"drag",on.event);var v1=this.findHover(i,v2,v).target;var Z=this._dropTarget;this._dropTarget=v1;if(v!==v1){if(Z&&v1!==Z){this.dispatchToElement(lF(Z,on),"dragleave",on.event)}if(v1&&v1!==Z){this.dispatchToElement(lF(v1,on),"dragenter",on.event)}}}},_dragEnd:function(k){var i=this._draggingTarget;if(i){i.dragging=false}this.dispatchToElement(lF(i,k),"dragend",k.event);if(this._dropTarget){this.dispatchToElement(lF(this._dropTarget,k),"drop",k.event)}this._draggingTarget=null;this._dropTarget=null}};function lF(k,i){return{target:k,topTarget:i&&i.topTarget}}var zH=Array.prototype.slice;var Ij=function(e){this._$handlers={};this._$eventProcessor=e};Ij.prototype={constructor:Ij,one:function(k,m,i,e){return E8(this,k,m,i,e,true)},on:function(k,m,i,e){return E8(this,k,m,i,e,false)},isSilent:function(e){var i=this._$handlers;return !i[e]||!i[e].length},off:function(Z,v){var on=this._$handlers;if(!Z){this._$handlers={};return this}if(v){if(on[Z]){var m=[];for(var k=0,e=on[Z].length;k<e;k++){if(on[Z][k].h!==v){m.push(on[Z][k])}}on[Z]=m}if(on[Z]&&on[Z].length===0){delete on[Z]}}else{delete on[Z]}return this},trigger:function(on){var v1=this._$handlers[on];var v2=this._$eventProcessor;if(v1){var v=arguments;var m=v.length;if(m>3){v=zH.call(v,1)}var k=v1.length;for(var Z=0;Z<k;){var e=v1[Z];if(v2&&v2.filter&&e.query!=null&&!v2.filter(on,e.query)){Z++;continue}switch(m){case 1:e.h.call(e.ctx);break;case 2:e.h.call(e.ctx,v[1]);break;case 3:e.h.call(e.ctx,v[1],v[2]);break;default:e.h.apply(e.ctx,v);break}if(e.one){v1.splice(Z,1);k--}else{Z++}}}v2&&v2.afterTrigger&&v2.afterTrigger(on);return this},triggerWithContext:function(v2){var k=this._$handlers[v2];var Z=this._$eventProcessor;if(k){var v1=arguments;var on=v1.length;if(on>4){v1=zH.call(v1,1,v1.length-1)}var v3=v1[v1.length-1];var v=k.length;for(var m=0;m<v;){var e=k[m];if(Z&&Z.filter&&e.query!=null&&!Z.filter(v2,e.query)){m++;continue}switch(on){case 1:e.h.call(v3);break;case 2:e.h.call(v3,v1[1]);break;case 3:e.h.call(v3,v1[1],v1[2]);break;default:e.h.apply(v3,v1);break}if(e.one){k.splice(m,1);v--}else{m++}}}Z&&Z.afterTrigger&&Z.afterTrigger(v2);return this}};function Cb(e,i){var k=e._$eventProcessor;if(i!=null&&k&&k.normalizeQuery){i=k.normalizeQuery(i)}return i}function E8(v3,e,v1,KA,m,v2){var v=v3._$handlers;if(typeof v1==="function"){m=KA;KA=v1;v1=null}if(!KA||!e){return v3}v1=Cb(v3,v1);if(!v[e]){v[e]=[]}for(var Z=0;Z<v[e].length;Z++){if(v[e][Z].h===KA){return v3}}var k={h:KA,one:v2,query:v1,ctx:m||v3,callAtLast:KA.zrEventfulCallAtLast};var on=v[e].length-1;var Kz=v[e][on];(Kz&&Kz.callAtLast)?v[e].splice(on,0,k):v[e].push(k);return v3}var oF=Math.log(2);function wN(KD,Z,k,KC,KB,i){var v2=KC+"-"+KB;var v3=KD.length;if(i.hasOwnProperty(v2)){return i[v2]}if(Z===1){var v=Math.round(Math.log(((1<<v3)-1)&~KB)/oF);return KD[k][v]}var Kz=KC|(1<<k);var e=k+1;while(KC&(1<<e)){e++}var on=0;for(var m=0,KA=0;m<v3;m++){var v1=1<<m;if(!(v1&KB)){on+=(KA%2?-1:1)*KD[k][m]*wN(KD,Z-1,e,Kz,KB|v1,i);KA++}}i[v2]=on;return on}function BF(on,k){var Z=[[on[0],on[1],1,0,0,0,-k[0]*on[0],-k[0]*on[1]],[0,0,0,on[0],on[1],1,-k[1]*on[0],-k[1]*on[1]],[on[2],on[3],1,0,0,0,-k[2]*on[2],-k[2]*on[3]],[0,0,0,on[2],on[3],1,-k[3]*on[2],-k[3]*on[3]],[on[4],on[5],1,0,0,0,-k[4]*on[4],-k[4]*on[5]],[0,0,0,on[4],on[5],1,-k[5]*on[4],-k[5]*on[5]],[on[6],on[7],1,0,0,0,-k[6]*on[6],-k[6]*on[7]],[0,0,0,on[6],on[7],1,-k[7]*on[6],-k[7]*on[7]]];var v2={};var v=wN(Z,8,0,0,0,v2);if(v===0){return}var v1=[];for(var m=0;m<8;m++){for(var e=0;e<8;e++){v1[e]==null&&(v1[e]=0);v1[e]+=((m+e)%2?-1:1)*wN(Z,7,m===0?1:0,1<<m,1<<e,v2)/v*k[m]}}return function(Kz,v3,i){var KA=v3*v1[6]+i*v1[7]+1;Kz[0]=(v3*v1[0]+i*v1[1]+v1[2])/KA;Kz[1]=(v3*v1[3]+i*v1[4]+v1[5])/KA}}var xC="___zrEVENTSAVED";var sU=[];function G7(e,i,v,m,k){return qR(sU,i,m,k,true)&&qR(e,v,sU[0],sU[1])}function qR(k,m,on,Z,i){if(m.getBoundingClientRect&&uk.domSupported&&!z6(m)){var v=m[xC]||(m[xC]={});var v1=ju(m,v);var e=wn(v1,v,i);if(e){e(k,on,Z);return true}}return false}function ju(e,v3){var k=v3.markers;if(k){return k}k=v3.markers=[];var v1=["left","right"];var Z=["top","bottom"];for(var m=0;m<4;m++){var v=document.createElement("div");var Kz=v.style;var v2=m%2;var on=(m>>1)%2;Kz.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",v1[v2]+":0",Z[on]+":0",v1[1-v2]+":auto",Z[1-on]+":auto",""].join("!important;");e.appendChild(v);k.push(v)}return k}function wn(m,KB,v){var Kz=v?"invTrans":"trans";var on=KB[Kz];var k=KB.srcCoords;var KD=true;var KA=[];var e=[];for(var Z=0;Z<4;Z++){var v2=m[Z].getBoundingClientRect();var KC=2*Z;var v3=v2.left;var v1=v2.top;KA.push(v3,v1);KD=KD&&k&&v3===k[KC]&&v1===k[KC+1];e.push(m[Z].offsetLeft,m[Z].offsetTop)}return(KD&&on)?on:(KB.srcCoords=KA,KB[Kz]=v?BF(e,KA):BF(KA,e))}function z6(e){return e.nodeName.toUpperCase()==="CANVAS"}var cx=(typeof window!=="undefined")&&!!window.addEventListener;var Eq=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;var ia=[];function DR(m,v,i,k){i=i||{};if(k||!uk.canvasSupported){er(m,v,i)}else{if(uk.browser.firefox&&v.layerX!=null&&v.layerX!==v.offsetX){i.zrX=v.layerX;i.zrY=v.layerY}else{if(v.offsetX!=null){i.zrX=v.offsetX;i.zrY=v.offsetY}else{er(m,v,i)}}}return i}function er(v,on,k){if(uk.domSupported&&v.getBoundingClientRect){var m=on.clientX;var i=on.clientY;if(z6(v)){var Z=v.getBoundingClientRect();k.zrX=m-Z.left;k.zrY=i-Z.top;return}else{if(qR(ia,v,m,i)){k.zrX=ia[0];k.zrY=ia[1];return}}}k.zrX=k.zrY=0}function Eu(i){return i||window.event}function C4(Z,on,v){on=Eu(on);if(on.zrX!=null){return on}var m=on.type;var i=m&&m.indexOf("touch")>=0;if(!i){DR(Z,on,on,v);on.zrDelta=(on.wheelDelta)?on.wheelDelta/120:-(on.detail||0)/3}else{var v1=m!=="touchend"?on.targetTouches[0]:on.changedTouches[0];v1&&DR(Z,v1,on,v)}var k=on.button;if(on.which==null&&k!==undefined&&Eq.test(on.type)){on.which=(k&1?1:(k&2?3:(k&4?2:0)))}return on}function fR(m,e,k,i){if(cx){m.addEventListener(e,k,i)}else{m.attachEvent("on"+e,k)}}function rM(m,e,k,i){if(cx){m.removeEventListener(e,k,i)}else{m.detachEvent("on"+e,k)}}var I1=cx?function(i){i.preventDefault();i.stopPropagation();i.cancelBubble=true}:function(i){i.returnValue=false;i.cancelBubble=true};function ts(i){return i.which===2||i.which===3}var av=function(){this._track=[]};av.prototype={constructor:av,recognize:function(i,k,e){this._doTrack(i,k,e);return this._recognize(i)},clear:function(){this._track.length=0;return this},_doTrack:function(e,on,v3){var v=e.touches;if(!v){return}var v2={points:[],touches:[],target:on,event:e};for(var m=0,Z=v.length;m<Z;m++){var k=v[m];var v1=DR(v3,k,{});v2.points.push([v1.zrX,v1.zrY]);v2.touches.push(k)}this._track.push(v2)},_recognize:function(i){for(var e in ab){if(ab.hasOwnProperty(e)){var k=ab[e](this._track,i);if(k){return k}}}}};function dN(k){var i=k[1][0]-k[0][0];var e=k[1][1]-k[0][1];return Math.sqrt(i*i+e*e)}function iJ(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var ab={pinch:function(k,Z){var i=k.length;if(!i){return}var on=(k[i-1]||{}).points;var m=(k[i-2]||{}).points||on;if(m&&m.length>1&&on&&on.length>1){var v=dN(on)/dN(m);!isFinite(v)&&(v=1);Z.pinchScale=v;var e=iJ(on);Z.pinchX=e[0];Z.pinchY=e[1];return{type:"pinch",target:k[0].target,event:Z}}}};var Kx="silent";function yh(i,k,e){return{type:i,event:e,target:k.target,topTarget:k.topTarget,cancelBubble:false,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:Ct}}function Ct(){I1(this.event)}function Kv(){}Kv.prototype.dispose=function(){};var sY=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var eQ=function(m,e,i,k){Ij.call(this);this.storage=m;this.painter=e;this.painterRoot=k;i=i||new Kv();this.proxy=null;this._hovered={};this._lastTouchMoment;this._lastX;this._lastY;this._gestureMgr;oc.call(this);this.setHandlerProxy(i)};eQ.prototype={constructor:eQ,setHandlerProxy:function(e){if(this.proxy){this.proxy.dispose()}if(e){qg(sY,function(i){e.on&&e.on(i,this[i],this)},this);e.handler=this}this.proxy=e},mousemove:function(e){var v1=e.zrX;var on=e.zrY;var k=m0(this,v1,on);var v=this._hovered;var m=v.target;if(m&&!m.__zr){v=this.findHover(v.x,v.y);m=v.target}var i=this._hovered=k?{x:v1,y:on}:this.findHover(v1,on);var v2=i.target;var Z=this.proxy;Z.setCursor&&Z.setCursor(v2?v2.cursor:"default");if(m&&v2!==m){this.dispatchToElement(v,"mouseout",e)}this.dispatchToElement(i,"mousemove",e);if(v2&&v2!==m){this.dispatchToElement(i,"mouseover",e)}},mouseout:function(i){var k=i.zrEventControl;var e=i.zrIsToLocalDOM;if(k!=="only_globalout"){this.dispatchToElement(this._hovered,"mouseout",i)}if(k!=="no_globalout"){!e&&this.trigger("globalout",{type:"globalout",event:i})}},resize:function(e){this._hovered={}},dispatch:function(i,e){var k=this[i];k&&k.call(this,e)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var i=this.proxy;i.setCursor&&i.setCursor(e)},dispatchToElement:function(Z,e,m){Z=Z||{};var k=Z.target;if(k&&k.silent){return}var i="on"+e;var v=yh(e,Z,m);while(k){k[i]&&(v.cancelBubble=k[i].call(k,v));k.trigger(e,v);k=k.parent;if(v.cancelBubble){break}}if(!v.cancelBubble){this.trigger(e,v);this.painter&&this.painter.eachOtherLayer(function(on){if(typeof(on[i])==="function"){on[i].call(on,v)}if(on.trigger){on.trigger(e,v)}})}},findHover:function(e,v1,k){var Z=this.storage.getDisplayList();var m={x:e,y:v1};for(var v=Z.length-1;v>=0;v--){var on;if(Z[v]!==k&&!Z[v].ignore&&(on=zC(Z[v],e,v1))){!m.topTarget&&(m.topTarget=Z[v]);if(on!==Kx){m.target=Z[v];break}}}return m},processGesture:function(k,e){if(!this._gestureMgr){this._gestureMgr=new av()}var m=this._gestureMgr;e==="start"&&m.clear();var v=m.recognize(k,this.findHover(k.zrX,k.zrY,null).target,this.proxy.dom);e==="end"&&m.clear();if(v){var i=v.type;k.gestureEvent=i;this.dispatchToElement({target:v.target},i,v.event)}}};qg(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){eQ.prototype[e]=function(Z){var k=Z.zrX;var on=Z.zrY;var m=m0(this,k,on);var v;var i;if(e!=="mouseup"||!m){v=this.findHover(k,on);i=v.target}if(e==="mousedown"){this._downEl=i;this._downPoint=[Z.zrX,Z.zrY];this._upEl=i}else{if(e==="mouseup"){this._upEl=i}else{if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||FX(this._downPoint,[Z.zrX,Z.zrY])>4){return}this._downPoint=null}}}this.dispatchToElement(v,e,Z)}});function zC(i,e,v){if(i[i.rectHover?"rectContain":"contain"](e,v)){var k=i;var m;while(k){if(k.clipPath&&!k.clipPath.contain(e,v)){return false}if(k.silent){m=true}k=k.parent}return m?Kx:true}return false}function m0(k,e,m){var i=k.painter;return e<0||e>i.getWidth()||m<0||m>i.getHeight()}Iz(eQ,Ij);Iz(eQ,oc);var EZ=typeof Float32Array==="undefined"?Array:Float32Array;function Ez(){var e=new EZ(6);mF(e);return e}function mF(e){e[0]=1;e[1]=0;e[2]=0;e[3]=1;e[4]=0;e[5]=0;return e}function Bj(i,e){i[0]=e[0];i[1]=e[1];i[2]=e[2];i[3]=e[3];i[4]=e[4];i[5]=e[5];return i}function n(i,v1,Z){var e=v1[0]*Z[0]+v1[2]*Z[1];var v2=v1[1]*Z[0]+v1[3]*Z[1];var on=v1[0]*Z[2]+v1[2]*Z[3];var v=v1[1]*Z[2]+v1[3]*Z[3];var m=v1[0]*Z[4]+v1[2]*Z[5]+v1[4];var k=v1[1]*Z[4]+v1[3]*Z[5]+v1[5];i[0]=e;i[1]=v2;i[2]=on;i[3]=v;i[4]=m;i[5]=k;return i}function wV(k,e,i){k[0]=e[0];k[1]=e[1];k[2]=e[2];k[3]=e[3];k[4]=e[4]+i[0];k[5]=e[5]+i[1];return k}function k5(i,on,Z){var e=on[0];var v3=on[2];var v=on[4];var Kz=on[1];var v1=on[3];var k=on[5];var v2=Math.sin(Z);var m=Math.cos(Z);i[0]=e*m+Kz*v2;i[1]=-e*v2+Kz*m;i[2]=v3*m+v1*v2;i[3]=-v3*v2+m*v1;i[4]=m*v+v2*k;i[5]=m*k-v2*v;return i}function sc(k,e,i){var Z=i[0];var m=i[1];k[0]=e[0]*Z;k[1]=e[1]*m;k[2]=e[2]*Z;k[3]=e[3]*m;k[4]=e[4]*Z;k[5]=e[5]*m;return k}function f7(i,Z){var e=Z[0];var v1=Z[2];var m=Z[4];var v2=Z[1];var on=Z[3];var k=Z[5];var v=e*on-v2*v1;if(!v){return null}v=1/v;i[0]=on*v;i[1]=-v2*v;i[2]=-v1*v;i[3]=e*v;i[4]=(v1*k-on*m)*v;i[5]=(v2*m-e*k)*v;return i}function wi(i){var e=Ez();Bj(e,i);return e}var lp=(Object.freeze||Object)({create:Ez,identity:mF,copy:Bj,mul:n,translate:wV,rotate:k5,scale:sc,invert:f7,clone:wi});var uZ=mF;var oR=0.00005;function jf(e){return e>oR||e<-oR}var bV=function(e){e=e||{};if(!e.position){this.position=[0,0]}if(e.rotation==null){this.rotation=0}if(!e.scale){this.scale=[1,1]}this.origin=this.origin||null};var kH=bV.prototype;kH.transform=null;kH.needLocalTransform=function(){return jf(this.rotation)||jf(this.position[0])||jf(this.position[1])||jf(this.scale[0]-1)||jf(this.scale[1]-1)};var IV=[];kH.updateTransform=function(){var v3=this.parent;var e=v3&&v3.transform;var i=this.needLocalTransform();var v=this.transform;if(!(i||e)){v&&uZ(v);return}v=v||Ez();if(i){this.getLocalTransform(v)}else{uZ(v)}if(e){if(i){n(v,v3.transform,v)}else{Bj(v,v3.transform)}}this.transform=v;var k=this.globalScaleRatio;if(k!=null&&k!==1){this.getGlobalScale(IV);var v2=IV[0]<0?-1:1;var v1=IV[1]<0?-1:1;var on=((IV[0]-v2)*k+v2)/IV[0]||0;var Z=((IV[1]-v1)*k+v1)/IV[1]||0;v[0]*=on;v[1]*=on;v[2]*=Z;v[3]*=Z}this.invTransform=this.invTransform||Ez();f7(this.invTransform,v)};kH.getLocalTransform=function(e){return bV.getLocalTransform(this,e)};kH.setTransform=function(i){var e=this.transform;var k=i.dpr||1;if(e){i.setTransform(k*e[0],k*e[1],k*e[2],k*e[3],k*e[4],k*e[5])}else{i.setTransform(k,0,0,k,0,0)}};kH.restoreTransform=function(e){var i=e.dpr||1;e.setTransform(i,0,0,i,0,0)};var ic=[];var Gl=Ez();kH.setLocalTransform=function(i){if(!i){return}var Z=i[0]*i[0]+i[1]*i[1];var v=i[2]*i[2]+i[3]*i[3];var e=this.position;var k=this.scale;if(jf(Z-1)){Z=Math.sqrt(Z)}if(jf(v-1)){v=Math.sqrt(v)}if(i[0]<0){Z=-Z}if(i[3]<0){v=-v}e[0]=i[4];e[1]=i[5];k[0]=Z;k[1]=v;this.rotation=Math.atan2(-i[1]/v,i[0]/Z)};kH.decomposeTransform=function(){if(!this.transform){return}var k=this.parent;var e=this.transform;if(k&&k.transform){n(ic,k.invTransform,e);e=ic}var i=this.origin;if(i&&(i[0]||i[1])){Gl[4]=i[0];Gl[5]=i[1];n(ic,e,Gl);ic[4]-=i[0];ic[5]-=i[1];e=ic}this.setLocalTransform(e)};kH.getGlobalScale=function(i){var e=this.transform;i=i||[];if(!e){i[0]=1;i[1]=1;return i}i[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]);i[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]);if(e[0]<0){i[0]=-i[0]}if(e[3]<0){i[1]=-i[1]}return i};kH.transformCoordToLocal=function(e,m){var k=[e,m];var i=this.invTransform;if(i){a5(k,k,i)}return k};kH.transformCoordToGlobal=function(e,m){var k=[e,m];var i=this.transform;if(i){a5(k,k,i)}return k};bV.getLocalTransform=function(on,i){i=i||[];uZ(i);var v=on.origin;var k=on.scale||[1,1];var Z=on.rotation||0;var e=on.position||[0,0];if(v){i[4]-=v[0];i[5]-=v[1]}sc(i,i,k);if(Z){k5(i,i,Z)}if(v){i[4]+=v[0];i[5]+=v[1]}i[4]+=e[0];i[5]+=e[1];return i};var fu={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){if((e*=2)<1){return 0.5*e*e}return -0.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return --e*e*e+1},cubicInOut:function(e){if((e*=2)<1){return 0.5*e*e*e}return 0.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1-(--e*e*e*e)},quarticInOut:function(e){if((e*=2)<1){return 0.5*e*e*e*e}return -0.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return --e*e*e*e*e+1},quinticInOut:function(e){if((e*=2)<1){return 0.5*e*e*e*e*e}return 0.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return 0.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){if(e===0){return 0}if(e===1){return 1}if((e*=2)<1){return 0.5*Math.pow(1024,e-1)}return 0.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1-(--e*e))},circularInOut:function(e){if((e*=2)<1){return -0.5*(Math.sqrt(1-e*e)-1)}return 0.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(i){var m;var e=0.1;var v=0.4;if(i===0){return 0}if(i===1){return 1}if(!e||e<1){e=1;m=v/4}else{m=v*Math.asin(1/e)/(2*Math.PI)}return -(e*Math.pow(2,10*(i-=1))*Math.sin((i-m)*(2*Math.PI)/v))},elasticOut:function(i){var m;var e=0.1;var v=0.4;if(i===0){return 0}if(i===1){return 1}if(!e||e<1){e=1;m=v/4}else{m=v*Math.asin(1/e)/(2*Math.PI)}return(e*Math.pow(2,-10*i)*Math.sin((i-m)*(2*Math.PI)/v)+1)},elasticInOut:function(i){var m;var e=0.1;var v=0.4;if(i===0){return 0}if(i===1){return 1}if(!e||e<1){e=1;m=v/4}else{m=v*Math.asin(1/e)/(2*Math.PI)}if((i*=2)<1){return -0.5*(e*Math.pow(2,10*(i-=1))*Math.sin((i-m)*(2*Math.PI)/v))}return e*Math.pow(2,-10*(i-=1))*Math.sin((i-m)*(2*Math.PI)/v)*0.5+1},backIn:function(e){var i=1.70158;return e*e*((i+1)*e-i)},backOut:function(e){var i=1.70158;return --e*e*((i+1)*e+i)+1},backInOut:function(e){var i=1.70158*1.525;if((e*=2)<1){return 0.5*(e*e*((i+1)*e-i))}return 0.5*((e-=2)*e*((i+1)*e+i)+2)},bounceIn:function(e){return 1-fu.bounceOut(1-e)},bounceOut:function(e){if(e<(1/2.75)){return 7.5625*e*e}else{if(e<(2/2.75)){return 7.5625*(e-=(1.5/2.75))*e+0.75}else{if(e<(2.5/2.75)){return 7.5625*(e-=(2.25/2.75))*e+0.9375}else{return 7.5625*(e-=(2.625/2.75))*e+0.984375}}}},bounceInOut:function(e){if(e<0.5){return fu.bounceIn(e*2)*0.5}return fu.bounceOut(e*2-1)*0.5+0.5}};function fa(e){this._target=e.target;this._life=e.life||1000;this._delay=e.delay||0;this._initialized=false;this.loop=e.loop==null?false:e.loop;this.gap=e.gap||0;this.easing=e.easing||"Linear";this.onframe=e.onframe;this.ondestroy=e.ondestroy;this.onrestart=e.onrestart;this._pausedTime=0;this._paused=false}fa.prototype={constructor:fa,step:function(e,k){if(!this._initialized){this._startTime=e+this._delay;this._initialized=true}if(this._paused){this._pausedTime+=k;return}var v=(e-this._startTime-this._pausedTime)/this._life;if(v<0){return}v=Math.min(v,1);var m=this.easing;var i=typeof m==="string"?fu[m]:m;var Z=typeof i==="function"?i(v):v;this.fire("frame",Z);if(v===1){if(this.loop){this.restart(e);return"restart"}this._needsRemove=true;return"destroy"}return null},restart:function(e){var i=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-i+this.gap;this._pausedTime=0;this._needsRemove=false},fire:function(i,e){i="on"+i;if(this[i]){this[i](this._target,e)}},pause:function(){this._paused=true},resume:function(){this._paused=false}};var d7=function(){this.head=null;this.tail=null;this._len=0};var lm=d7.prototype;lm.insert=function(i){var e=new s1(i);this.insertEntry(e);return e};lm.insertEntry=function(e){if(!this.head){this.head=this.tail=e}else{this.tail.next=e;e.prev=this.tail;e.next=null;this.tail=e}this._len++};lm.remove=function(k){var i=k.prev;var e=k.next;if(i){i.next=e}else{this.head=e}if(e){e.prev=i}else{this.tail=i}k.next=k.prev=null;this._len--};lm.len=function(){return this._len};lm.clear=function(){this.head=this.tail=null;this._len=0};var s1=function(e){this.value=e;this.next;this.prev};var my=function(e){this._list=new d7();this._map={};this._maxSize=e||10;this._lastRemovedEntry=null};var BN=my.prototype;BN.put=function(i,v){var m=this._list;var v1=this._map;var on=null;if(v1[i]==null){var e=m.len();var k=this._lastRemovedEntry;if(e>=this._maxSize&&e>0){var Z=m.head;m.remove(Z);delete v1[Z.key];on=Z.value;this._lastRemovedEntry=Z}if(k){k.value=v}else{k=new s1(v)}k.key=i;m.insertEntry(k);v1[i]=k}return on};BN.get=function(e){var i=this._map[e];var k=this._list;if(i!=null){if(i!==k.tail){k.remove(i);k.insertEntry(i)}return i.value}};BN.clear=function(){this._list.clear();this._map={}};var jp={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function cG(e){e=Math.round(e);return e<0?0:e>255?255:e}function nw(e){e=Math.round(e);return e<0?0:e>360?360:e}function CC(e){return e<0?0:e>1?1:e}function j1(e){if(e.length&&e.charAt(e.length-1)==="%"){return cG(parseFloat(e)/100*255)}return cG(parseInt(e,10))}function w0(e){if(e.length&&e.charAt(e.length-1)==="%"){return CC(parseFloat(e)/100)}return CC(parseFloat(e))}function EL(i,e,k){if(k<0){k+=1}else{if(k>1){k-=1}}if(k*6<1){return i+(e-i)*k*6}if(k*2<1){return e}if(k*3<2){return i+(e-i)*(2/3-k)*6}return i}function Bw(i,e,k){return i+(e-i)*k}function Gk(k,v,m,e,i){k[0]=v;k[1]=m;k[2]=e;k[3]=i;return k}function e0(i,e){i[0]=e[0];i[1]=e[1];i[2]=e[2];i[3]=e[3];return i}var Iu=new my(20);var ik=null;function AM(e,i){if(ik){e0(ik,i)}ik=Iu.put(e,ik||(i.slice()))}function fk(v2,e){if(!v2){return}e=e||[];var k=Iu.get(v2);if(k){return e0(e,k)}v2=v2+"";var v1=v2.replace(/ /g,"").toLowerCase();if(v1 in jp){e0(e,jp[v1]);AM(v2,e);return e}if(v1.charAt(0)==="#"){if(v1.length===4){var Z=parseInt(v1.substr(1),16);if(!(Z>=0&&Z<=4095)){Gk(e,0,0,0,1);return}Gk(e,((Z&3840)>>4)|((Z&3840)>>8),(Z&240)|((Z&240)>>4),(Z&15)|((Z&15)<<4),1);AM(v2,e);return e}else{if(v1.length===7){var Z=parseInt(v1.substr(1),16);if(!(Z>=0&&Z<=16777215)){Gk(e,0,0,0,1);return}Gk(e,(Z&16711680)>>16,(Z&65280)>>8,Z&255,1);AM(v2,e);return e}}return}var on=v1.indexOf("(");var v3=v1.indexOf(")");if(on!==-1&&v3+1===v1.length){var i=v1.substr(0,on);var v=v1.substr(on+1,v3-(on+1)).split(",");var m=1;switch(i){case"rgba":if(v.length!==4){Gk(e,0,0,0,1);return}m=w0(v.pop());case"rgb":if(v.length!==3){Gk(e,0,0,0,1);return}Gk(e,j1(v[0]),j1(v[1]),j1(v[2]),m);AM(v2,e);return e;case"hsla":if(v.length!==4){Gk(e,0,0,0,1);return}v[3]=w0(v[3]);x5(v,e);AM(v2,e);return e;case"hsl":if(v.length!==3){Gk(e,0,0,0,1);return}x5(v,e);AM(v2,e);return e;default:return}}Gk(e,0,0,0,1);return}function x5(on,m){var Z=(((parseFloat(on[0])%360)+360)%360)/360;var v=w0(on[1]);var e=w0(on[2]);var i=e<=0.5?e*(v+1):e+v-e*v;var k=e*2-i;m=m||[];Gk(m,cG(EL(k,i,Z+1/3)*255),cG(EL(k,i,Z)*255),cG(EL(k,i,Z-1/3)*255),1);if(on.length===4){m[3]=on[3]}return m}function DK(v){if(!v){return}var on=v[0]/255;var KB=v[1]/255;var k=v[2]/255;var v2=Math.min(on,KB,k);var KC=Math.max(on,KB,k);var KA=KC-v2;var v3=(KC+v2)/2;var Kz;var Z;if(KA===0){Kz=0;Z=0}else{if(v3<0.5){Z=KA/(KC+v2)}else{Z=KA/(2-KC-v2)}var v1=(((KC-on)/6)+(KA/2))/KA;var i=(((KC-KB)/6)+(KA/2))/KA;var m=(((KC-k)/6)+(KA/2))/KA;if(on===KC){Kz=m-i}else{if(KB===KC){Kz=(1/3)+v1-m}else{if(k===KC){Kz=(2/3)+i-v1}}}if(Kz<0){Kz+=1}if(Kz>1){Kz-=1}}var e=[Kz*360,Z,v3];if(v[3]!=null){e.push(v[3])}return e}function nP(e,v){var m=fk(e);if(m){for(var k=0;k<3;k++){if(v<0){m[k]=m[k]*(1-v)|0}else{m[k]=((255-m[k])*v+m[k])|0}if(m[k]>255){m[k]=255}else{if(e[k]<0){m[k]=0}}}return x1(m,m.length===4?"rgba":"rgb")}}function A5(e){var i=fk(e);if(i){return((1<<24)+(i[0]<<16)+(i[1]<<8)+(+i[2])).toString(16).slice(1)}}function S(Z,e,m){if(!(e&&e.length)||!(Z>=0&&Z<=1)){return}m=m||[];var v1=Z*(e.length-1);var on=Math.floor(v1);var k=Math.ceil(v1);var v=e[on];var v2=e[k];var i=v1-on;m[0]=cG(Bw(v[0],v2[0],i));m[1]=cG(Bw(v[1],v2[1],i));m[2]=cG(Bw(v[2],v2[2],i));m[3]=CC(Bw(v[3],v2[3],i));return m}var GT=S;function wb(on,e,k){if(!(e&&e.length)||!(on>=0&&on<=1)){return}var v2=on*(e.length-1);var v1=Math.floor(v2);var m=Math.ceil(v2);var Z=fk(e[v1]);var v3=fk(e[m]);var i=v2-v1;var v=x1([cG(Bw(Z[0],v3[0],i)),cG(Bw(Z[1],v3[1],i)),cG(Bw(Z[2],v3[2],i)),CC(Bw(Z[3],v3[3],i))],"rgba");return k?{color:v,leftIndex:v1,rightIndex:m,value:v2}:v}var Dg=wb;function mo(i,m,k,e){i=fk(i);if(i){i=DK(i);m!=null&&(i[0]=nw(m));k!=null&&(i[1]=w0(k));e!=null&&(i[2]=w0(e));return x1(x5(i),"rgba")}}function iX(e,i){e=fk(e);if(e&&i!=null){e[3]=CC(i);return x1(e,"rgba")}}function x1(k,i){if(!k||!k.length){return}var e=k[0]+","+k[1]+","+k[2];if(i==="rgba"||i==="hsva"||i==="hsla"){e+=","+k[3]}return i+"("+e+")"}var yg=(Object.freeze||Object)({parse:fk,lift:nP,toHex:A5,fastLerp:S,fastMapToColor:GT,lerp:wb,mapToColor:Dg,modifyHSL:mo,modifyAlpha:iX,stringify:x1});var gm=Array.prototype.slice;function Ce(i,e){return i[e]}function AY(k,e,i){k[e]=i}function IY(k,i,e){return(i-k)*e+k}function DC(k,i,e){return e>0.5?i:k}function d0(v3,v2,on,m,v1){var Z=v3.length;if(v1===1){for(var v=0;v<Z;v++){m[v]=IY(v3[v],v2[v],on)}}else{var e=Z&&v3[0].length;for(var v=0;v<Z;v++){for(var k=0;k<e;k++){m[v][k]=IY(v3[v][k],v2[v][k],on)}}}}function fg(v2,on,Z){var v1=v2.length;var v=on.length;if(v1!==v){var v3=v1>v;if(v3){v2.length=v}else{for(var m=v1;m<v;m++){v2.push(Z===1?on[m]:gm.call(on[m]))}}}var e=v2[0]&&v2[0].length;for(var m=0;m<v2.length;m++){if(Z===1){if(isNaN(v2[m])){v2[m]=on[m]}}else{for(var k=0;k<e;k++){if(isNaN(v2[m][k])){v2[m][k]=on[m][k]}}}}}function eH(on,v,v1){if(on===v){return true}var e=on.length;if(e!==v.length){return false}if(v1===1){for(var Z=0;Z<e;Z++){if(on[Z]!==v[Z]){return false}}}else{var k=on[0].length;for(var Z=0;Z<e;Z++){for(var m=0;m<k;m++){if(on[Z][m]!==v[Z][m]){return false}}}}return true}function yL(KB,KA,Kz,v3,KC,on,Z,m,v2){var v1=KB.length;if(v2===1){for(var v=0;v<v1;v++){m[v]=k6(KB[v],KA[v],Kz[v],v3[v],KC,on,Z)}}else{var e=KB[0].length;for(var v=0;v<v1;v++){for(var k=0;k<e;k++){m[v][k]=k6(KB[v][k],KA[v][k],Kz[v][k],v3[v][k],KC,on,Z)}}}}function k6(v1,on,v,m,v2,i,e){var Z=(v-v1)*0.5;var k=(m-on)*0.5;return(2*(on-v)+Z+k)*e+(-3*(on-v)-2*Z-k)*i+Z*v2+on}function qU(v){if(ue(v)){var e=v.length;if(ue(v[0])){var k=[];for(var m=0;m<e;m++){k.push(gm.call(v[m]))}return k}return gm.call(v)}return v}function oY(e){e[0]=Math.floor(e[0]);e[1]=Math.floor(e[1]);e[2]=Math.floor(e[2]);return"rgba("+e.join(",")+")"}function a2(i){var e=i[i.length-1].value;return ue(e&&e[0])?2:1}function uf(KY,KK,KG,KI,KH,KV){var KD=KY._getter;var KW=KY._setter;var KS=KK==="spline";var k=KI.length;if(!k){return}var KN=KI[0].value;var KP=ue(KN);var v2=false;var Z=false;var Kz=KP?a2(KI):0;var KE;KI.sort(function(KZ,i){return KZ.time-i.time});KE=KI[k-1].time;var KR=[];var KX=[];var KO=KI[0].value;var KJ=true;for(var KQ=0;KQ<k;KQ++){KR.push(KI[KQ].time/KE);var KM=KI[KQ].value;if(!((KP&&eH(KM,KO,Kz))||(!KP&&KM===KO))){KJ=false}KO=KM;if(typeof KM==="string"){var KC=fk(KM);if(KC){KM=KC;v2=true}else{Z=true}}KX.push(KM)}if(!KV&&KJ){return}var v3=KX[k-1];for(var KQ=0;KQ<k-1;KQ++){if(KP){fg(KX[KQ],v3,Kz)}else{if(isNaN(KX[KQ])&&!isNaN(v3)&&!Z&&!v2){KX[KQ]=v3}}}KP&&fg(KD(KY._target,KH),v3,Kz);var e=0;var KL=0;var KA;var KF;var v1;var on;var v;var m;if(v2){var KB=[0,0,0,0]}var KU=function(K1,KZ){var K2;if(KZ<0){K2=0}else{if(KZ<KL){KA=Math.min(e+1,k-1);for(K2=KA;K2>=0;K2--){if(KR[K2]<=KZ){break}}K2=Math.min(K2,k-2)}else{for(K2=e;K2<k;K2++){if(KR[K2]>KZ){break}}K2=Math.min(K2-1,k-2)}}e=K2;KL=KZ;var i=(KR[K2+1]-KR[K2]);if(i===0){return}else{KF=(KZ-KR[K2])/i}if(KS){on=KX[K2];v1=KX[K2===0?K2:K2-1];v=KX[K2>k-2?k-1:K2+1];m=KX[K2>k-3?k-1:K2+2];if(KP){yL(v1,on,v,m,KF,KF*KF,KF*KF*KF,KD(K1,KH),Kz)}else{var K0;if(v2){K0=yL(v1,on,v,m,KF,KF*KF,KF*KF*KF,KB,1);K0=oY(KB)}else{if(Z){return DC(on,v,KF)}else{K0=k6(v1,on,v,m,KF,KF*KF,KF*KF*KF)}}KW(K1,KH,K0)}}else{if(KP){d0(KX[K2],KX[K2+1],KF,KD(K1,KH),Kz)}else{var K0;if(v2){d0(KX[K2],KX[K2+1],KF,KB,1);K0=oY(KB)}else{if(Z){return DC(KX[K2],KX[K2+1],KF)}else{K0=IY(KX[K2],KX[K2+1],KF)}}KW(K1,KH,K0)}}};var KT=new fa({target:KY._target,life:KE,loop:KY._loop,delay:KY._delay,onframe:KU,ondestroy:KG});if(KK&&KK!=="spline"){KT.easing=KK}return KT}var hn=function(k,i,e,m){this._tracks={};this._target=k;this._loop=i||false;this._getter=e||Ce;this._setter=m||AY;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};hn.prototype={when:function(v,i){var e=this._tracks;for(var m in i){if(!i.hasOwnProperty(m)){continue}if(!e[m]){e[m]=[];var k=this._getter(this._target,m);if(k==null){continue}if(v!==0){e[m].push({time:0,value:qU(k)})}}e[m].push({time:v,value:i[m]})}return this},during:function(e){this._onframeList.push(e);return this},pause:function(){for(var e=0;e<this._clipList.length;e++){this._clipList[e].pause()}this._paused=true},resume:function(){for(var e=0;e<this._clipList.length;e++){this._clipList[e].resume()}this._paused=false},isPaused:function(){return !!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=0;var m=this._doneList;var e=m.length;for(var k=0;k<e;k++){m[k].call(this)}},start:function(on,Z){var v1=this;var i=0;var k=function(){i--;if(!i){v1._doneCallback()}};var e;for(var v in this._tracks){if(!this._tracks.hasOwnProperty(v)){continue}var m=uf(this,on,k,this._tracks[v],v,Z);if(m){this._clipList.push(m);i++;if(this.animation){this.animation.addClip(m)}e=m}}if(e){var v2=e.onframe;e.onframe=function(KA,Kz){v2(KA,Kz);for(var v3=0;v3<v1._onframeList.length;v3++){v1._onframeList[v3](KA,Kz)}}}if(!i){this._doneCallback()}return this},stop:function(e){var m=this._clipList;var Z=this.animation;for(var k=0;k<m.length;k++){var v=m[k];if(e){v.onframe(this._target,1)}Z&&Z.removeClip(v)}m.length=0},delay:function(e){this._delay=e;return this},done:function(e){if(e){this._doneList.push(e)}return this},getClips:function(){return this._clipList}};var tt=1;if(typeof window!=="undefined"){tt=Math.max(window.devicePixelRatio||1,1)}var sS=0;var iH=tt;var lE=function(){};if(sS===1){lE=console.error}var Dc=lE;var vY=function(){this.animators=[]};vY.prototype={constructor:vY,animate:function(KB,v1){var v2;var KA=false;var k=this;var v3=this.__zr;if(KB){var Kz=KB.split(".");var e=k;KA=Kz[0]==="shape";for(var on=0,v=Kz.length;on<v;on++){if(!e){continue}e=e[Kz[on]]}if(e){v2=e}}else{v2=k}if(!v2){Dc('Property "'+KB+'" is not existed in element '+k.id);return}var Z=k.animators;var m=new hn(v2,v1);m.during(function(i){k.dirty(KA)}).done(function(){Z.splice(fc(Z,m),1)});Z.push(m);if(v3){v3.animation.addAnimator(m)}return m},stopAnimation:function(k){var v=this.animators;var e=v.length;for(var m=0;m<e;m++){v[m].stop(k)}v.length=0;return this},animateTo:function(m,k,e,Z,v,i){yn(this,m,k,e,Z,v,i)},animateFrom:function(m,k,e,Z,v,i){yn(this,m,k,e,Z,v,i,true)}};function yn(v1,v3,e,Z,KA,KB,on,Kz){if(xN(Z)){KB=KA;KA=Z;Z=0}else{if(Hb(KA)){KB=KA;KA="linear";Z=0}else{if(Hb(Z)){KB=Z;Z=0}else{if(Hb(e)){KB=e;e=500}else{if(!e){e=500}}}}}v1.stopAnimation();jG(v1,"",v1,v3,e,Z,Kz);var m=v1.animators.slice();var v2=m.length;function k(){v2--;if(!v2){KB&&KB()}}if(!v2){KB&&KB()}for(var v=0;v<m.length;v++){m[v].done(k).start(KA,on)}}function jG(on,v3,e,v1,v,Z,v2){var m={};var k=0;for(var i in v1){if(!v1.hasOwnProperty(i)){continue}if(e[i]!=null){if(u7(v1[i])&&!ue(v1[i])){jG(on,v3?v3+"."+i:i,e[i],v1[i],v,Z,v2)}else{if(v2){m[i]=e[i];bi(on,v3,i,v1[i])}else{m[i]=v1[i]}k++}}else{if(v1[i]!=null&&!v2){bi(on,v3,i,v1[i])}}}if(k>0){on.animate(v3,false).when(v==null?500:v,m).delay(Z||0)}}function bi(k,v,e,m){if(!v){k.attr(e,m)}else{var i={};i[v]={};i[v][e]=m;k.attr(i)}}var up=function(e){bV.call(this,e);Ij.call(this,e);vY.call(this,e);this.id=e.id||dI()};up.prototype={type:"element",name:"",__zr:null,ignore:false,clipPath:null,isGroup:false,drift:function(k,i){switch(this.draggable){case"horizontal":i=0;break;case"vertical":k=0;break}var e=this.transform;if(!e){e=this.transform=[1,0,0,1,0,0]}e[4]+=k;e[5]+=i;this.decomposeTransform();this.dirty(false)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,i){},attrKV:function(e,i){if(e==="position"||e==="scale"||e==="origin"){if(i){var k=this[e];if(!k){k=this[e]=[]}k[0]=i[0];k[1]=i[1]}}else{this[e]=i}},hide:function(){this.ignore=true;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=false;this.__zr&&this.__zr.refresh()},attr:function(i,k){if(typeof i==="string"){this.attrKV(i,k)}else{if(u7(i)){for(var e in i){if(i.hasOwnProperty(e)){this.attrKV(e,i[e])}}}}this.dirty(false);return this},setClipPath:function(e){var i=this.__zr;if(i){e.addSelfToZr(i)}if(this.clipPath&&this.clipPath!==e){this.removeClipPath()}this.clipPath=e;e.__zr=i;e.__clipTarget=this;this.dirty(false)},removeClipPath:function(){var e=this.clipPath;if(e){if(e.__zr){e.removeSelfFromZr(e.__zr)}e.__zr=null;e.__clipTarget=null;this.clipPath=null;this.dirty(false)}},addSelfToZr:function(m){this.__zr=m;var k=this.animators;if(k){for(var e=0;e<k.length;e++){m.animation.addAnimator(k[e])}}if(this.clipPath){this.clipPath.addSelfToZr(m)}},removeSelfFromZr:function(m){this.__zr=null;var k=this.animators;if(k){for(var e=0;e<k.length;e++){m.animation.removeAnimator(k[e])}}if(this.clipPath){this.clipPath.removeSelfFromZr(m)}}};Iz(up,vY);Iz(up,bV);Iz(up,Ij);var Jl=a5;var yD=Math.min;var BS=Math.max;function EG(i,m,k,e){if(k<0){i=i+k;k=-k}if(e<0){m=m+e;e=-e}this.x=i;this.y=m;this.width=k;this.height=e}EG.prototype={constructor:EG,union:function(i){var e=yD(i.x,this.x);var k=yD(i.y,this.y);this.width=BS(i.x+i.width,this.x+this.width)-e;this.height=BS(i.y+i.height,this.y+this.height)-k;this.x=e;this.y=k},applyTransform:(function(){var e=[];var m=[];var k=[];var i=[];return function(v){if(!v){return}e[0]=k[0]=this.x;e[1]=i[1]=this.y;m[0]=i[0]=this.x+this.width;m[1]=k[1]=this.y+this.height;Jl(e,e,v);Jl(m,m,v);Jl(k,k,v);Jl(i,i,v);this.x=yD(e[0],m[0],k[0],i[0]);this.y=yD(e[1],m[1],k[1],i[1]);var on=BS(e[0],m[0],k[0],i[0]);var Z=BS(e[1],m[1],k[1],i[1]);this.width=on-this.x;this.height=Z-this.y}})(),calculateTransform:function(i){var k=this;var Z=i.width/k.width;var v=i.height/k.height;var e=Ez();wV(e,e,[-k.x,-k.y]);sc(e,e,[Z,v]);wV(e,e,[i.x,i.y]);return e},intersect:function(on){if(!on){return false}if(!(on instanceof EG)){on=EG.create(on)}var v1=this;var m=v1.x;var k=v1.x+v1.width;var v3=v1.y;var v2=v1.y+v1.height;var Z=on.x;var v=on.x+on.width;var i=on.y;var e=on.y+on.height;return !(k<Z||v<m||v2<i||e<v3)},contain:function(e,k){var i=this;return e>=i.x&&e<=(i.x+i.width)&&k>=i.y&&k<=(i.y+i.height)},clone:function(){return new EG(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x;this.y=e.y;this.width=e.width;this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};EG.create=function(e){return new EG(e.x,e.y,e.width,e.height)};var D4=function(i){i=i||{};up.call(this,i);for(var e in i){if(i.hasOwnProperty(e)){this[e]=i[e]}}this._children=[];this.__storage=null;this.__dirty=true};D4.prototype={constructor:D4,isGroup:true,type:"group",silent:false,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){var m=this._children;for(var k=0;k<m.length;k++){if(m[k].name===e){return m[k]}}},childCount:function(){return this._children.length},add:function(e){if(e&&e!==this&&e.parent!==this){this._children.push(e);this._doAdd(e)}return this},addBefore:function(m,k){if(m&&m!==this&&m.parent!==this&&k&&k.parent===this){var i=this._children;var e=i.indexOf(k);if(e>=0){i.splice(e,0,m);this._doAdd(m)}}return this},_doAdd:function(k){if(k.parent){k.parent.remove(k)}k.parent=this;var i=this.__storage;var e=this.__zr;if(i&&i!==k.__storage){i.addToStorage(k);if(k instanceof D4){k.addChildrenToStorage(i)}}e&&e.refresh()},remove:function(v){var k=this.__zr;var m=this.__storage;var i=this._children;var e=fc(i,v);if(e<0){return this}i.splice(e,1);v.parent=null;if(m){m.delFromStorage(v);if(v instanceof D4){v.delChildrenFromStorage(m)}}k&&k.refresh();return this},removeAll:function(){var k=this._children;var v=this.__storage;var m;var e;for(e=0;e<k.length;e++){m=k[e];if(v){v.delFromStorage(m);if(m instanceof D4){m.delChildrenFromStorage(v)}}m.parent=null}k.length=0;return this},eachChild:function(e,v){var m=this._children;for(var k=0;k<m.length;k++){var Z=m[k];e.call(v,Z,k)}return this},traverse:function(e,m){for(var k=0;k<this._children.length;k++){var v=this._children[k];e.call(m,v);if(v.type==="group"){v.traverse(e,m)}}return this},addChildrenToStorage:function(m){for(var e=0;e<this._children.length;e++){var k=this._children[e];m.addToStorage(k);if(k instanceof D4){k.addChildrenToStorage(m)}}},delChildrenFromStorage:function(m){for(var e=0;e<this._children.length;e++){var k=this._children[e];m.delFromStorage(k);if(k instanceof D4){k.delChildrenFromStorage(m)}}},dirty:function(){this.__dirty=true;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(v){var v1=null;var v2=new EG(0,0,0,0);var k=v||this._children;var v3=[];for(var Z=0;Z<k.length;Z++){var e=k[Z];if(e.ignore||e.invisible){continue}var on=e.getBoundingRect();var m=e.getLocalTransform(v3);if(m){v2.copy(on);v2.applyTransform(m);v1=v1||v2.clone();v1.union(v2)}else{v1=v1||on.clone();v1.union(on)}}return v1||v2}};nm(D4,up);var hW=32;var za=7;function vc(i){var e=0;while(i>=hW){e|=i&1;i>>=1}return i+e}function aR(v,i,e,k){var m=i+1;if(m===e){return 1}if(k(v[m++],v[i])<0){while(m<e&&k(v[m],v[m-1])<0){m++}iK(v,i,m)}else{while(m<e&&k(v[m],v[m-1])>=0){m++}}return m-i}function iK(m,k,e){e--;while(k<e){var i=m[k];m[k++]=m[e];m[e--]=i}}function As(Z,on,v,e,i){if(e===on){e++}for(;e<v;e++){var v3=Z[e];var m=on;var v2=e;var v1;while(m<v2){v1=m+v2>>>1;if(i(v3,Z[v1])<0){v2=v1}else{m=v1+1}}var k=e-m;switch(k){case 3:Z[m+3]=Z[m+2];case 2:Z[m+2]=Z[m+1];case 1:Z[m+1]=Z[m];break;default:while(k>0){Z[m+k]=Z[m+k-1];k--}}Z[m]=v3}}function x0(KA,Kz,i,v,v2,k){var e=0;var on=0;var v1=1;if(k(KA,Kz[i+v2])>0){on=v-v2;while(v1<on&&k(KA,Kz[i+v2+v1])>0){e=v1;v1=(v1<<1)+1;if(v1<=0){v1=on}}if(v1>on){v1=on}e+=v2;v1+=v2}else{on=v2+1;while(v1<on&&k(KA,Kz[i+v2-v1])<=0){e=v1;v1=(v1<<1)+1;if(v1<=0){v1=on}}if(v1>on){v1=on}var v3=e;e=v2-v1;v1=v2-v3}e++;while(e<v1){var Z=e+(v1-e>>>1);if(k(KA,Kz[i+Z])>0){e=Z+1}else{v1=Z}}return v1}function Ep(KA,Kz,i,v,v2,k){var e=0;var on=0;var v1=1;if(k(KA,Kz[i+v2])<0){on=v2+1;while(v1<on&&k(KA,Kz[i+v2-v1])<0){e=v1;v1=(v1<<1)+1;if(v1<=0){v1=on}}if(v1>on){v1=on}var v3=e;e=v2-v1;v1=v2-v3}else{on=v-v2;while(v1<on&&k(KA,Kz[i+v2+v1])>=0){e=v1;v1=(v1<<1)+1;if(v1<=0){v1=on}}if(v1>on){v1=on}e+=v2;v1+=v2}e++;while(e<v1){var Z=e+(v1-e>>>1);if(k(KA,Kz[i+Z])<0){v1=Z}else{e=Z+1}}return v1}function zj(on,e){var KB=za;var v2;var k;var KA=0;var v=[];v2=[];k=[];function v3(KD,KC){v2[KA]=KD;k[KA]=KC;KA+=1}function m(){while(KA>1){var KC=KA-2;if((KC>=1&&k[KC-1]<=k[KC]+k[KC+1])||(KC>=2&&k[KC-2]<=k[KC]+k[KC-1])){if(k[KC-1]<k[KC+1]){KC--}}else{if(k[KC]>k[KC+1]){break}}v1(KC)}}function Kz(){while(KA>1){var KC=KA-2;if(KC>0&&k[KC-1]<k[KC+1]){KC--}v1(KC)}}function v1(KD){var KF=v2[KD];var KH=k[KD];var KE=v2[KD+1];var KG=k[KD+1];k[KD]=KH+KG;if(KD===KA-3){v2[KD+1]=v2[KD+2];k[KD+1]=k[KD+2]}KA--;var KC=Ep(on[KE],on,KF,KH,0,e);KF+=KC;KH-=KC;if(KH===0){return}KG=x0(on[KF+KH-1],on,KE,KG,KG-1,e);if(KG===0){return}if(KH<=KG){Z(KF,KH,KE,KG)}else{i(KF,KH,KE,KG)}}function Z(KH,KG,KE,KD){var KJ=0;for(KJ=0;KJ<KG;KJ++){v[KJ]=on[KH+KJ]}var KC=0;var KN=KE;var KM=KH;on[KM++]=on[KN++];if(--KD===0){for(KJ=0;KJ<KG;KJ++){on[KM+KJ]=v[KC+KJ]}return}if(KG===1){for(KJ=0;KJ<KD;KJ++){on[KM+KJ]=on[KN+KJ]}on[KM+KD]=v[KC];return}var KI=KB;var KL;var KK;var KF;while(1){KL=0;KK=0;KF=false;do{if(e(on[KN],v[KC])<0){on[KM++]=on[KN++];KK++;KL=0;if(--KD===0){KF=true;break}}else{on[KM++]=v[KC++];KL++;KK=0;if(--KG===1){KF=true;break}}}while((KL|KK)<KI);if(KF){break}do{KL=Ep(on[KN],v,KC,KG,0,e);if(KL!==0){for(KJ=0;KJ<KL;KJ++){on[KM+KJ]=v[KC+KJ]}KM+=KL;KC+=KL;KG-=KL;if(KG<=1){KF=true;break}}on[KM++]=on[KN++];if(--KD===0){KF=true;break}KK=x0(v[KC],on,KN,KD,0,e);if(KK!==0){for(KJ=0;KJ<KK;KJ++){on[KM+KJ]=on[KN+KJ]}KM+=KK;KN+=KK;KD-=KK;if(KD===0){KF=true;break}}on[KM++]=v[KC++];if(--KG===1){KF=true;break}KI--}while(KL>=za||KK>=za);if(KF){break}if(KI<0){KI=0}KI+=2}KB=KI;KB<1&&(KB=1);if(KG===1){for(KJ=0;KJ<KD;KJ++){on[KM+KJ]=on[KN+KJ]}on[KM+KD]=v[KC]}else{if(KG===0){throw new Error()}else{for(KJ=0;KJ<KG;KJ++){on[KM+KJ]=v[KC+KJ]}}}}function i(KH,KG,KE,KD){var KK=0;for(KK=0;KK<KD;KK++){v[KK]=on[KE+KK]}var KC=KH+KG-1;var KP=KD-1;var KO=KE+KD-1;var KL=0;var KJ=0;on[KO--]=on[KC--];if(--KG===0){KL=KO-(KD-1);for(KK=0;KK<KD;KK++){on[KL+KK]=v[KK]}return}if(KD===1){KO-=KG;KC-=KG;KJ=KO+1;KL=KC+1;for(KK=KG-1;KK>=0;KK--){on[KJ+KK]=on[KL+KK]}on[KO]=v[KP];return}var KI=KB;while(true){var KN=0;var KM=0;var KF=false;do{if(e(v[KP],on[KC])<0){on[KO--]=on[KC--];KN++;KM=0;if(--KG===0){KF=true;break}}else{on[KO--]=v[KP--];KM++;KN=0;if(--KD===1){KF=true;break}}}while((KN|KM)<KI);if(KF){break}do{KN=KG-Ep(v[KP],on,KH,KG,KG-1,e);if(KN!==0){KO-=KN;KC-=KN;KG-=KN;KJ=KO+1;KL=KC+1;for(KK=KN-1;KK>=0;KK--){on[KJ+KK]=on[KL+KK]}if(KG===0){KF=true;break}}on[KO--]=v[KP--];if(--KD===1){KF=true;break}KM=KD-x0(on[KC],v,0,KD,KD-1,e);if(KM!==0){KO-=KM;KP-=KM;KD-=KM;KJ=KO+1;KL=KP+1;for(KK=0;KK<KM;KK++){on[KJ+KK]=v[KL+KK]}if(KD<=1){KF=true;break}}on[KO--]=on[KC--];if(--KG===0){KF=true;break}KI--}while(KN>=za||KM>=za);if(KF){break}if(KI<0){KI=0}KI+=2}KB=KI;if(KB<1){KB=1}if(KD===1){KO-=KG;KC-=KG;KJ=KO+1;KL=KC+1;for(KK=KG-1;KK>=0;KK--){on[KJ+KK]=on[KL+KK]}on[KO]=v[KP]}else{if(KD===0){throw new Error()}else{KL=KO-(KD-1);for(KK=0;KK<KD;KK++){on[KL+KK]=v[KK]}}}}this.mergeRuns=m;this.forceMergeRuns=Kz;this.pushRun=v3}function rH(Z,i,on,k){if(!on){on=0}if(!k){k=Z.length}var v=k-on;if(v<2){return}var m=0;if(v<hW){m=aR(Z,on,k,i);As(Z,on,k,on+m,i);return}var v1=new zj(Z,i);var v2=vc(v);do{m=aR(Z,on,k,i);if(m<v2){var e=v;if(e>v2){e=v2}As(Z,on,on+e,on+m,i);m=e}v1.pushRun(on,m);v1.mergeRuns();v-=m;on+=m}while(v!==0);v1.forceMergeRuns()}function Gx(i,e){if(i.zlevel===e.zlevel){if(i.z===e.z){return i.z2-e.z2}return i.z-e.z}return i.zlevel-e.zlevel}var dM=function(){this._roots=[];this._displayList=[];this._displayListLen=0};dM.prototype={constructor:dM,traverse:function(e,m){for(var k=0;k<this._roots.length;k++){this._roots[k].traverse(e,m)}},getDisplayList:function(i,e){e=e||false;if(i){this.updateDisplayList(e)}return this._displayList},updateDisplayList:function(m){this._displayListLen=0;var k=this._roots;var Z=this._displayList;for(var v=0,e=k.length;v<e;v++){this._updateAndAddDisplayable(k[v],null,m)}Z.length=this._displayListLen;uk.canvasSupported&&rH(Z,Gx)},_updateAndAddDisplayable:function(k,v1,Z){if(k.ignore&&!Z){return}k.beforeUpdate();if(k.__dirty){k.update()}k.afterUpdate();var v2=k.clipPath;if(v2){if(v1){v1=v1.slice()}else{v1=[]}var on=v2;var v3=k;while(on){on.parent=v3;on.updateTransform();v1.push(on);v3=on;on=on.clipPath}}if(k.isGroup){var m=k._children;for(var v=0;v<m.length;v++){var e=m[v];if(k.__dirty){e.__dirty=true}this._updateAndAddDisplayable(e,v1,Z)}k.__dirty=false}else{k.__clipPaths=v1;this._displayList[this._displayListLen++]=k}},addRoot:function(e){if(e.__storage===this){return}if(e instanceof D4){e.addChildrenToStorage(this)}this.addToStorage(e);this._roots.push(e)},delRoot:function(Z){if(Z==null){for(var v=0;v<this._roots.length;v++){var m=this._roots[v];if(m instanceof D4){m.delChildrenFromStorage(this)}}this._roots=[];this._displayList=[];this._displayListLen=0;return}if(Z instanceof Array){for(var v=0,k=Z.length;v<k;v++){this.delRoot(Z[v])}return}var e=fc(this._roots,Z);if(e>=0){this.delFromStorage(Z);this._roots.splice(e,1);if(Z instanceof D4){Z.delChildrenFromStorage(this)}}},addToStorage:function(e){if(e){e.__storage=this;e.dirty(false)}return this},delFromStorage:function(e){if(e){e.__storage=null}return this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Gx};var yF={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};var rO=function(e,k,i){if(yF.hasOwnProperty(k)){return i*=e.dpr}return i};var cl={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2};var AH=9;var mn=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];var zw=function(e){this.extendFrom(e,false)};function Hs(i,on,v){var e=on.x==null?0:on.x;var k=on.x2==null?1:on.x2;var v1=on.y==null?0:on.y;var m=on.y2==null?0:on.y2;if(!on.global){e=e*v.width+v.x;k=k*v.width+v.x;v1=v1*v.height+v.y;m=m*v.height+v.y}e=isNaN(e)?0:e;k=isNaN(k)?1:k;v1=isNaN(v1)?0:v1;m=isNaN(m)?0:m;var Z=i.createLinearGradient(e,v1,k,m);return Z}function bd(v3,m,Z){var i=Z.width;var v2=Z.height;var k=Math.min(i,v2);var v1=m.x==null?0.5:m.x;var v=m.y==null?0.5:m.y;var e=m.r==null?0.5:m.r;if(!m.global){v1=v1*i+Z.x;v=v*v2+Z.y;e=e*k}var on=v3.createRadialGradient(v1,v,0,v1,v,e);return on}zw.prototype={constructor:zw,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:false,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:false,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(Kz,v,e){var m=this;var v3=e&&e.style;var on=!v3||Kz.__attrCachedBy!==cl.STYLE_BIND;Kz.__attrCachedBy=cl.STYLE_BIND;for(var v1=0;v1<mn.length;v1++){var k=mn[v1];var Z=k[0];if(on||m[Z]!==v3[Z]){Kz[Z]=rO(Kz,Z,m[Z]||k[1])}}if((on||m.fill!==v3.fill)){Kz.fillStyle=m.fill}if((on||m.stroke!==v3.stroke)){Kz.strokeStyle=m.stroke}if((on||m.opacity!==v3.opacity)){Kz.globalAlpha=m.opacity==null?1:m.opacity}if((on||m.blend!==v3.blend)){Kz.globalCompositeOperation=m.blend||"source-over"}if(this.hasStroke()){var v2=m.lineWidth;Kz.lineWidth=v2/((this.strokeNoScale&&v&&v.getLineScale)?v.getLineScale():1)}},hasFill:function(){var e=this.fill;return e!=null&&e!=="none"},hasStroke:function(){var e=this.stroke;return e!=null&&e!=="none"&&this.lineWidth>0},extendFrom:function(e,k){if(e){for(var i in e){if(e.hasOwnProperty(i)&&(k===true||(k===false?!this.hasOwnProperty(i):e[i]!=null))){this[i]=e[i]}}}},set:function(i,e){if(typeof i==="string"){this[i]=e}else{this.extendFrom(i,true)}},clone:function(){var e=new this.constructor();e.extendFrom(this,true);return e},getGradient:function(e,on,v){var v1=on.type==="radial"?bd:Hs;var Z=v1(e,on,v);var k=on.colorStops;for(var m=0;m<k.length;m++){Z.addColorStop(k[m].offset,k[m].color)}return Z}};var nT=zw.prototype;for(var Jt=0;Jt<mn.length;Jt++){var y1=mn[Jt];if(!(y1[0] in nT)){nT[y1[0]]=y1[1]}}zw.getGradient=nT.getGradient;var p5=function(i,e){this.image=i;this.repeat=e;this.type="pattern"};p5.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};function vG(){return false}function zb(on,i,v){var k=Fe();var m=i.getWidth();var e=i.getHeight();var Z=k.style;if(Z){Z.position="absolute";Z.left=0;Z.top=0;Z.width=m+"px";Z.height=e+"px";k.setAttribute("data-zr-dom-id",on)}k.width=m*v;k.height=e*v;return k}var eG=function(v,e,k){var m;k=k||iH;if(typeof v==="string"){m=zb(v,e,k)}else{if(u7(v)){m=v;v=m.id}}this.id=v;this.dom=m;var i=m.style;if(i){m.onselectstart=vG;i["-webkit-user-select"]="none";i["user-select"]="none";i["-webkit-touch-callout"]="none";i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";i.padding=0;i.margin=0;i["border-width"]=0}this.domBack=null;this.ctxBack=null;this.painter=e;this.config=null;this.clearColor=0;this.motionBlur=false;this.lastFrameAlpha=0.7;this.dpr=k};eG.prototype={constructor:eG,__dirty:true,__used:false,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:false,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=zb("back-"+this.id,this.painter,e);this.ctxBack=this.domBack.getContext("2d");if(e!==1){this.ctxBack.scale(e,e)}},resize:function(m,e){var v=this.dpr;var Z=this.dom;var k=Z.style;var i=this.domBack;if(k){k.width=m+"px";k.height=e+"px"}Z.width=m*v;Z.height=e*v;if(i){i.width=m*v;i.height=e*v;if(v!==1){this.ctxBack.scale(v,v)}}},clear:function(v,v3){var k=this.dom;var Kz=this.ctx;var i=k.width;var v2=k.height;var v3=v3||this.clearColor;var v1=this.motionBlur&&!v;var e=this.lastFrameAlpha;var on=this.dpr;if(v1){if(!this.domBack){this.createBackBuffer()}this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(k,0,0,i/on,v2/on)}Kz.clearRect(0,0,i,v2);if(v3&&v3!=="transparent"){var Z;if(v3.colorStops){Z=v3.__canvasGradient||zw.getGradient(Kz,v3,{x:0,y:0,width:i,height:v2});v3.__canvasGradient=Z}else{if(v3.image){Z=p5.prototype.getCanvasPattern.call(v3,Kz)}}Kz.save();Kz.fillStyle=Z||v3;Kz.fillRect(0,0,i,v2);Kz.restore()}if(v1){var m=this.domBack;Kz.save();Kz.globalAlpha=e;Kz.drawImage(m,0,0,i,v2);Kz.restore()}}};var os=(typeof window!=="undefined"&&((window.requestAnimationFrame&&window.requestAnimationFrame.bind(window))||(window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window))||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame))||function(e){setTimeout(e,16)};var bq=new my(50);function oh(e){if(typeof e==="string"){var i=bq.get(e);return i&&i.image}else{return e}}function qh(k,on,m,i,e){if(!k){return on}else{if(typeof k==="string"){if((on&&on.__zrImageSrc===k)||!m){return on}var Z=bq.get(k);var v={hostEl:m,cb:i,cbPayload:e};if(Z){on=Z.image;!IK(on)&&Z.pending.push(v)}else{on=new Image();on.onload=on.onerror=gQ;bq.put(k,on.__cachedImgObj={image:on,pending:[v]});on.src=on.__zrImageSrc=k}return on}else{return k}}}function gQ(){var v=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var k=0;k<v.pending.length;k++){var m=v.pending[k];var e=m.cb;e&&e(this,m.cbPayload);m.hostEl.dirty()}v.pending.length=0}function IK(e){return e&&e.width&&e.height}var qV={};var je=0;var yW=5000;var x4=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;var xK="12px sans-serif";var ky={};function hz(e,i){ky[e]=i}function jN(v1,k){k=k||xK;var v=v1+":"+k;if(qV[v]){return qV[v]}var on=(v1+"").split("\n");var Z=0;for(var m=0,e=on.length;m<e;m++){Z=Math.max(w3(on[m],k).width,Z)}if(je>yW){je=0;qV={}}je++;qV[v]=Z;return Z}function IA(on,k,m,i,Z,v1,e,v){return e?hp(on,k,m,i,Z,v1,e,v):yI(on,k,m,i,Z,v1,v)}function yI(KA,i,e,m,on,Kz,v2){var k=z(KA,i,on,Kz,v2);var KB=jN(KA,i);if(on){KB+=on[1]+on[3]}var v3=k.outerHeight;var v1=vZ(0,KB,e);var Z=vV(0,v3,m);var v=new EG(v1,Z,KB,v3);v.lineHeight=k.lineHeight;return v}function hp(KA,k,e,v,on,Kz,i,v2){var m=tO(KA,{rich:i,truncate:v2,font:k,textAlign:e,textPadding:on,textLineHeight:Kz});var KB=m.outerWidth;var v3=m.outerHeight;var v1=vZ(0,KB,e);var Z=vV(0,v3,v);return new EG(v1,Z,KB,v3)}function vZ(e,k,i){if(i==="right"){e-=k}else{if(i==="center"){e-=k/2}}return e}function vV(k,e,i){if(i==="middle"){k-=e/2}else{if(i==="bottom"){k-=e}}return k}function wp(v,i,v2){var KA=i.textPosition;var e=i.textDistance;var v3=v2.x;var v1=v2.y;e=e||0;var Kz=v2.height;var m=v2.width;var on=Kz/2;var k="left";var Z="top";switch(KA){case"left":v3-=e;v1+=on;k="right";Z="middle";break;case"right":v3+=e+m;v1+=on;Z="middle";break;case"top":v3+=m/2;v1-=e;k="center";Z="bottom";break;case"bottom":v3+=m/2;v1+=Kz+e;k="center";break;case"inside":v3+=m/2;v1+=on;k="center";Z="middle";break;case"insideLeft":v3+=e;v1+=on;Z="middle";break;case"insideRight":v3+=m-e;v1+=on;k="right";Z="middle";break;case"insideTop":v3+=m/2;v1+=e;k="center";break;case"insideBottom":v3+=m/2;v1+=Kz-e;k="center";Z="bottom";break;case"insideTopLeft":v3+=e;v1+=e;break;case"insideTopRight":v3+=m-e;v1+=e;k="right";break;case"insideBottomLeft":v3+=e;v1+=Kz-e;Z="bottom";break;case"insideBottomRight":v3+=m-e;v1+=Kz-e;k="right";Z="bottom";break}v=v||{};v.x=v3;v.y=v1;v.textAlign=k;v.textVerticalAlign=Z;return v}function a3(v2,v1,m,k,v){if(!v1){return""}var on=(v2+"").split("\n");v=A(v1,m,k,v);for(var Z=0,e=on.length;Z<e;Z++){on[Z]=ez(on[Z],v)}return on.join("\n")}function A(v1,v,v2,v3){v3=cc({},v3);v3.font=v;var v2=kY(v2,"...");v3.maxIterations=kY(v3.maxIterations,2);var m=v3.minChar=kY(v3.minChar,0);v3.cnCharWidth=jN("",v);var Z=v3.ascCharWidth=jN("a",v);v3.placeholder=kY(v3.placeholder,"");var e=v1=Math.max(0,v1-1);for(var on=0;on<m&&e>=Z;on++){e-=Z}var k=jN(v2,v);if(k>e){v2="";k=0}e=v1-k;v3.ellipsis=v2;v3.ellipsisWidth=k;v3.contentWidth=e;v3.containerWidth=v1;return v3}function ez(on,v){var v1=v.containerWidth;var k=v.font;var i=v.contentWidth;if(!v1){return""}var e=jN(on,k);if(e<=v1){return on}for(var m=0;;m++){if(e<=i||m>=v.maxIterations){on+=v.ellipsis;break}var Z=m===0?k7(on,i,v.ascCharWidth,v.cnCharWidth):e>0?Math.floor(on.length*i/e):0;on=on.substr(0,Z);e=jN(on,k)}if(on===""){on=v.placeholder}return on}function k7(v2,v,v1,m){var on=0;var Z=0;for(var e=v2.length;Z<e&&on<v;Z++){var k=v2.charCodeAt(Z);on+=(0<=k&&k<=127)?v1:m}return Z}function o4(e){return jN("",e)}function w3(i,e){return ky.measureText(i,e)}ky.measureText=function(k,i){var e=pM();e.font=i||xK;return e.measureText(k)};function z(KB,e,Z,KA,on){KB!=null&&(KB+="");var v1=kY(KA,o4(e));var KE=KB?KB.split("\n"):[];var KC=KE.length*v1;var v3=KC;var v2=true;if(Z){v3+=Z[0]+Z[2]}if(KB&&on){v2=false;var v=on.outerHeight;var Kz=on.outerWidth;if(v!=null&&v3>v){KB="";KE=[]}else{if(Kz!=null){var KD=A(Kz-(Z?Z[1]+Z[3]:0),e,on.ellipsis,{minChar:on.minChar,placeholder:on.placeholder});for(var k=0,m=KE.length;k<m;k++){KE[k]=ez(KE[k],KD)}}}}return{lines:KE,height:KC,outerHeight:v3,lineHeight:v1,canCacheByTextString:v2}}function tO(KG,KS){var v3={lines:[],width:0,height:0};KG!=null&&(KG+="");if(!KG){return v3}var KT=x4.lastIndex=0;var KC;while((KC=x4.exec(KG))!=null){var KN=KC.index;if(KN>KT){f8(v3,KG.substring(KT,KN))}f8(v3,KC[2],KC[1]);KT=x4.lastIndex}if(KT<KG.length){f8(v3,KG.substring(KT,KG.length))}var k=v3.lines;var KM=0;var KI=0;var KF=[];var KA=KS.textPadding;var m=KS.truncate;var Kz=m&&m.outerWidth;var v1=m&&m.outerHeight;if(KA){Kz!=null&&(Kz-=KA[1]+KA[3]);v1!=null&&(v1-=KA[0]+KA[2])}for(var KQ=0;KQ<k.length;KQ++){var KD=k[KQ];var Z=0;var e=0;for(var KL=0;KL<KD.tokens.length;KL++){var v2=KD.tokens[KL];var KP=v2.styleName&&KS.rich[v2.styleName]||{};var KO=v2.textPadding=KP.textPadding;var KH=v2.font=KP.font||KS.font;var KU=v2.textHeight=kY(KP.textHeight,o4(KH));KO&&(KU+=KO[0]+KO[2]);v2.height=KU;v2.lineHeight=kX(KP.textLineHeight,KS.textLineHeight,KU);v2.textAlign=KP&&KP.textAlign||KS.textAlign;v2.textVerticalAlign=KP&&KP.textVerticalAlign||"middle";if(v1!=null&&KM+v2.lineHeight>v1){return{lines:[],width:0,height:0}}v2.textWidth=jN(v2.text,KH);var KK=KP.textWidth;var KJ=KK==null||KK==="auto";if(typeof KK==="string"&&KK.charAt(KK.length-1)==="%"){v2.percentWidth=KK;KF.push(v2);KK=0}else{if(KJ){KK=v2.textWidth;var on=KP.textBackgroundColor;var v=on&&on.image;if(v){v=oh(v);if(IK(v)){KK=Math.max(KK,v.width*KU/v.height)}}}var KR=KO?KO[1]+KO[3]:0;KK+=KR;var KE=Kz!=null?Kz-e:null;if(KE!=null&&KE<KK){if(!KJ||KE<KR){v2.text="";v2.textWidth=KK=0}else{v2.text=a3(v2.text,KE-KR,KH,m.ellipsis,{minChar:m.minChar});v2.textWidth=jN(v2.text,KH);KK=v2.textWidth+KR}}}e+=(v2.width=KK);KP&&(Z=Math.max(Z,v2.lineHeight))}KD.width=e;KD.lineHeight=Z;KM+=Z;KI=Math.max(KI,e)}v3.outerWidth=v3.width=kY(KS.textWidth,KI);v3.outerHeight=v3.height=kY(KS.textHeight,KM);if(KA){v3.outerWidth+=KA[1]+KA[3];v3.outerHeight+=KA[0]+KA[2]}for(var KQ=0;KQ<KF.length;KQ++){var v2=KF[KQ];var KB=v2.percentWidth;v2.width=parseInt(KB,10)/100*KI}return v3}function f8(v,v3,k){var e=v3==="";var v1=v3.split("\n");var KA=v.lines;for(var on=0;on<v1.length;on++){var Kz=v1[on];var m={styleName:k,text:Kz,isLineHolder:!Kz&&!e};if(!on){var v2=(KA[KA.length-1]||(KA[0]={tokens:[]})).tokens;var Z=v2.length;(Z===1&&v2[0].isLineHolder)?(v2[0]=m):((Kz||!Z||e)&&v2.push(m))}else{KA.push({tokens:[m]})}}}function qG(i){var e=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");return e&&IB(e)||i.textFont||i.font}function uD(KA,on){var v3=on.x;var v2=on.y;var m=on.width;var Kz=on.height;var e=on.r;var Z;var v;var k;var i;if(m<0){v3=v3+m;m=-m}if(Kz<0){v2=v2+Kz;Kz=-Kz}if(typeof e==="number"){Z=v=k=i=e}else{if(e instanceof Array){if(e.length===1){Z=v=k=i=e[0]}else{if(e.length===2){Z=k=e[0];v=i=e[1]}else{if(e.length===3){Z=e[0];v=i=e[1];k=e[2]}else{Z=e[0];v=e[1];k=e[2];i=e[3]}}}}else{Z=v=k=i=0}}var v1;if(Z+v>m){v1=Z+v;Z*=m/v1;v*=m/v1}if(k+i>m){v1=k+i;k*=m/v1;i*=m/v1}if(v+k>Kz){v1=v+k;v*=Kz/v1;k*=Kz/v1}if(Z+i>Kz){v1=Z+i;Z*=Kz/v1;i*=Kz/v1}KA.moveTo(v3+Z,v2);KA.lineTo(v3+m-v,v2);v!==0&&KA.arc(v3+m-v,v2+v,v,-Math.PI/2,0);KA.lineTo(v3+m,v2+Kz-k);k!==0&&KA.arc(v3+m-k,v2+Kz-k,k,0,Math.PI/2);KA.lineTo(v3+i,v2+Kz);i!==0&&KA.arc(v3+i,v2+Kz-i,i,Math.PI/2,Math.PI);KA.lineTo(v3,v2+Z);Z!==0&&KA.arc(v3+Z,v2+Z,Z,Math.PI,Math.PI*1.5)}var G4=xK;var BA={left:1,right:1,center:1};var Gw={top:1,bottom:1,middle:1};var EM=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]];var D9={};var oG={};function qo(e){EB(e);qg(e.rich,EB);return e}function EB(k){if(k){k.font=qG(k);var i=k.textAlign;i==="middle"&&(i="center");k.textAlign=(i==null||BA[i])?i:"left";var e=k.textVerticalAlign||k.textBaseline;e==="center"&&(e="middle");k.textVerticalAlign=(e==null||Gw[e])?e:"top";var m=k.textPadding;if(m){k.textPadding=Fx(k.textPadding)}}}function Cs(k,e,Z,m,v,i){m.rich?fT(k,e,Z,m,v,i):fS(k,e,Z,m,v,i)}function fS(KF,KG,KJ,KX,KM,KS){var KC=jJ(KX);var KD;var v3=false;var KL=KG.__attrCachedBy===cl.PLAIN_TEXT;if(KS!==AH){if(KS){KD=KS.style;v3=!KC&&KL&&KD}KG.__attrCachedBy=KC?cl.NONE:cl.PLAIN_TEXT}else{if(KL){KG.__attrCachedBy=cl.NONE}}var v2=KX.font||G4;if(!v3||v2!==(KD.font||G4)){KG.font=v2}var v1=KF.__computedFont;if(KF.__styleFont!==v2){KF.__styleFont=v2;v1=KF.__computedFont=KG.font}var KP=KX.textPadding;var KN=KX.textLineHeight;var v=KF.__textCotentBlock;if(!v||KF.__dirtyText){v=KF.__textCotentBlock=z(KJ,v1,KP,KN,KX.truncate)}var K1=v.outerHeight;var K0=v.lines;var KK=v.lineHeight;var KT=Aw(oG,KF,KX,KM);var KV=KT.baseX;var KU=KT.baseY;var Z=KT.textAlign||"left";var on=KT.textVerticalAlign;hc(KG,KX,KM,KV,KU);var KA=vV(KU,K1,on);var k=KV;var e=KA;if(KC||KP){var Kz=jN(KJ,v1);var KW=Kz;KP&&(KW+=KP[1]+KP[3]);var KB=vZ(KV,KW,Z);KC&&qM(KF,KG,KX,KB,KA,KW,K1);if(KP){k=iI(KV,Z,KP);e+=KP[0]}}KG.textAlign=Z;KG.textBaseline="middle";KG.globalAlpha=KX.opacity||1;for(var KZ=0;KZ<EM.length;KZ++){var m=EM[KZ];var KQ=m[0];var KH=m[1];var KI=KX[KQ];if(!v3||KI!==KD[KQ]){KG[KH]=rO(KG,KH,KI||m[2])}}e+=KK/2;var K3=KX.textStrokeWidth;var KE=v3?KD.textStrokeWidth:null;var KO=!v3||K3!==KE;var K2=!v3||KO||KX.textStroke!==KD.textStroke;var KY=yB(KX.textStroke,K3);var KR=g0(KX.textFill);if(KY){if(KO){KG.lineWidth=K3}if(K2){KG.strokeStyle=KY}}if(KR){if(!v3||KX.textFill!==KD.textFill){KG.fillStyle=KR}}if(K0.length===1){KY&&KG.strokeText(K0[0],k,e);KR&&KG.fillText(K0[0],k,e)}else{for(var KZ=0;KZ<K0.length;KZ++){KY&&KG.strokeText(K0[KZ],k,e);KR&&KG.fillText(K0[KZ],k,e);e+=KK}}}function fT(k,e,on,v,Z,i){if(i!==AH){e.__attrCachedBy=cl.NONE}var m=k.__textCotentBlock;if(!m||k.__dirtyText){m=k.__textCotentBlock=tO(on,v)}zr(k,e,m,v,Z)}function zr(KL,KK,KB,KO,Z){var KH=KB.width;var e=KB.outerWidth;var v=KB.outerHeight;var KN=KO.textPadding;var KR=Aw(oG,KL,KO,Z);var m=KR.baseX;var k=KR.baseY;var v2=KR.textAlign;var KG=KR.textVerticalAlign;hc(KK,KO,Z,m,k);var KT=vZ(m,e,v2);var KS=vV(k,v,KG);var KE=KT;var v1=KS;if(KN){KE+=KN[3];v1+=KN[0]}var KQ=KE+KH;jJ(KO)&&qM(KL,KK,KO,KT,KS,e,v);for(var KM=0;KM<KB.lines.length;KM++){var KD=KB.lines[KM];var KF=KD.tokens;var v3=KF.length;var on=KD.lineHeight;var KA=KD.width;var KI=0;var KP=KE;var KC=KQ;var KJ=v3-1;var Kz;while(KI<v3&&(Kz=KF[KI],!Kz.textAlign||Kz.textAlign==="left")){GB(KL,KK,Kz,KO,on,v1,KP,"left");KA-=Kz.width;KP+=Kz.width;KI++}while(KJ>=0&&(Kz=KF[KJ],Kz.textAlign==="right")){GB(KL,KK,Kz,KO,on,v1,KC,"right");KA-=Kz.width;KC-=Kz.width;KJ--}KP+=(KH-(KP-KE)-(KQ-KC)-KA)/2;while(KI<=KJ){Kz=KF[KI];GB(KL,KK,Kz,KO,on,v1,KP+Kz.width/2,"center");KP+=Kz.width;KI++}v1+=on}}function hc(i,m,v,e,Z){if(v&&m.textRotation){var k=m.textOrigin;if(k==="center"){e=v.width/2+v.x;Z=v.height/2+v.y}else{if(k){e=k[0]+v.x;Z=k[1]+v.y}}i.translate(e,Z);i.rotate(-m.textRotation);i.translate(-e,-Z)}}function GB(v2,KB,m,e,KA,v3,Kz,i){var KD=e.rich[m.styleName]||{};KD.text=m.text;var v=m.textVerticalAlign;var on=v3+KA/2;if(v==="top"){on=v3+m.height/2}else{if(v==="bottom"){on=v3+KA-m.height/2}}!m.isLineHolder&&jJ(KD)&&qM(v2,KB,KD,i==="right"?Kz-m.width:i==="center"?Kz-m.width/2:Kz,on-m.height/2,m.width,m.height);var Z=m.textPadding;if(Z){Kz=iI(Kz,i,Z);on-=m.height/2-Z[2]-m.textHeight/2}sJ(KB,"shadowBlur",kX(KD.textShadowBlur,e.textShadowBlur,0));sJ(KB,"shadowColor",KD.textShadowColor||e.textShadowColor||"transparent");sJ(KB,"shadowOffsetX",kX(KD.textShadowOffsetX,e.textShadowOffsetX,0));sJ(KB,"shadowOffsetY",kX(KD.textShadowOffsetY,e.textShadowOffsetY,0));sJ(KB,"textAlign",i);sJ(KB,"textBaseline","middle");sJ(KB,"font",m.font||G4);var v1=yB(KD.textStroke||e.textStroke,k);var KC=g0(KD.textFill||e.textFill);var k=kY(KD.textStrokeWidth,e.textStrokeWidth);if(v1){sJ(KB,"lineWidth",k);sJ(KB,"strokeStyle",v1);KB.strokeText(m.text,Kz,on)}if(KC){sJ(KB,"fillStyle",KC);KB.fillText(m.text,Kz,on)}}function jJ(e){return !!(e.textBackgroundColor||(e.textBorderWidth&&e.textBorderColor))}function qM(v1,KC,e,v2,on,i,KA){var v3=e.textBackgroundColor;var m=e.textBorderWidth;var Z=e.textBorderColor;var KB=xN(v3);sJ(KC,"shadowBlur",e.textBoxShadowBlur||0);sJ(KC,"shadowColor",e.textBoxShadowColor||"transparent");sJ(KC,"shadowOffsetX",e.textBoxShadowOffsetX||0);sJ(KC,"shadowOffsetY",e.textBoxShadowOffsetY||0);if(KB||(m&&Z)){KC.beginPath();var v=e.textBorderRadius;if(!v){KC.rect(v2,on,i,KA)}else{uD(KC,{x:v2,y:on,width:i,height:KA,r:v})}KC.closePath()}if(KB){sJ(KC,"fillStyle",v3);if(e.fillOpacity!=null){var Kz=KC.globalAlpha;KC.globalAlpha=e.fillOpacity*e.opacity;KC.fill();KC.globalAlpha=Kz}else{KC.fill()}}else{if(u7(v3)){var k=v3.image;k=qh(k,null,v1,yE,v3);if(k&&IK(k)){KC.drawImage(k,v2,on,i,KA)}}}if(m&&Z){sJ(KC,"lineWidth",m);sJ(KC,"strokeStyle",Z);if(e.strokeOpacity!=null){var Kz=KC.globalAlpha;KC.globalAlpha=e.strokeOpacity*e.opacity;KC.stroke();KC.globalAlpha=Kz}else{KC.stroke()}}}function yE(i,e){e.image=i}function Aw(Z,v3,e,v2){var v=e.x||0;var k=e.y||0;var i=e.textAlign;var on=e.textVerticalAlign;if(v2){var Kz=e.textPosition;if(Kz instanceof Array){v=v2.x+D1(Kz[0],v2.width);k=v2.y+D1(Kz[1],v2.height)}else{var v1=(v3&&v3.calculateTextPosition)?v3.calculateTextPosition(D9,e,v2):wp(D9,e,v2);v=v1.x;k=v1.y;i=i||v1.textAlign;on=on||v1.textVerticalAlign}var m=e.textOffset;if(m){v+=m[0];k+=m[1]}}Z=Z||{};Z.baseX=v;Z.baseY=k;Z.textAlign=i;Z.textVerticalAlign=on;return Z}function sJ(e,k,i){e[k]=rO(e,k,i);return e[k]}function yB(i,e){return(i==null||e<=0||i==="transparent"||i==="none")?null:(i.image||i.colorStops)?"#000":i}function g0(e){return(e==null||e==="none")?null:(e.image||e.colorStops)?"#000":e}function D1(e,i){if(typeof e==="string"){if(e.lastIndexOf("%")>=0){return parseFloat(e)/100*i}return parseFloat(e)}return e}function iI(e,i,k){return i==="right"?(e-k[1]):i==="center"?(e+k[3]/2-k[1]/2):(e+k[3])}function Gz(i,e){return i!=null&&(i||e.textBackgroundColor||(e.textBorderWidth&&e.textBorderColor)||e.textPadding)}var eP=new EG();var AV=function(){};AV.prototype={constructor:AV,drawRectText:function(e,m){var k=this.style;m=k.textRect||m;this.__dirty&&qo(k,true);var v=k.text;v!=null&&(v+="");if(!Gz(v,k)){return}e.save();var i=this.transform;if(!k.transformText){if(i){eP.copy(m);eP.applyTransform(i);m=eP}}else{this.setTransform(e)}Cs(this,e,v,k,m,AH);e.restore()}};function Ku(i){i=i||{};up.call(this,i);for(var e in i){if(i.hasOwnProperty(e)&&e!=="style"){this[e]=i[e]}}this.style=new zw(i.style,this);this._rect=null;this.__clipPaths=null}Ku.prototype={constructor:Ku,type:"displayable",__dirty:true,invisible:false,z:0,z2:0,zlevel:0,draggable:false,dragging:false,silent:false,culling:false,cursor:"pointer",rectHover:false,progressive:false,incremental:false,globalScaleRatio:1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,i){},getBoundingRect:function(){},contain:function(e,i){return this.rectContain(e,i)},traverse:function(e,i){e.call(i,this)},rectContain:function(e,m){var k=this.transformCoordToLocal(e,m);var i=this.getBoundingRect();return i.contain(k[0],k[1])},dirty:function(){this.__dirty=this.__dirtyText=true;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,i){if(e!=="style"){up.prototype.attrKV.call(this,e,i)}else{this.style.set(i)}},setStyle:function(e,i){this.style.set(e,i);this.dirty(false);return this},useStyle:function(e){this.style=new zw(e,this);this.dirty(false);return this},calculateTextPosition:null};nm(Ku,up);Iz(Ku,AV);function Hz(e){Ku.call(this,e)}Hz.prototype={constructor:Hz,type:"image",brush:function(KC,k){var m=this.style;var i=m.image;m.bind(KC,this,k);var on=this._image=qh(i,this._image,this,this.onload);if(!on||!IK(on)){return}var KA=m.x||0;var v3=m.y||0;var v=m.width;var KB=m.height;var e=on.width/on.height;if(v==null&&KB!=null){v=KB*e}else{if(KB==null&&v!=null){KB=v/e}else{if(v==null&&KB==null){v=on.width;KB=on.height}}}this.setTransform(KC);if(m.sWidth&&m.sHeight){var Kz=m.sx||0;var v2=m.sy||0;KC.drawImage(on,Kz,v2,m.sWidth,m.sHeight,KA,v3,v,KB)}else{if(m.sx&&m.sy){var Kz=m.sx;var v2=m.sy;var Z=v-Kz;var v1=KB-v2;KC.drawImage(on,Kz,v2,Z,v1,KA,v3,v,KB)}else{KC.drawImage(on,KA,v3,v,KB)}}if(m.text!=null){this.restoreTransform(KC);this.drawRectText(KC,this.getBoundingRect())}},getBoundingRect:function(){var e=this.style;if(!this._rect){this._rect=new EG(e.x||0,e.y||0,e.width||0,e.height||0)}return this._rect}};nm(Hz,Ku);var FR=100000;var t=314159;var gx=0.01;var y2=0.001;function Gi(e){return parseInt(e,10)}function V(e){if(!e){return false}if(e.__builtin__){return true}if(typeof(e.resize)!=="function"||typeof(e.refresh)!=="function"){return false}return true}var kp=new EG(0,0,0,0);var n8=new EG(0,0,0,0);function pr(k,i,e){kp.copy(k.getBoundingRect());if(k.transform){kp.applyTransform(k.transform)}n8.width=i;n8.height=e;return !kp.intersect(n8)}function C8(m,e){if(m===e){return false}if(!m||!e||(m.length!==e.length)){return true}for(var k=0;k<m.length;k++){if(m[k]!==e[k]){return true}}return false}function gA(v,e){for(var k=0;k<v.length;k++){var m=v[k];m.setTransform(e);e.beginPath();m.buildPath(e,m.shape);e.clip();m.restoreTransform(e)}}function F7(k,i){var e=document.createElement("div");e.style.cssText=["position:relative","width:"+k+"px","height:"+i+"px","padding:0","margin:0","border-width:0"].join(";")+";";return e}var aX=function(v2,Z,e){this.type="canvas";var v1=!v2.nodeName||v2.nodeName.toUpperCase()==="CANVAS";this._opts=e=cc({},e||{});this.dpr=e.devicePixelRatio||iH;this._singleCanvas=v1;this.root=v2;var i=v2.style;if(i){i["-webkit-tap-highlight-color"]="transparent";i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none";v2.innerHTML=""}this.storage=Z;var m=this._zlevelList=[];var v=this._layers={};this._layerConfig={};this._needsManuallyCompositing=false;if(!v1){this._width=this._getSize(0);this._height=this._getSize(1);var v3=this._domRoot=F7(this._width,this._height);v2.appendChild(v3)}else{var k=v2.width;var Kz=v2.height;if(e.width!=null){k=e.width}if(e.height!=null){Kz=e.height}this.dpr=e.devicePixelRatio||1;v2.width=k*this.dpr;v2.height=Kz*this.dpr;this._width=k;this._height=Kz;var on=new eG(v2,this,this.dpr);on.__builtin__=true;on.initContext();v[t]=on;on.zlevel=t;m.push(t);this._domRoot=v2}this._hoverlayer=null;this._hoverElements=[]};aX.prototype={constructor:aX,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e){return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}}},refresh:function(e){var on=this.storage.getDisplayList(true);var v=this._zlevelList;this._redrawId=Math.random();this._paintList(on,e,this._redrawId);for(var m=0;m<v.length;m++){var v1=v[m];var k=this._layers[v1];if(!k.__builtin__&&k.refresh){var Z=m===0?this._backgroundColor:null;k.refresh(Z)}}this.refreshHover();return this},addHover:function(e,i){if(e.__hoverMir){return}var k=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});k.__from=e;e.__hoverMir=k;i&&k.setStyle(i);this._hoverElements.push(k);return k},removeHover:function(k){var m=k.__hoverMir;var i=this._hoverElements;var e=fc(i,m);if(e>=0){i.splice(e,1)}k.__hoverMir=null},clearHover:function(m){var e=this._hoverElements;for(var k=0;k<e.length;k++){var v=e[k].__from;if(v){v.__hoverMir=null}}e.length=0},refreshHover:function(){var k=this._hoverElements;var e=k.length;var on=this._hoverlayer;on&&on.clear();if(!e){return}rH(k,this.storage.displayableSortFunc);if(!on){on=this._hoverlayer=this.getLayer(FR)}var Z={};on.ctx.save();for(var m=0;m<e;){var v=k[m];var v1=v.__from;if(!(v1&&v1.__zr)){k.splice(m,1);v1.__hoverMir=null;e--;continue}m++;if(!v1.invisible){v.transform=v1.transform;v.invTransform=v1.invTransform;v.__clipPaths=v1.__clipPaths;this._doPaintEl(v,on,true,Z)}}on.ctx.restore()},getHoverLayer:function(){return this.getLayer(FR)},_paintList:function(m,i,k){if(this._redrawId!==k){return}i=i||false;this._updateLayerStatus(m);var v=this._doPaintList(m,i);if(this._needsManuallyCompositing){this._compositeManually()}if(!v){var e=this;os(function(){e._paintList(m,i,k)})}},_compositeManually:function(){var i=this.getLayer(t).ctx;var k=this._domRoot.width;var e=this._domRoot.height;i.clearRect(0,0,k,e);this.eachBuiltinLayer(function(m){if(m.virtual){i.drawImage(m.dom,0,0,k,e)}})},_doPaintList:function(KH,KB){var KG=[];for(var v3=0;v3<this._zlevelList.length;v3++){var e=this._zlevelList[v3];var KI=this._layers[e];if(KI.__builtin__&&KI!==this._hoverlayer&&(KI.__dirty||KB)){KG.push(KI)}}var Kz=true;for(var KE=0;KE<KG.length;KE++){var KI=KG[KE];var KD=KI.ctx;var m={};KD.save();var v1=KB?KI.__startIndex:KI.__drawIndex;var KC=!KB&&KI.incremental&&Date.now;var KA=KC&&Date.now();var Z=KI.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(KI.__startIndex===KI.__endIndex){KI.clear(false,Z)}else{if(v1===KI.__startIndex){var on=KH[v1];if(!on.incremental||!on.notClear||KB){KI.clear(false,Z)}}}if(v1===-1){console.error("For some unknown reason. drawIndex is -1");v1=KI.__startIndex}for(var KF=v1;KF<KI.__endIndex;KF++){var v=KH[KF];this._doPaintEl(v,KI,KB,m);v.__dirty=v.__dirtyText=false;if(KC){var v2=Date.now()-KA;if(v2>15){break}}}KI.__drawIndex=KF;if(KI.__drawIndex<KI.__endIndex){Kz=false}if(m.prevElClipPaths){KD.restore()}KD.restore()}if(uk.wxa){qg(this._layers,function(i){if(i&&i.ctx&&i.ctx.draw){i.ctx.draw()}})}return Kz},_doPaintEl:function(Z,k,v1,v){var i=k.ctx;var e=Z.transform;if((k.__dirty||v1)&&!Z.invisible&&Z.style.opacity!==0&&!(e&&!e[0]&&!e[3])&&!(Z.culling&&pr(Z,this._width,this._height))){var on=Z.__clipPaths;var v2=v.prevElClipPaths;if(!v2||C8(on,v2)){if(v2){i.restore();v.prevElClipPaths=null;v.prevEl=null}if(on){i.save();gA(on,i);v.prevElClipPaths=on}}Z.beforeBrush&&Z.beforeBrush(i);Z.brush(i,v.prevEl||null);v.prevEl=Z;Z.afterBrush&&Z.afterBrush(i)}},getLayer:function(e,k){if(this._singleCanvas&&!this._needsManuallyCompositing){e=t}var i=this._layers[e];if(!i){i=new eG("zr_"+e,this,this.dpr);i.zlevel=e;i.__builtin__=true;if(this._layerConfig[e]){xF(i,this._layerConfig[e],true)}else{if(this._layerConfig[e-gx]){xF(i,this._layerConfig[e-gx],true)}}if(k){i.virtual=k}this.insertLayer(e,i);i.initContext()}return i},insertLayer:function(Z,v1){var e=this._layers;var m=this._zlevelList;var v2=m.length;var k=null;var v=-1;var v3=this._domRoot;if(e[Z]){Dc("ZLevel "+Z+" has been used already");return}if(!V(v1)){Dc("Layer of zlevel "+Z+" is not valid");return}if(v2>0&&Z>m[0]){for(v=0;v<v2-1;v++){if(m[v]<Z&&m[v+1]>Z){break}}k=e[m[v]]}m.splice(v+1,0,Z);e[Z]=v1;if(!v1.virtual){if(k){var on=k.dom;if(on.nextSibling){v3.insertBefore(v1.dom,on.nextSibling)}else{v3.appendChild(v1.dom)}}else{if(v3.firstChild){v3.insertBefore(v1.dom,v3.firstChild)}else{v3.appendChild(v1.dom)}}}},eachLayer:function(e,m){var v=this._zlevelList;var Z;var k;for(k=0;k<v.length;k++){Z=v[k];e.call(m,this._layers[Z],Z)}},eachBuiltinLayer:function(e,v){var Z=this._zlevelList;var m;var on;var k;for(k=0;k<Z.length;k++){on=Z[k];m=this._layers[on];if(m.__builtin__){e.call(v,m,on)}}},eachOtherLayer:function(e,v){var Z=this._zlevelList;var m;var on;var k;for(k=0;k<Z.length;k++){on=Z[k];m=this._layers[on];if(!m.__builtin__){e.call(v,m,on)}}},getLayers:function(){return this._layers},_updateLayerStatus:function(v1){this.eachBuiltinLayer(function(i,Kz){i.__dirty=i.__used=false});function m(i){if(k){if(k.__endIndex!==i){k.__dirty=true}k.__endIndex=i}}if(this._singleCanvas){for(var v=1;v<v1.length;v++){var e=v1[v];if(e.zlevel!==v1[v-1].zlevel||e.incremental){this._needsManuallyCompositing=true;break}}}var k=null;var v3=0;var v2;for(var v=0;v<v1.length;v++){var e=v1[v];var Z=e.zlevel;var on;if(v2!==Z){v2=Z;v3=0}if(e.incremental){on=this.getLayer(Z+y2,this._needsManuallyCompositing);on.incremental=true;v3=1}else{on=this.getLayer(Z+(v3>0?gx:0),this._needsManuallyCompositing)}if(!on.__builtin__){Dc("ZLevel "+Z+" has been used by unkown layer "+on.id)}if(on!==k){on.__used=true;if(on.__startIndex!==v){on.__dirty=true}on.__startIndex=v;if(!on.incremental){on.__drawIndex=v}else{on.__drawIndex=-1}m(v);k=on}if(e.__dirty){on.__dirty=true;if(on.incremental&&on.__drawIndex<0){on.__drawIndex=v}}}m(v);this.eachBuiltinLayer(function(i,Kz){if(!i.__used&&i.getElementCount()>0){i.__dirty=true;i.__startIndex=i.__endIndex=i.__drawIndex=0}if(i.__dirty&&i.__drawIndex<0){i.__drawIndex=i.__startIndex}})},clear:function(){this.eachBuiltinLayer(this._clearLayer);return this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,m){if(m){var k=this._layerConfig;if(!k[e]){k[e]=m}else{xF(k[e],m,true)}for(var on=0;on<this._zlevelList.length;on++){var Z=this._zlevelList[on];if(Z===e||Z===e+gx){var v=this._layers[Z];xF(v,k[e],true)}}}},delLayer:function(e){var m=this._layers;var k=this._zlevelList;var i=m[e];if(!i){return}i.dom.parentNode.removeChild(i.dom);delete m[e];k.splice(fc(k,e),1)},resize:function(k,i){if(!this._domRoot.style){if(k==null||i==null){return}this._width=k;this._height=i;this.getLayer(t).resize(k,i)}else{var e=this._domRoot;e.style.display="none";var m=this._opts;k!=null&&(m.width=k);i!=null&&(m.height=i);k=this._getSize(0);i=this._getSize(1);e.style.display="";if(this._width!==k||i!==this._height){e.style.width=k+"px";e.style.height=i+"px";for(var v in this._layers){if(this._layers.hasOwnProperty(v)){this._layers[v].resize(k,i)}}qg(this._progressiveLayers,function(Z){Z.resize(k,i)});this.refresh(true)}this._width=k;this._height=i}return this},clearLayer:function(e){var i=this._layers[e];if(i){i.clear()}},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){e=e||{};if(this._singleCanvas&&!this._compositeManually){return this._layers[t].dom}var k=new eG("image",this,e.pixelRatio||this.dpr);k.initContext();k.clear(false,e.backgroundColor||this._backgroundColor);if(e.pixelRatio<=this.dpr){this.refresh();var m=k.dom.width;var v1=k.dom.height;var v3=k.ctx;this.eachLayer(function(i){if(i.__builtin__){v3.drawImage(i.dom,0,0,m,v1)}else{if(i.renderToCanvas){k.ctx.save();i.renderToCanvas(k.ctx);k.ctx.restore()}}})}else{var v2={};var Z=this.storage.getDisplayList(true);for(var on=0;on<Z.length;on++){var v=Z[on];this._doPaintEl(v,k,true,v2)}}return k.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(v){var v1=this._opts;var m=["width","height"][v];var k=["clientWidth","clientHeight"][v];var Z=["paddingLeft","paddingTop"][v];var e=["paddingRight","paddingBottom"][v];if(v1[m]!=null&&v1[m]!=="auto"){return parseFloat(v1[m])}var i=this.root;var on=document.defaultView.getComputedStyle(i);return((i[k]||Gi(on[m])||Gi(i.style[m]))-(Gi(on[Z])||0)-(Gi(on[e])||0))|0},pathToImage:function(v3,e){e=e||this.dpr;var v=document.createElement("canvas");var KC=v.getContext("2d");var m=v3.getBoundingRect();var KE=v3.style;var KG=KE.shadowBlur*e;var KA=KE.shadowOffsetX*e;var Kz=KE.shadowOffsetY*e;var i=KE.hasStroke()?KE.lineWidth:0;var KD=Math.max(i/2,-KA+KG);var KF=Math.max(i/2,KA+KG);var k=Math.max(i/2,-Kz+KG);var on=Math.max(i/2,Kz+KG);var KB=m.width+KD+KF;var v2=m.height+k+on;v.width=KB*e;v.height=v2*e;KC.scale(e,e);KC.clearRect(0,0,KB,v2);KC.dpr=e;var v1={position:v3.position,rotation:v3.rotation,scale:v3.scale};v3.position=[KD-m.x,k-m.y];v3.rotation=0;v3.scale=[1,1];v3.updateTransform();if(v3){v3.brush(KC)}var Z=Hz;var KH=new Z({style:{x:0,y:0,image:v}});if(v1.position!=null){KH.position=v3.position=v1.position}if(v1.rotation!=null){KH.rotation=v3.rotation=v1.rotation}if(v1.scale!=null){KH.scale=v3.scale=v1.scale}return KH}};var zG=function(e){e=e||{};this.stage=e.stage||{};this.onframe=e.onframe||function(){};this._clips=[];this._running=false;this._time;this._pausedTime;this._pauseStart;this._paused=false;Ij.call(this)};zG.prototype={constructor:zG,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;var k=e.getClips();for(var m=0;m<k.length;m++){this.addClip(k[m])}},removeClip:function(i){var e=fc(this._clips,i);if(e>=0){this._clips.splice(e,1)}},removeAnimator:function(e){var k=e.getClips();for(var m=0;m<k.length;m++){this.removeClip(k[m])}e.animation=null},_update:function(){var v=new Date().getTime()-this._pausedTime;var Kz=v-this._time;var k=this._clips;var v1=k.length;var m=[];var v3=[];for(var on=0;on<v1;on++){var Z=k[on];var v2=Z.step(v,Kz);if(v2){m.push(v2);v3.push(Z)}}for(var on=0;on<v1;){if(k[on]._needsRemove){k[on]=k[v1-1];k.pop();v1--}else{on++}}v1=m.length;for(var on=0;on<v1;on++){v3[on].fire(m[on])}this._time=v;this.onframe(Kz);this.trigger("frame",Kz);if(this.stage.update){this.stage.update()}},_startLoop:function(){var e=this;this._running=true;function i(){if(e._running){os(i);!e._paused&&e._update()}}os(i)},start:function(){this._time=new Date().getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=false},pause:function(){if(!this._paused){this._pauseStart=new Date().getTime();this._paused=true}},resume:function(){if(this._paused){this._pausedTime+=(new Date().getTime())-this._pauseStart;this._paused=false}},clear:function(){this._clips=[]},isFinished:function(){return !this._clips.length},animate:function(k,i){i=i||{};var e=new hn(k,i.loop,i.getter,i.setter);this.addAnimator(e);return e}};Iz(zG,Ij);var jx=300;var ed=uk.domSupported;var mb=(function(){var e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var i=["touchstart","touchend","touchmove"];var m={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};var k=Gj(e,function(Z){var v=Z.replace("mouse","pointer");return m.hasOwnProperty(v)?v:Z});return{mouse:e,touch:i,pointer:k}})();var gw={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function zJ(e){return(e==="mousewheel"&&uk.browser.firefox)?"DOMMouseScroll":e}function DU(i){var e=i.pointerType;return e==="pen"||e==="touch"}function rW(e){e.touching=true;if(e.touchTimer!=null){clearTimeout(e.touchTimer);e.touchTimer=null}e.touchTimer=setTimeout(function(){e.touching=false;e.touchTimer=null},700)}function xY(e){e&&(e.zrByTouch=true)}function Gt(e,i){return C4(e.dom,new pN(e,i),true)}function Gr(e,i){var m=i;var k=false;while(m&&m.nodeType!==9&&!(k=m.domBelongToZr||(m!==i&&m===e.painterRoot))){m=m.parentNode}return k}function pN(e,i){this.type=i.type;this.target=this.currentTarget=e.dom;this.pointerType=i.pointerType;this.clientX=i.clientX;this.clientY=i.clientY}var AB=pN.prototype;AB.stopPropagation=AB.stopImmediatePropagation=AB.preventDefault=Y;var w6={mousedown:function(e){e=C4(this.dom,e);this._mayPointerCapture=[e.zrX,e.zrY];this.trigger("mousedown",e)},mousemove:function(i){i=C4(this.dom,i);var e=this._mayPointerCapture;if(e&&(i.zrX!==e[0]||i.zrY!==e[1])){fb(this,true)}this.trigger("mousemove",i)},mouseup:function(e){e=C4(this.dom,e);fb(this,false);this.trigger("mouseup",e)},mouseout:function(i){i=C4(this.dom,i);if(this._pointerCapturing){i.zrEventControl="no_globalout"}var e=i.toElement||i.relatedTarget;i.zrIsToLocalDOM=Gr(this,e);this.trigger("mouseout",i)},touchstart:function(e){e=C4(this.dom,e);xY(e);this._lastTouchMoment=new Date();this.handler.processGesture(e,"start");w6.mousemove.call(this,e);w6.mousedown.call(this,e)},touchmove:function(e){e=C4(this.dom,e);xY(e);this.handler.processGesture(e,"change");w6.mousemove.call(this,e)},touchend:function(e){e=C4(this.dom,e);xY(e);this.handler.processGesture(e,"end");w6.mouseup.call(this,e);if(+new Date()-this._lastTouchMoment<jx){w6.click.call(this,e)}},pointerdown:function(e){w6.mousedown.call(this,e)},pointermove:function(e){if(!DU(e)){w6.mousemove.call(this,e)}},pointerup:function(e){w6.mouseup.call(this,e)},pointerout:function(e){if(!DU(e)){w6.mouseout.call(this,e)}}};qg(["click","mousewheel","dblclick","contextmenu"],function(e){w6[e]=function(i){i=C4(this.dom,i);this.trigger(e,i)}});var zM={pointermove:function(e){if(!DU(e)){zM.mousemove.call(this,e)}},pointerup:function(e){zM.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var i=this._pointerCapturing;fb(this,false);this.trigger("mouseup",e);if(i){e.zrEventControl="only_globalout";this.trigger("mouseout",e)}}};function Jh(e,i){var k=i.domHandlers;if(uk.pointerEventsSupported){qg(mb.pointer,function(m){wD(i,m,function(v){k[m].call(e,v)})})}else{if(uk.touchEventsSupported){qg(mb.touch,function(m){wD(i,m,function(v){k[m].call(e,v);rW(i)})})}qg(mb.mouse,function(m){wD(i,m,function(v){v=Eu(v);if(!i.touching){k[m].call(e,v)}})})}}function ac(i,k){if(uk.pointerEventsSupported){qg(gw.pointer,e)}else{if(!uk.touchEventsSupported){qg(gw.mouse,e)}}function e(v){function m(Z){Z=Eu(Z);if(!Gr(i,Z.target)){Z=Gt(i,Z);k.domHandlers[v].call(i,Z)}}wD(k,v,m,{capture:true})}}function wD(k,i,m,e){k.mounted[i]=m;k.listenerOpts[i]=e;fR(k.domTarget,zJ(i),m,e)}function sf(i){var k=i.mounted;for(var e in k){if(k.hasOwnProperty(e)){rM(i.domTarget,zJ(e),k[e],i.listenerOpts[e])}}i.mounted={}}function fb(e,k){e._mayPointerCapture=null;if(ed&&(e._pointerCapturing^k)){e._pointerCapturing=k;var i=e._globalHandlerScope;k?ac(e,i):sf(i)}}function bN(e,i){this.domTarget=e;this.domHandlers=i;this.mounted={};this.listenerOpts={};this.touchTimer=null;this.touching=false}function kV(i,e){Ij.call(this);this.dom=i;this.painterRoot=e;this._localHandlerScope=new bN(i,w6);if(ed){this._globalHandlerScope=new bN(document,zM)}this._pointerCapturing=false;this._mayPointerCapture=null;Jh(this,this._localHandlerScope)}var k2=kV.prototype;k2.dispose=function(){sf(this._localHandlerScope);if(ed){sf(this._globalHandlerScope)}};k2.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")};Iz(kV,Ij);
/*!
 ZRender, a high performance 2d drawing library.

 Copyright (c) 2013, Baidu Inc.
 All rights reserved.

 LICENSE
 https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
;var s9=!uk.canvasSupported;var wZ={canvas:aX};var g3={};var us="4.3.2";function oC(k,e){var i=new kD(dI(),k,e);g3[i.id]=i;return i}function ED(i){if(i){i.dispose()}else{for(var e in g3){if(g3.hasOwnProperty(e)){g3[e].dispose()}}g3={}}return this}function zm(e){return g3[e]}function yG(i,e){wZ[i]=e}function i6(e){delete g3[e]}var kD=function(k,v,i){i=i||{};this.dom=v;this.id=k;var v3=this;var Z=new dM();var on=i.renderer;if(s9){if(!wZ.vml){throw new Error("You need to require 'zrender/vml/vml' to support IE8")}on="vml"}else{if(!on||!wZ[on]){on="canvas"}}var v1=new wZ[on](v,Z,i,k);this.storage=Z;this.painter=v1;var m=(!uk.node&&!uk.worker)?new kV(v1.getViewportRoot(),v1.root):null;this.handler=new eQ(Z,v1,m,v1.root);this.animation=new zG({stage:{update:k9(this.flush,this)}});this.animation.start();this._needsRefresh;var e=Z.delFromStorage;var v2=Z.addToStorage;Z.delFromStorage=function(Kz){e.call(Z,Kz);Kz&&Kz.removeSelfFromZr(v3)};Z.addToStorage=function(Kz){v2.call(Z,Kz);Kz.addSelfToZr(v3)}};kD.prototype={constructor:kD,getId:function(){return this.id},add:function(e){this.storage.addRoot(e);this._needsRefresh=true},remove:function(e){this.storage.delRoot(e);this._needsRefresh=true},configLayer:function(i,e){if(this.painter.configLayer){this.painter.configLayer(i,e)}this._needsRefresh=true},setBackgroundColor:function(e){if(this.painter.setBackgroundColor){this.painter.setBackgroundColor(e)}this._needsRefresh=true},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=false;this.painter.refresh();this._needsRefresh=this._needsRefreshHover=false},refresh:function(){this._needsRefresh=true},flush:function(){var e;if(this._needsRefresh){e=true;this.refreshImmediately()}if(this._needsRefreshHover){e=true;this.refreshHoverImmediately()}e&&this.trigger("rendered")},addHover:function(i,e){if(this.painter.addHover){var k=this.painter.addHover(i,e);this.refreshHover();return k}},removeHover:function(e){if(this.painter.removeHover){this.painter.removeHover(e);this.refreshHover()}},clearHover:function(){if(this.painter.clearHover){this.painter.clearHover();this.refreshHover()}},refreshHover:function(){this._needsRefreshHover=true},refreshHoverImmediately:function(){this._needsRefreshHover=false;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{};this.painter.resize(e.width,e.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(k,i){return this.painter.pathToImage(k,i)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,i){return this.handler.findHover(e,i)},on:function(e,k,i){this.handler.on(e,k,i)},off:function(e,i){this.handler.off(e,i)},trigger:function(e,i){this.handler.trigger(e,i)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;i6(this.id)}};var mh=(Object.freeze||Object)({version:us,init:oC,dispose:ED,getInstance:zm,registerPainter:yG});var qf=qg;var u6=u7;var Ky=IQ;var v5="series\0";function nk(e){return e instanceof Array?e:e==null?[]:[e]}function FC(v,m,on){if(v){v[m]=v[m]||{};v.emphasis=v.emphasis||{};v.emphasis[m]=v.emphasis[m]||{};for(var k=0,e=on.length;k<e;k++){var Z=on[k];if(!v.emphasis[m].hasOwnProperty(Z)&&v[m].hasOwnProperty(Z)){v.emphasis[m][Z]=v[m][Z]}}}}var De=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function zB(e){return(u6(e)&&!Ky(e)&&!(e instanceof Date))?e.value:e}function pc(e){return u6(e)&&!(e instanceof Array)}function dr(k,i){i=(i||[]).slice();var e=Gj(k||[],function(v,m){return{exist:v}});qf(i,function(m,v){if(!u6(m)){return}for(var Z=0;Z<e.length;Z++){if(!e[Z].option&&m.id!=null&&e[Z].exist.id===m.id+""){e[Z].option=m;i[v]=null;return}}for(var Z=0;Z<e.length;Z++){var on=e[Z].exist;if(!e[Z].option&&(on.id==null||m.id==null)&&m.name!=null&&!JS(m)&&!JS(on)&&on.name===m.name+""){e[Z].option=m;i[v]=null;return}}});qf(i,function(m,v){if(!u6(m)){return}var Z=0;for(;Z<e.length;Z++){var on=e[Z].exist;if(!e[Z].option&&!JS(on)&&m.id==null){e[Z].option=m;break}}if(Z>=e.length){e.push({option:m})}});return e}function BU(i){var e=EI();qf(i,function(v,k){var m=v.exist;m&&e.set(m.id,v)});qf(i,function(v,k){var m=v.option;bY(!m||m.id==null||!e.get(m.id)||e.get(m.id)===v,"id duplicates: "+(m&&m.id));m&&m.id!=null&&e.set(m.id,v);!v.keyInfo&&(v.keyInfo={})});qf(i,function(Z,k){var v=Z.exist;var m=Z.option;var v1=Z.keyInfo;if(!u6(m)){return}v1.name=m.name!=null?m.name+"":v?v.name:v5+k;if(v){v1.id=v.id}else{if(m.id!=null){v1.id=m.id+""}else{var on=0;do{v1.id="\0"+v1.name+"\0"+on++}while(e.get(v1.id))}}e.set(v1.id,Z)})}function sa(e){var i=e.name;return !!(i&&i.indexOf(v5))}function JS(e){return u6(e)&&e.id&&(e.id+"").indexOf("\0_ec_\0")===0}function cE(v,m){var k={};var e={};Z(v||[],k);Z(m||[],e,k);return[i(k),i(e)];function Z(Kz,KF,KA){for(var v3=0,KB=Kz.length;v3<KB;v3++){var KD=Kz[v3].seriesId;var v1=nk(Kz[v3].dataIndex);var on=KA&&KA[KD];for(var v2=0,KE=v1.length;v2<KE;v2++){var KC=v1[v2];if(on&&on[KC]){on[KC]=null}else{(KF[KD]||(KF[KD]={}))[KC]=1}}}}function i(v2,Kz){var on=[];for(var v1 in v2){if(v2.hasOwnProperty(v1)&&v2[v1]!=null){if(Kz){on.push(+v1)}else{var v3=i(v2[v1],true);v3.length&&on.push({seriesId:v1,dataIndex:v3})}}}return on}}function yQ(e,i){if(i.dataIndexInside!=null){return i.dataIndexInside}else{if(i.dataIndex!=null){return IQ(i.dataIndex)?Gj(i.dataIndex,function(k){return e.indexOfRawIndex(k)}):e.indexOfRawIndex(i.dataIndex)}else{if(i.name!=null){return IQ(i.name)?Gj(i.name,function(k){return e.indexOfName(k)}):e.indexOfName(i.name)}}}}function gc(){var e="__\0ec_inner_"+l+++"_"+Math.random().toFixed(5);return function(i){return i[e]||(i[e]={})}}var l=0;function oD(i,v,k){if(xN(v)){var m={};m[v+"Index"]=0;v=m}var Z=k&&k.defaultMainType;if(Z&&!pC(v,Z+"Index")&&!pC(v,Z+"Id")&&!pC(v,Z+"Name")){v[Z+"Index"]=0}var e={};qf(v,function(Kz,v1){var Kz=v[v1];if(v1==="dataIndex"||v1==="dataIndexInside"){e[v1]=Kz;return}var v3=v1.match(/^(\w+)(Index|Id|Name)$/)||[];var KB=v3[1];var on=(v3[2]||"").toLowerCase();if(!KB||!on||Kz==null||(on==="index"&&Kz==="none")||(k&&k.includeMainTypes&&fc(k.includeMainTypes,KB)<0)){return}var v2={mainType:KB};if(on!=="index"||Kz!=="all"){v2[on]=Kz}var KA=i.queryComponents(v2);e[KB+"Models"]=KA;e[KB+"Model"]=KA[0]});return e}function pC(e,i){return e&&e.hasOwnProperty(i)}function b6(k,e,i){k.setAttribute?k.setAttribute(e,i):(k[e]=i)}function xp(i,e){return i.getAttribute?i.getAttribute(e):i[e]}function AW(e){if(e==="auto"){return uk.domSupported?"html":"richText"}else{return e||"html"}}function a1(m,e){var i=EI();var k=[];qg(m,function(Z){var v=e(Z);(i.get(v)||(k.push(v),i.set(v,[]))).push(Z)});return{keys:k,buckets:i}}var J8=".";var jI="___EC__COMPONENT__CONTAINER___";function qk(i){var e={main:"",sub:""};if(i){i=i.split(J8);e.main=i[0]||"";e.sub=i[1]||""}return e}function v8(e){bY(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function Cz(i,e){i.$constructor=i;i.extend=function(m){if(pm){qg(e,function(Z){if(!m[Z]){console.warn("Method `"+Z+"` should be implemented"+(m.type?" in "+m.type:"")+".")}})}var k=this;var v=function(){if(!m.$constructor){k.apply(this,arguments)}else{m.$constructor.apply(this,arguments)}};cc(v.prototype,m);v.extend=this.extend;v.superCall=ls;v.superApply=Ag;nm(v,this);v.superClass=k;return v}}var cA=0;function BX(e){var i=["__\0is_clz",cA++,Math.random().toFixed(3)].join("_");e.prototype[i]=true;if(pm){bY(!e.isInstance,'The method "is" can not be defined.')}e.isInstance=function(k){return !!(k&&k[i])}}function ls(k,e){var i=iL(arguments,2);return this.superClass.prototype[e].apply(k,i)}function Ag(k,e,i){return this.superClass.prototype[e].apply(k,i)}function z0(e,i){i=i||{};var v={};e.registerClass=function(v1,on){if(on){v8(on);on=qk(on);if(!on.sub){if(pm){if(v[on.main]){console.warn(on.main+" exists.")}}v[on.main]=v1}else{if(on.sub!==jI){var Z=m(on);Z[on.sub]=v1}}}return v1};e.getClass=function(Z,v1,v2){var on=v[Z];if(on&&on[jI]){on=v1?on[v1]:null}if(v2&&!on){throw new Error(!v1?Z+".type should be specified.":"Component "+Z+"."+(v1||"")+" not exists. Load it first.")}return on};e.getClassesByMainType=function(on){on=qk(on);var Z=[];var v1=v[on.main];if(v1&&v1[jI]){qg(v1,function(v3,v2){v2!==jI&&Z.push(v3)})}else{Z.push(v1)}return Z};e.hasClass=function(Z){Z=qk(Z);return !!v[Z.main]};e.getAllClassMainTypes=function(){var Z=[];qg(v,function(v1,on){Z.push(on)});return Z};e.hasSubTypes=function(Z){Z=qk(Z);var on=v[Z.main];return on&&on[jI]};e.parseClassType=qk;function m(on){var Z=v[on.main];if(!Z||!Z[jI]){Z=v[on.main]={};Z[jI]=true}return Z}if(i.registerWhenExtend){var k=e.extend;if(k){e.extend=function(Z){var on=k.call(this,Z);return e.registerClass(on,Z.type)}}}return e}var Ax=function(k){for(var e=0;e<k.length;e++){if(!k[e][1]){k[e][1]=k[e][0]}}return function(m,v3,Z){var on={};for(var v=0;v<k.length;v++){var v1=k[v][1];if((v3&&fc(v3,v1)>=0)||(Z&&fc(Z,v1)<0)){continue}var v2=m.getShallow(v1);if(v2!=null){on[k[v][0]]=v2}}return on}};var k4=Ax([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var dy={getLineStyle:function(i){var e=k4(this,i);e.lineDash=this.getLineDash(e.lineWidth);return e},getLineDash:function(i){if(i==null){i=1}var m=this.get("type");var k=Math.max(i,2);var e=i*4;return(m==="solid"||m==null)?false:m==="dashed"?[e,e]:[k,k]}};var W=Ax([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]);var gp={getAreaStyle:function(i,e){return W(this,i,e)}};var yx=Math.pow;var hU=Math.sqrt;var mg=1e-8;var Ew=0.0001;var bS=hU(3);var b1=1/3;var bE=Jk();var bC=Jk();var bA=Jk();function Iw(e){return e>-mg&&e<mg}function xg(e){return e>mg||e<-mg}function aZ(Z,v,m,k,e){var i=1-e;return i*i*(i*Z+3*e*v)+e*e*(e*k+3*i*m)}function hv(Z,v,m,k,e){var i=1-e;return 3*(((v-Z)*i+2*(m-v)*e)*i+(k-m)*e*e)}function dj(Z,v,m,i,KO,Kz){var KN=i+3*(v-m)-Z;var KM=3*(m-v*2+Z);var KL=3*(v-Z);var KJ=Z-KO;var KH=KM*KM-3*KN*KL;var KG=KM*KL-9*KN*KJ;var KF=KL*KL-3*KM*KJ;var KI=0;if(Iw(KH)&&Iw(KG)){if(Iw(KM)){Kz[0]=0}else{var KE=-KL/KM;if(KE>=0&&KE<=1){Kz[KI++]=KE}}}else{var e=KG*KG-4*KH*KF;if(Iw(e)){var KC=KG/KH;var KE=-KM/KN+KC;var KD=-KC/2;if(KE>=0&&KE<=1){Kz[KI++]=KE}if(KD>=0&&KD<=1){Kz[KI++]=KD}}else{if(e>0){var k=hU(e);var v2=KH*KM+1.5*KN*(-KG+k);var v1=KH*KM+1.5*KN*(-KG-k);if(v2<0){v2=-yx(-v2,b1)}else{v2=yx(v2,b1)}if(v1<0){v1=-yx(-v1,b1)}else{v1=yx(v1,b1)}var KE=(-KM-(v2+v1))/(3*KN);if(KE>=0&&KE<=1){Kz[KI++]=KE}}else{var on=(2*KH*KM-3*KN*KG)/(2*hU(KH*KH*KH));var KA=Math.acos(on)/3;var v3=hU(KH);var KK=Math.cos(KA);var KE=(-KM-2*v3*KK)/(3*KN);var KD=(-KM+v3*(KK+bS*Math.sin(KA)))/(3*KN);var KB=(-KM+v3*(KK-bS*Math.sin(KA)))/(3*KN);if(KE>=0&&KE<=1){Kz[KI++]=KE}if(KD>=0&&KD<=1){Kz[KI++]=KD}if(KB>=0&&KB<=1){Kz[KI++]=KB}}}}return KI}function Gq(KA,Kz,v3,v2,v){var on=6*v3-12*Kz+6*KA;var v1=9*Kz+3*v2-3*KA-9*v3;var Z=3*Kz-3*KA;var e=0;if(Iw(v1)){if(xg(on)){var m=-Z/on;if(m>=0&&m<=1){v[e++]=m}}}else{var i=on*on-4*v1*Z;if(Iw(i)){v[0]=-on/(2*v1)}else{if(i>0){var KB=hU(i);var m=(-on+KB)/(2*v1);var k=(-on-KB)/(2*v1);if(m>=0&&m<=1){v[e++]=m}if(k>=0&&k<=1){v[e++]=k}}}}return e}function gT(v3,v2,v1,on,Kz,i){var k=(v2-v3)*Kz+v3;var e=(v1-v2)*Kz+v2;var m=(on-v1)*Kz+v1;var KA=(e-k)*Kz+k;var Z=(m-e)*Kz+e;var v=(Z-KA)*Kz+KA;i[0]=v3;i[1]=k;i[2]=KA;i[3]=v;i[4]=v;i[5]=Z;i[6]=m;i[7]=on}function sj(KE,v,KD,m,KC,k,KB,e,on,Z,KA){var v1;var KH=0.005;var KG=Infinity;var v2;var v3;var KJ;var KI;bE[0]=on;bE[1]=Z;for(var KF=0;KF<1;KF+=0.05){bC[0]=aZ(KE,KD,KC,KB,KF);bC[1]=aZ(v,m,k,e,KF);KJ=cz(bE,bC);if(KJ<KG){v1=KF;KG=KJ}}KG=Infinity;for(var Kz=0;Kz<32;Kz++){if(KH<Ew){break}v2=v1-KH;v3=v1+KH;bC[0]=aZ(KE,KD,KC,KB,v2);bC[1]=aZ(v,m,k,e,v2);KJ=cz(bC,bE);if(v2>=0&&KJ<KG){v1=v2;KG=KJ}else{bA[0]=aZ(KE,KD,KC,KB,v3);bA[1]=aZ(v,m,k,e,v3);KI=cz(bA,bE);if(v3<=1&&KI<KG){v1=v3;KG=KI}else{KH*=0.5}}}if(KA){KA[0]=aZ(KE,KD,KC,KB,v1);KA[1]=aZ(v,m,k,e,v1)}return hU(KG)}function lj(v,m,k,e){var i=1-e;return i*(i*v+2*e*m)+e*e*k}function w5(m,k,i,e){return 2*((1-e)*(k-m)+e*(i-k))}function tA(KA,v3,v2,i,Kz){var v1=KA-2*v3+v2;var on=2*(v3-KA);var Z=KA-i;var e=0;if(Iw(v1)){if(xg(on)){var v=-Z/on;if(v>=0&&v<=1){Kz[e++]=v}}}else{var k=on*on-4*v1*Z;if(Iw(k)){var v=-on/(2*v1);if(v>=0&&v<=1){Kz[e++]=v}}else{if(k>0){var KB=hU(k);var v=(-on+KB)/(2*v1);var m=(-on-KB)/(2*v1);if(v>=0&&v<=1){Kz[e++]=v}if(m>=0&&m<=1){Kz[e++]=m}}}}return e}function xX(m,k,i){var e=m+i-2*k;if(e===0){return 0.5}else{return(m-k)/e}}function GI(v1,on,Z,k,i){var m=(on-v1)*k+v1;var v=(Z-on)*k+on;var e=(v-m)*k+m;i[0]=v1;i[1]=m;i[2]=e;i[3]=e;i[4]=v;i[5]=Z}function Hn(KC,m,KB,k,KA,e,Z,v,Kz){var on;var KF=0.005;var KE=Infinity;bE[0]=Z;bE[1]=v;for(var KD=0;KD<1;KD+=0.05){bC[0]=lj(KC,KB,KA,KD);bC[1]=lj(m,k,e,KD);var KH=cz(bE,bC);if(KH<KE){on=KD;KE=KH}}KE=Infinity;for(var v3=0;v3<32;v3++){if(KF<Ew){break}var v1=on-KF;var v2=on+KF;bC[0]=lj(KC,KB,KA,v1);bC[1]=lj(m,k,e,v1);var KH=cz(bC,bE);if(v1>=0&&KH<KE){on=v1;KE=KH}else{bA[0]=lj(KC,KB,KA,v2);bA[1]=lj(m,k,e,v2);var KG=cz(bA,bE);if(v2<=1&&KG<KE){on=v2;KE=KG}else{KF*=0.5}}}if(Kz){Kz[0]=lj(KC,KB,KA,on);Kz[1]=lj(m,k,e,on)}return hU(KE)}var ke=Math.min;var CE=Math.max;var I8=Math.sin;var B4=Math.cos;var gY=Math.PI*2;var d=Jk();var ij=Jk();var eX=Jk();function pO(v1,on,v2){if(v1.length===0){return}var k=v1[0];var m=k[0];var v3=k[0];var Z=k[1];var e=k[1];var v;for(v=1;v<v1.length;v++){k=v1[v];m=ke(m,k[0]);v3=CE(v3,k[0]);Z=ke(Z,k[1]);e=CE(e,k[1])}on[0]=m;on[1]=Z;v2[0]=v3;v2[1]=e}function pn(k,Z,e,v,m,i){m[0]=ke(k,e);m[1]=ke(Z,v);i[0]=CE(k,e);i[1]=CE(Z,v)}var to=[];var EO=[];function aE(v,KE,m,KC,k,Kz,e,v2,KB,KF){var KD=Gq;var on=aZ;var v1;var Z=KD(v,m,k,e,to);KB[0]=Infinity;KB[1]=Infinity;KF[0]=-Infinity;KF[1]=-Infinity;for(v1=0;v1<Z;v1++){var KA=on(v,m,k,e,to[v1]);KB[0]=ke(KA,KB[0]);KF[0]=CE(KA,KF[0])}Z=KD(KE,KC,Kz,v2,EO);for(v1=0;v1<Z;v1++){var v3=on(KE,KC,Kz,v2,EO[v1]);KB[1]=ke(v3,KB[1]);KF[1]=CE(v3,KF[1])}KB[0]=ke(v,KB[0]);KF[0]=CE(v,KF[0]);KB[0]=ke(e,KB[0]);KF[0]=CE(e,KF[0]);KB[1]=ke(KE,KB[1]);KF[1]=CE(KE,KF[1]);KB[1]=ke(v2,KB[1]);KF[1]=CE(v2,KF[1])}function jF(m,KB,k,Kz,e,v2,KA,KC){var i=xX;var on=lj;var Z=CE(ke(i(m,k,e),1),0);var v=CE(ke(i(KB,Kz,v2),1),0);var v3=on(m,k,e,Z);var v1=on(KB,Kz,v2,v);KA[0]=ke(m,e,v3);KA[1]=ke(KB,v2,v1);KC[0]=CE(m,e,v3);KC[1]=CE(KB,v2,v1)}function sx(Kz,v2,i,e,v1,m,v,v3,KC){var KB=Dp;var k=F9;var KA=Math.abs(v1-m);if(KA%gY<0.0001&&KA>0.0001){v3[0]=Kz-i;v3[1]=v2-e;KC[0]=Kz+i;KC[1]=v2+e;return}d[0]=B4(v1)*i+Kz;d[1]=I8(v1)*e+v2;ij[0]=B4(m)*i+Kz;ij[1]=I8(m)*e+v2;KB(v3,d,ij);k(KC,d,ij);v1=v1%(gY);if(v1<0){v1=v1+gY}m=m%(gY);if(m<0){m=m+gY}if(v1>m&&!v){m+=gY}else{if(v1<m&&v){v1+=gY}}if(v){var on=m;m=v1;v1=on}for(var Z=0;Z<m;Z+=Math.PI/2){if(Z>v1){eX[0]=B4(Z)*i+Kz;eX[1]=I8(Z)*e+v2;KB(v3,eX,v3);k(KC,eX,KC)}}}var hI={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7};var C9=[];var i0=[];var xb=[];var aA=[];var kf=Math.min;var CF=Math.max;var B7=Math.cos;var Ja=Math.sin;var hV=Math.sqrt;var r3=Math.abs;var xm=typeof Float32Array!=="undefined";var kQ=function(e){this._saveData=!(e||false);if(this._saveData){this.data=[]}this._ctx=null};kQ.prototype={constructor:kQ,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(k,i,e){e=e||0;this._ux=r3(e/iH/k)||0;this._uy=r3(e/iH/i)||0},getContext:function(){return this._ctx},beginPath:function(e){this._ctx=e;e&&e.beginPath();e&&(this.dpr=e.dpr);if(this._saveData){this._len=0}if(this._lineDash){this._lineDash=null;this._dashOffset=0}return this},moveTo:function(e,i){this.addData(hI.M,e,i);this._ctx&&this._ctx.moveTo(e,i);this._x0=e;this._y0=i;this._xi=e;this._yi=i;return this},lineTo:function(e,k){var i=r3(e-this._xi)>this._ux||r3(k-this._yi)>this._uy||this._len<5;this.addData(hI.L,e,k);if(this._ctx&&i){this._needsDash()?this._dashedLineTo(e,k):this._ctx.lineTo(e,k)}if(i){this._xi=e;this._yi=k}return this},bezierCurveTo:function(m,Z,i,v,e,k){this.addData(hI.C,m,Z,i,v,e,k);if(this._ctx){this._needsDash()?this._dashedBezierTo(m,Z,i,v,e,k):this._ctx.bezierCurveTo(m,Z,i,v,e,k)}this._xi=e;this._yi=k;return this},quadraticCurveTo:function(i,m,e,k){this.addData(hI.Q,i,m,e,k);if(this._ctx){this._needsDash()?this._dashedQuadraticTo(i,m,e,k):this._ctx.quadraticCurveTo(i,m,e,k)}this._xi=e;this._yi=k;return this},arc:function(e,Z,m,k,i,v){this.addData(hI.A,e,Z,m,m,k,i-k,0,v?0:1);this._ctx&&this._ctx.arc(e,Z,m,k,i,v);this._xi=B7(i)*m+e;this._yi=Ja(i)*m+Z;return this},arcTo:function(k,v,i,m,e){if(this._ctx){this._ctx.arcTo(k,v,i,m,e)}return this},rect:function(e,m,i,k){this._ctx&&this._ctx.rect(e,m,i,k);this.addData(hI.R,e,m,i,k);return this},closePath:function(){this.addData(hI.Z);var e=this._ctx;var i=this._x0;var k=this._y0;if(e){this._needsDash()&&this._dashedLineTo(i,k);e.closePath()}this._xi=i;this._yi=k;return this},fill:function(e){e&&e.fill();this.toStatic()},stroke:function(e){e&&e.stroke();this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e;this._dashIdx=0;var m=0;for(var k=0;k<e.length;k++){m+=e[k]}this._dashSum=m}return this},setLineDashOffset:function(e){this._dashOffset=e;return this},len:function(){return this._len},setData:function(m){var k=m.length;if(!(this.data&&this.data.length===k)&&xm){this.data=new Float32Array(k)}for(var e=0;e<k;e++){this.data[e]=m[e]}this._len=k},appendPath:function(v1){if(!(v1 instanceof Array)){v1=[v1]}var Z=v1.length;var m=0;var v2=this._len;for(var v=0;v<Z;v++){m+=v1[v].len()}if(xm&&(this.data instanceof Float32Array)){this.data=new Float32Array(v2+m)}for(var v=0;v<Z;v++){var on=v1[v].data;for(var e=0;e<on.length;e++){this.data[v2++]=on[e]}}this._len=v2},addData:function(m){if(!this._saveData){return}var k=this.data;if(this._len+arguments.length>k.length){this._expandData();k=this.data}for(var e=0;e<arguments.length;e++){k[this._len++]=arguments[e]}this._prevCmd=m},_expandData:function(){if(!(this.data instanceof Array)){var k=[];for(var e=0;e<this._len;e++){k[e]=this.data[e]}this.data=k}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,Kz){var on=this._dashSum;var Z=this._dashOffset;var v=this._lineDash;var KD=this._ctx;var i=this._xi;var KB=this._yi;var KE=e-i;var KC=Kz-KB;var m=hV(KE*KE+KC*KC);var v3=i;var v2=KB;var v1;var k=v.length;var KA;KE/=m;KC/=m;if(Z<0){Z=on+Z}Z%=on;v3-=Z*KE;v2-=Z*KC;while((KE>0&&v3<=e)||(KE<0&&v3>=e)||(KE===0&&((KC>0&&v2<=Kz)||(KC<0&&v2>=Kz)))){KA=this._dashIdx;v1=v[KA];v3+=KE*v1;v2+=KC*v1;this._dashIdx=(KA+1)%k;if((KE>0&&v3<i)||(KE<0&&v3>i)||(KC>0&&v2<KB)||(KC<0&&v2>KB)){continue}KD[KA%2?"moveTo":"lineTo"](KE>=0?kf(v3,e):CF(v3,e),KC>=0?kf(v2,Kz):CF(v2,Kz))}KE=v3-e;KC=v2-Kz;this._dashOffset=-hV(KE*KE+KC*KC)},_dashedBezierTo:function(KJ,k,KI,i,KH,e){var KG=this._dashSum;var on=this._dashOffset;var v=this._lineDash;var KF=this._ctx;var KK=this._xi;var m=this._yi;var KB;var KA;var Kz;var KC=aZ;var v2=0;var KD=this._dashIdx;var KE=v.length;var v3;var v1;var Z=0;if(on<0){on=KG+on}on%=KG;for(KB=0;KB<1;KB+=0.1){KA=KC(KK,KJ,KI,KH,KB+0.1)-KC(KK,KJ,KI,KH,KB);Kz=KC(m,k,i,e,KB+0.1)-KC(m,k,i,e,KB);v2+=hV(KA*KA+Kz*Kz)}for(;KD<KE;KD++){Z+=v[KD];if(Z>on){break}}KB=(Z-on)/v2;while(KB<=1){v3=KC(KK,KJ,KI,KH,KB);v1=KC(m,k,i,e,KB);KD%2?KF.moveTo(v3,v1):KF.lineTo(v3,v1);KB+=v[KD]/v2;KD=(KD+1)%KE}(KD%2!==0)&&KF.lineTo(KH,e);KA=KH-v3;Kz=e-v1;this._dashOffset=-hV(KA*KA+Kz*Kz)},_dashedQuadraticTo:function(m,Z,i,v){var e=i;var k=v;i=(i+2*m)/3;v=(v+2*Z)/3;m=(this._xi+2*m)/3;Z=(this._yi+2*Z)/3;this._dashedBezierTo(m,Z,i,v,e,k)},toStatic:function(){var e=this.data;if(e instanceof Array){e.length=this._len;if(xm){this.data=new Float32Array(e)}}},getBoundingRect:function(){C9[0]=C9[1]=xb[0]=xb[1]=Number.MAX_VALUE;i0[0]=i0[1]=aA[0]=aA[1]=-Number.MAX_VALUE;var KA=this.data;var KD=0;var v3=0;var v=0;var KE=0;for(var KB=0;KB<KA.length;){var v1=KA[KB++];if(KB===1){KD=KA[KB];v3=KA[KB+1];v=KD;KE=v3}switch(v1){case hI.M:v=KA[KB++];KE=KA[KB++];KD=v;v3=KE;xb[0]=v;xb[1]=KE;aA[0]=v;aA[1]=KE;break;case hI.L:pn(KD,v3,KA[KB],KA[KB+1],xb,aA);KD=KA[KB++];v3=KA[KB++];break;case hI.C:aE(KD,v3,KA[KB++],KA[KB++],KA[KB++],KA[KB++],KA[KB],KA[KB+1],xb,aA);KD=KA[KB++];v3=KA[KB++];break;case hI.Q:jF(KD,v3,KA[KB++],KA[KB++],KA[KB],KA[KB+1],xb,aA);KD=KA[KB++];v3=KA[KB++];break;case hI.A:var Kz=KA[KB++];var v2=KA[KB++];var m=KA[KB++];var e=KA[KB++];var KC=KA[KB++];var Z=KA[KB++]+KC;KB+=1;var on=1-KA[KB++];if(KB===1){v=B7(KC)*m+Kz;KE=Ja(KC)*e+v2}sx(Kz,v2,m,e,KC,Z,on,xb,aA);KD=B7(Z)*m+Kz;v3=Ja(Z)*e+v2;break;case hI.R:v=KD=KA[KB++];KE=v3=KA[KB++];var k=KA[KB++];var KF=KA[KB++];pn(v,KE,v+k,KE+KF,xb,aA);break;case hI.Z:KD=v;v3=KE;break}Dp(C9,C9,xb);F9(i0,i0,aA)}if(KB===0){C9[0]=C9[1]=i0[0]=i0[1]=0}return new EG(C9[0],C9[1],i0[0]-C9[0],i0[1]-C9[1])},rebuildPath:function(KG){var KM=this.data;var KK;var v;var KE;var KP;var KB;var KA;var v3=this._ux;var v1=this._uy;var e=this._len;for(var KI=0;KI<e;){var KH=KM[KI++];if(KI===1){KE=KM[KI];KP=KM[KI+1];KK=KE;v=KP}switch(KH){case hI.M:KK=KE=KM[KI++];v=KP=KM[KI++];KG.moveTo(KE,KP);break;case hI.L:KB=KM[KI++];KA=KM[KI++];if(r3(KB-KE)>v3||r3(KA-KP)>v1||KI===e-1){KG.lineTo(KB,KA);KE=KB;KP=KA}break;case hI.C:KG.bezierCurveTo(KM[KI++],KM[KI++],KM[KI++],KM[KI++],KM[KI++],KM[KI++]);KE=KM[KI-2];KP=KM[KI-1];break;case hI.Q:KG.quadraticCurveTo(KM[KI++],KM[KI++],KM[KI++],KM[KI++]);KE=KM[KI-2];KP=KM[KI-1];break;case hI.A:var m=KM[KI++];var k=KM[KI++];var on=KM[KI++];var Z=KM[KI++];var Kz=KM[KI++];var KJ=KM[KI++];var KL=KM[KI++];var v2=KM[KI++];var KD=(on>Z)?on:Z;var KO=(on>Z)?1:on/Z;var KN=(on>Z)?Z/on:1;var KC=Math.abs(on-Z)>0.001;var KF=Kz+KJ;if(KC){KG.translate(m,k);KG.rotate(KL);KG.scale(KO,KN);KG.arc(0,0,KD,Kz,KF,1-v2);KG.scale(1/KO,1/KN);KG.rotate(-KL);KG.translate(-m,-k)}else{KG.arc(m,k,KD,Kz,KF,1-v2)}if(KI===1){KK=B7(Kz)*on+m;v=Ja(Kz)*Z+k}KE=B7(KF)*on+m;KP=Ja(KF)*Z+k;break;case hI.R:KK=KE=KM[KI];v=KP=KM[KI+1];KG.rect(KM[KI++],KM[KI++],KM[KI++],KM[KI++]);break;case hI.Z:KG.closePath();KE=KK;KP=v}}}};kQ.CMD=hI;function r9(i,Kz,e,v2,v,v3,v1){if(v===0){return false}var k=v;var on=0;var Z=i;if((v1>Kz+k&&v1>v2+k)||(v1<Kz-k&&v1<v2-k)||(v3>i+k&&v3>e+k)||(v3<i-k&&v3<e-k)){return false}if(i!==e){on=(Kz-v2)/(i-e);Z=(i*v2-e*Kz)/(i-e)}else{return Math.abs(v3-i)<=k/2}var m=on*v3-v1+Z;var KA=m*m/(on*on+1);return KA<=k/2*k/2}function r8(m,KB,k,KA,i,v3,e,v1,Z,Kz,v2){if(Z===0){return false}var v=Z;if((v2>KB+v&&v2>KA+v&&v2>v3+v&&v2>v1+v)||(v2<KB-v&&v2<KA-v&&v2<v3-v&&v2<v1-v)||(Kz>m+v&&Kz>k+v&&Kz>i+v&&Kz>e+v)||(Kz<m-v&&Kz<k-v&&Kz<i-v&&Kz<e-v)){return false}var on=sj(m,KB,k,KA,i,v3,e,v1,Kz,v2,null);return on<=v/2}function r7(k,Kz,i,v2,e,v1,v,v3,on){if(v===0){return false}var m=v;if((on>Kz+m&&on>v2+m&&on>v1+m)||(on<Kz-m&&on<v2-m&&on<v1-m)||(v3>k+m&&v3>i+m&&v3>e+m)||(v3<k-m&&v3<i-m&&v3<e-m)){return false}var Z=Hn(k,Kz,i,v2,e,v1,v3,on,null);return Z<=m/2}var Jf=Math.PI*2;function HB(e){e%=Jf;if(e<0){e+=Jf}return e}var Jg=Math.PI*2;function r5(on,Z,e,v3,i,m,v2,KB,KA){if(v2===0){return false}var k=v2;KB-=on;KA-=Z;var Kz=Math.sqrt(KB*KB+KA*KA);if((Kz-k>e)||(Kz+k<e)){return false}if(Math.abs(v3-i)%Jg<0.0001){return true}if(m){var v1=v3;v3=HB(i);i=HB(v1)}else{v3=HB(v3);i=HB(i)}if(v3>i){i+=Jg}var v=Math.atan2(KA,KB);if(v<0){v+=Jg}return(v>=v3&&v<=i)||(v+Jg>=v3&&v+Jg<=i)}function nl(k,v1,i,Z,on,v){if((v>v1&&v>Z)||(v<v1&&v<Z)){return 0}if(Z===v1){return 0}var m=Z<v1?1:-1;var v2=(v-v1)/(Z-v1);if(v2===1||v2===0){m=Z<v1?0.5:-0.5}var e=v2*(i-k)+k;return e===on?Infinity:e>on?m:0}var HZ=kQ.CMD;var Ji=Math.PI*2;var me=0.0001;function k3(i,e){return Math.abs(i-e)<me}var Es=[-1,-1,-1];var yr=[-1,-1];function q5(){var e=yr[0];yr[0]=yr[1];yr[1]=e}function jQ(KI,Z,KG,v,KF,m,KE,k,v2,v1){if((v1>Z&&v1>v&&v1>m&&v1>k)||(v1<Z&&v1<v&&v1<m&&v1<k)){return 0}var e=dj(Z,v,m,k,v1,Es);if(e===0){return 0}else{var v3=0;var KC=-1;var on;var KB;for(var KD=0;KD<e;KD++){var Kz=Es[KD];var KA=(Kz===0||Kz===1)?0.5:1;var KH=aZ(KI,KG,KF,KE,Kz);if(KH<v2){continue}if(KC<0){KC=Gq(Z,v,m,k,yr);if(yr[1]<yr[0]&&KC>1){q5()}on=aZ(Z,v,m,k,yr[0]);if(KC>1){KB=aZ(Z,v,m,k,yr[1])}}if(KC===2){if(Kz<yr[0]){v3+=on<Z?KA:-KA}else{if(Kz<yr[1]){v3+=KB<on?KA:-KA}else{v3+=k<KB?KA:-KA}}}else{if(Kz<yr[0]){v3+=on<Z?KA:-KA}else{v3+=k<on?KA:-KA}}}return v3}}function sn(v,KD,m,Kz,e,v2,KA,v1){if((v1>KD&&v1>Kz&&v1>v2)||(v1<KD&&v1<Kz&&v1<v2)){return 0}var on=tA(KD,Kz,v2,v1,Es);if(on===0){return 0}else{var KE=xX(KD,Kz,v2);if(KE>=0&&KE<=1){var KC=0;var v3=lj(KD,Kz,v2,KE);for(var Z=0;Z<on;Z++){var KB=(Es[Z]===0||Es[Z]===1)?0.5:1;var k=lj(v,m,e,Es[Z]);if(k<KA){continue}if(Es[Z]<KE){KC+=v3<KD?KB:-KB}else{KC+=v2<v3?KB:-KB}}return KC}else{var KB=(Es[0]===0||Es[0]===1)?0.5:1;var k=lj(v,m,e,Es[0]);if(k<KA){return 0}return v2<KD?KB:-KB}}}function Fl(v2,v1,e,KA,m,Z,KC,KB){KB-=v1;if(KB>e||KB<-e){return 0}var Kz=Math.sqrt(e*e-KB*KB);Es[0]=-Kz;Es[1]=Kz;var KE=Math.abs(KA-m);if(KE<0.0001){return 0}if(KE%Ji<0.0001){KA=0;m=Ji;var v=Z?1:-1;if(KC>=Es[0]+v2&&KC<=Es[1]+v2){return v}else{return 0}}if(Z){var Kz=KA;KA=HB(m);m=HB(Kz)}else{KA=HB(KA);m=HB(m)}if(KA>m){m+=Ji}var KD=0;for(var v3=0;v3<2;v3++){var k=Es[v3];if(k+v2>KC){var on=Math.atan2(KB,k);var v=Z?1:-1;if(on<0){on=Ji+on}if((on>=KA&&on<=m)||(on+Ji>=KA&&on+Ji<=m)){if(on>Math.PI/2&&on<Math.PI*1.5){v=-v}KD+=v}}}return KD}function DL(KN,e,KK,KA,Kz){var KB=0;var KD=0;var KM=0;var KL=0;var on=0;for(var KG=0;KG<KN.length;){var KF=KN[KG++];if(KF===HZ.M&&KG>1){if(!KK){KB+=nl(KD,KM,KL,on,KA,Kz)}}if(KG===1){KD=KN[KG];KM=KN[KG+1];KL=KD;on=KM}switch(KF){case HZ.M:KL=KN[KG++];on=KN[KG++];KD=KL;KM=on;break;case HZ.L:if(KK){if(r9(KD,KM,KN[KG],KN[KG+1],e,KA,Kz)){return true}}else{KB+=nl(KD,KM,KN[KG],KN[KG+1],KA,Kz)||0}KD=KN[KG++];KM=KN[KG++];break;case HZ.C:if(KK){if(r8(KD,KM,KN[KG++],KN[KG++],KN[KG++],KN[KG++],KN[KG],KN[KG+1],e,KA,Kz)){return true}}else{KB+=jQ(KD,KM,KN[KG++],KN[KG++],KN[KG++],KN[KG++],KN[KG],KN[KG+1],KA,Kz)||0}KD=KN[KG++];KM=KN[KG++];break;case HZ.Q:if(KK){if(r7(KD,KM,KN[KG++],KN[KG++],KN[KG],KN[KG+1],e,KA,Kz)){return true}}else{KB+=sn(KD,KM,KN[KG++],KN[KG++],KN[KG],KN[KG+1],KA,Kz)||0}KD=KN[KG++];KM=KN[KG++];break;case HZ.A:var Z=KN[KG++];var m=KN[KG++];var v2=KN[KG++];var v1=KN[KG++];var v3=KN[KG++];var KJ=KN[KG++];KG+=1;var k=1-KN[KG++];var KI=Math.cos(v3)*v2+Z;var v=Math.sin(v3)*v1+m;if(KG>1){KB+=nl(KD,KM,KI,v,KA,Kz)}else{KL=KI;on=v}var KH=(KA-Z)*v1/v2+Z;if(KK){if(r5(Z,m,v1,v3,v3+KJ,k,e,KH,Kz)){return true}}else{KB+=Fl(Z,m,v1,v3,v3+KJ,k,KH,Kz)}KD=Math.cos(v3+KJ)*v2+Z;KM=Math.sin(v3+KJ)*v1+m;break;case HZ.R:KL=KD=KN[KG++];on=KM=KN[KG++];var KE=KN[KG++];var KC=KN[KG++];var KI=KL+KE;var v=on+KC;if(KK){if(r9(KL,on,KI,on,e,KA,Kz)||r9(KI,on,KI,v,e,KA,Kz)||r9(KI,v,KL,v,e,KA,Kz)||r9(KL,v,KL,on,e,KA,Kz)){return true}}else{KB+=nl(KI,on,KI,v,KA,Kz);KB+=nl(KL,v,KL,on,KA,Kz)}break;case HZ.Z:if(KK){if(r9(KD,KM,KL,on,e,KA,Kz)){return true}}else{KB+=nl(KD,KM,KL,on,KA,Kz)}KD=KL;KM=on;break}}if(!KK&&!k3(KM,on)){KB+=nl(KD,KM,KL,on,KA,Kz)||0}return KB!==0}function n9(i,e,k){return DL(i,0,false,e,k)}function fo(k,i,e,m){return DL(k,i,true,e,m)}var rF=p5.prototype.getCanvasPattern;var wG=Math.abs;var JH=new kQ(true);function nh(e){Ku.call(this,e);this.path=null}nh.prototype={constructor:nh,type:"path",__dirtyPath:true,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:false,brush:function(v3,v1){var KA=this.style;var v2=this.path||JH;var KD=KA.hasStroke();var v=KA.hasFill();var Kz=KA.fill;var k=KA.stroke;var KB=v&&!!(Kz.colorStops);var KF=KD&&!!(k.colorStops);var on=v&&!!(Kz.image);var KC=KD&&!!(k.image);KA.bind(v3,this,v1);this.setTransform(v3);if(this.__dirty){var e;if(KB){e=e||this.getBoundingRect();this._fillGradient=KA.getGradient(v3,Kz,e)}if(KF){e=e||this.getBoundingRect();this._strokeGradient=KA.getGradient(v3,k,e)}}if(KB){v3.fillStyle=this._fillGradient}else{if(on){v3.fillStyle=rF.call(Kz,v3)}}if(KF){v3.strokeStyle=this._strokeGradient}else{if(KC){v3.strokeStyle=rF.call(k,v3)}}var i=KA.lineDash;var Z=KA.lineDashOffset;var KE=!!v3.setLineDash;var KG=this.getGlobalScale();v2.setScale(KG[0],KG[1],this.segmentIgnoreThreshold);if(this.__dirtyPath||(i&&!KE&&KD)){v2.beginPath(v3);if(i&&!KE){v2.setLineDash(i);v2.setLineDashOffset(Z)}this.buildPath(v2,this.shape,false);if(this.path){this.__dirtyPath=false}}else{v3.beginPath();this.path.rebuildPath(v3)}if(v){if(KA.fillOpacity!=null){var m=v3.globalAlpha;v3.globalAlpha=KA.fillOpacity*KA.opacity;v2.fill(v3);v3.globalAlpha=m}else{v2.fill(v3)}}if(i&&KE){v3.setLineDash(i);v3.lineDashOffset=Z}if(KD){if(KA.strokeOpacity!=null){var m=v3.globalAlpha;v3.globalAlpha=KA.strokeOpacity*KA.opacity;v2.stroke(v3);v3.globalAlpha=m}else{v2.stroke(v3)}}if(i&&KE){v3.setLineDash([])}if(KA.text!=null){this.restoreTransform(v3);this.drawRectText(v3,this.getBoundingRect())}},buildPath:function(e,i,k){},createPathProxy:function(){this.path=new kQ()},getBoundingRect:function(){var v=this._rect;var m=this.style;var Z=!v;if(Z){var on=this.path;if(!on){on=this.path=new kQ()}if(this.__dirtyPath){on.beginPath();this.buildPath(on,this.shape,false)}v=on.getBoundingRect()}this._rect=v;if(m.hasStroke()){var k=this._rectWithStroke||(this._rectWithStroke=v.clone());if(this.__dirty||Z){k.copy(v);var e=m.lineWidth;var i=m.strokeNoScale?this.getLineScale():1;if(!m.hasFill()){e=Math.max(e,this.strokeContainThreshold||4)}if(i>1e-10){k.width+=e/i;k.height+=e/i;k.x-=e/i/2;k.y-=e/i/2}}return k}return v},contain:function(i,v1){var on=this.transformCoordToLocal(i,v1);var v=this.getBoundingRect();var m=this.style;i=on[0];v1=on[1];if(v.contain(i,v1)){var Z=this.path.data;if(m.hasStroke()){var e=m.lineWidth;var k=m.strokeNoScale?this.getLineScale():1;if(k>1e-10){if(!m.hasFill()){e=Math.max(e,this.strokeContainThreshold)}if(fo(Z,e/k,i,v1)){return true}}}if(m.hasFill()){return n9(Z,i,v1)}}return false},dirty:function(e){if(e==null){e=true}if(e){this.__dirtyPath=e;this._rect=null}this.__dirty=this.__dirtyText=true;this.__zr&&this.__zr.refresh();if(this.__clipTarget){this.__clipTarget.dirty()}},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,i){if(e==="shape"){this.setShape(i);this.__dirtyPath=true;this._rect=null}else{Ku.prototype.attrKV.call(this,e,i)}},setShape:function(k,m){var e=this.shape;if(e){if(u7(k)){for(var i in k){if(k.hasOwnProperty(i)){e[i]=k[i]}}}else{e[k]=m}this.dirty(true)}return this},getLineScale:function(){var e=this.transform;return e&&wG(e[0]-1)>1e-10&&wG(e[3]-1)>1e-10?Math.sqrt(wG(e[0]*e[3]-e[2]*e[1])):1}};nh.extend=function(k){var e=function(v){nh.call(this,v);if(k.style){this.style.extendFrom(k.style,false)}var on=k.shape;if(on){this.shape=this.shape||{};var Z=this.shape;for(var m in on){if(!Z.hasOwnProperty(m)&&on.hasOwnProperty(m)){Z[m]=on[m]}}}k.init&&k.init.call(this,v)};nm(e,nh);for(var i in k){if(i!=="style"&&i!=="shape"){e.prototype[i]=k[i]}}return e};nm(nh,Ku);var HX=kQ.CMD;var DI=[[],[],[]];var hT=Math.sqrt;var vq=Math.atan2;var t9=function(KC,KF){var KL=KC.data;var KI;var v3;var KJ;var KH;var KG;var KE;var Z=HX.M;var KA=HX.C;var on=HX.L;var e=HX.R;var KD=HX.A;var v=HX.Q;for(KJ=0,KH=0;KJ<KL.length;){KI=KL[KJ++];KH=KJ;v3=0;switch(KI){case Z:v3=1;break;case on:v3=1;break;case KA:v3=3;break;case v:v3=2;break;case KD:var v2=KF[4];var v1=KF[5];var KB=hT(KF[0]*KF[0]+KF[1]*KF[1]);var Kz=hT(KF[2]*KF[2]+KF[3]*KF[3]);var KK=vq(-KF[1]/Kz,KF[0]/KB);KL[KJ]*=KB;KL[KJ++]+=v2;KL[KJ]*=Kz;KL[KJ++]+=v1;KL[KJ++]*=KB;KL[KJ++]*=Kz;KL[KJ++]+=KK;KL[KJ++]+=KK;KJ+=2;KH=KJ;break;case e:KE[0]=KL[KJ++];KE[1]=KL[KJ++];a5(KE,KE,KF);KL[KH++]=KE[0];KL[KH++]=KE[1];KE[0]+=KL[KJ++];KE[1]+=KL[KJ++];a5(KE,KE,KF);KL[KH++]=KE[0];KL[KH++]=KE[1]}for(KG=0;KG<v3;KG++){var KE=DI[KG];KE[0]=KL[KJ++];KE[1]=KL[KJ++];a5(KE,KE,KF);KL[KH++]=KE[0];KL[KH++]=KE[1]}}};var BC=Math.sqrt;var DD=Math.sin;var Bv=Math.cos;var fC=Math.PI;var gC=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])};var cS=function(i,e){return(i[0]*e[0]+i[1]*e[1])/(gC(i)*gC(e))};var k1=function(i,e){return(i[0]*e[1]<i[1]*e[0]?-1:1)*Math.acos(cS(i,e))};function qJ(KJ,m,KI,i,KG,v3,v2,v1,Z,KH,KF){var KN=Z*(fC/180);var KA=Bv(KN)*(KJ-KI)/2+DD(KN)*(m-i)/2;var KK=-1*DD(KN)*(KJ-KI)/2+Bv(KN)*(m-i)/2;var KD=(KA*KA)/(v2*v2)+(KK*KK)/(v1*v1);if(KD>1){v2*=BC(KD);v1*=BC(KD)}var KM=(KG===v3?-1:1)*BC((((v2*v2)*(v1*v1))-((v2*v2)*(KK*KK))-((v1*v1)*(KA*KA)))/((v2*v2)*(KK*KK)+(v1*v1)*(KA*KA)))||0;var on=KM*v2*KK/v1;var KE=KM*-v1*KA/v2;var k=(KJ+KI)/2+Bv(KN)*on-DD(KN)*KE;var e=(m+i)/2+DD(KN)*on+Bv(KN)*KE;var Kz=k1([1,0],[(KA-on)/v2,(KK-KE)/v1]);var KC=[(KA-on)/v2,(KK-KE)/v1];var KB=[(-1*KA-on)/v2,(-1*KK-KE)/v1];var KL=k1(KC,KB);if(cS(KC,KB)<=-1){KL=fC}if(cS(KC,KB)>=1){KL=0}if(v3===0&&KL>0){KL=KL-2*fC}if(v3===1&&KL<0){KL=KL+2*fC}KF.addData(KH,k,e,v2,v1,Kz,KL,KN,v3)}var pG=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig;var nY=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function mk(KR){if(!KR){return new kQ()}var v2=0;var v1=0;var Kz=v2;var v3=v1;var KE;var KA=new kQ();var KL=kQ.CMD;var Z=KR.match(pG);for(var KD=0;KD<Z.length;KD++){var KP=Z[KD];var k=KP.charAt(0);var KF;var KB=KP.match(nY)||[];var KH=KB.length;for(var KG=0;KG<KH;KG++){KB[KG]=parseFloat(KB[KG])}var KQ=0;while(KQ<KH){var KO;var KN;var v;var m;var KM;var KC;var on;var KK=v2;var e=v1;switch(k){case"l":v2+=KB[KQ++];v1+=KB[KQ++];KF=KL.L;KA.addData(KF,v2,v1);break;case"L":v2=KB[KQ++];v1=KB[KQ++];KF=KL.L;KA.addData(KF,v2,v1);break;case"m":v2+=KB[KQ++];v1+=KB[KQ++];KF=KL.M;KA.addData(KF,v2,v1);Kz=v2;v3=v1;k="l";break;case"M":v2=KB[KQ++];v1=KB[KQ++];KF=KL.M;KA.addData(KF,v2,v1);Kz=v2;v3=v1;k="L";break;case"h":v2+=KB[KQ++];KF=KL.L;KA.addData(KF,v2,v1);break;case"H":v2=KB[KQ++];KF=KL.L;KA.addData(KF,v2,v1);break;case"v":v1+=KB[KQ++];KF=KL.L;KA.addData(KF,v2,v1);break;case"V":v1=KB[KQ++];KF=KL.L;KA.addData(KF,v2,v1);break;case"C":KF=KL.C;KA.addData(KF,KB[KQ++],KB[KQ++],KB[KQ++],KB[KQ++],KB[KQ++],KB[KQ++]);v2=KB[KQ-2];v1=KB[KQ-1];break;case"c":KF=KL.C;KA.addData(KF,KB[KQ++]+v2,KB[KQ++]+v1,KB[KQ++]+v2,KB[KQ++]+v1,KB[KQ++]+v2,KB[KQ++]+v1);v2+=KB[KQ-2];v1+=KB[KQ-1];break;case"S":KO=v2;KN=v1;var KI=KA.len();var KJ=KA.data;if(KE===KL.C){KO+=v2-KJ[KI-4];KN+=v1-KJ[KI-3]}KF=KL.C;KK=KB[KQ++];e=KB[KQ++];v2=KB[KQ++];v1=KB[KQ++];KA.addData(KF,KO,KN,KK,e,v2,v1);break;case"s":KO=v2;KN=v1;var KI=KA.len();var KJ=KA.data;if(KE===KL.C){KO+=v2-KJ[KI-4];KN+=v1-KJ[KI-3]}KF=KL.C;KK=v2+KB[KQ++];e=v1+KB[KQ++];v2+=KB[KQ++];v1+=KB[KQ++];KA.addData(KF,KO,KN,KK,e,v2,v1);break;case"Q":KK=KB[KQ++];e=KB[KQ++];v2=KB[KQ++];v1=KB[KQ++];KF=KL.Q;KA.addData(KF,KK,e,v2,v1);break;case"q":KK=KB[KQ++]+v2;e=KB[KQ++]+v1;v2+=KB[KQ++];v1+=KB[KQ++];KF=KL.Q;KA.addData(KF,KK,e,v2,v1);break;case"T":KO=v2;KN=v1;var KI=KA.len();var KJ=KA.data;if(KE===KL.Q){KO+=v2-KJ[KI-4];KN+=v1-KJ[KI-3]}v2=KB[KQ++];v1=KB[KQ++];KF=KL.Q;KA.addData(KF,KO,KN,v2,v1);break;case"t":KO=v2;KN=v1;var KI=KA.len();var KJ=KA.data;if(KE===KL.Q){KO+=v2-KJ[KI-4];KN+=v1-KJ[KI-3]}v2+=KB[KQ++];v1+=KB[KQ++];KF=KL.Q;KA.addData(KF,KO,KN,v2,v1);break;case"A":v=KB[KQ++];m=KB[KQ++];KM=KB[KQ++];KC=KB[KQ++];on=KB[KQ++];KK=v2,e=v1;v2=KB[KQ++];v1=KB[KQ++];KF=KL.A;qJ(KK,e,v2,v1,KC,on,v,m,KM,KF,KA);break;case"a":v=KB[KQ++];m=KB[KQ++];KM=KB[KQ++];KC=KB[KQ++];on=KB[KQ++];KK=v2,e=v1;v2+=KB[KQ++];v1+=KB[KQ++];KF=KL.A;qJ(KK,e,v2,v1,KC,on,v,m,KM,KF,KA);break}}if(k==="z"||k==="Z"){KF=KL.Z;KA.addData(KF);v2=Kz;v1=v3}KE=KF}KA.toStatic();return KA}function Jc(k,i){var e=mk(k);i=i||{};i.buildPath=function(v){if(v.setData){v.setData(e.data);var m=v.getContext();if(m){v.rebuildPath(m)}}else{var m=v;e.rebuildPath(m)}};i.applyTransform=function(v){t9(e,v);this.dirty(true)};return i}function fO(i,e){return new nh(Jc(i,e))}function ci(i,e){return nh.extend(Jc(i,e))}function ns(m,on){var v1=[];var k=m.length;for(var Z=0;Z<k;Z++){var v=m[Z];if(!v.path){v.createPathProxy()}if(v.__dirtyPath){v.buildPath(v.path,v.shape,true)}v1.push(v.path)}var e=new nh(on);e.createPathProxy();e.buildPath=function(v2){v2.appendPath(v1);var i=v2.getContext();if(i){v2.rebuildPath(i)}};return e}var jv=function(e){Ku.call(this,e)};jv.prototype={constructor:jv,type:"text",brush:function(e,i){var k=this.style;this.__dirty&&qo(k,true);k.fill=k.stroke=k.shadowBlur=k.shadowColor=k.shadowOffsetX=k.shadowOffsetY=null;var m=k.text;m!=null&&(m+="");if(!Gz(m,k)){e.__attrCachedBy=cl.NONE;return}this.setTransform(e);Cs(this,e,m,k,null,i);this.restoreTransform(e)},getBoundingRect:function(){var i=this.style;this.__dirty&&qo(i,true);if(!this._rect){var m=i.text;m!=null?(m+=""):(m="");var k=IA(i.text+"",i.font,i.textAlign,i.textVerticalAlign,i.textPadding,i.textLineHeight,i.rich);k.x+=i.x||0;k.y+=i.y||0;if(yB(i.textStroke,i.textStrokeWidth)){var e=i.textStrokeWidth;k.x-=e/2;k.y-=e/2;k.width+=e;k.height+=e}this._rect=k}return this._rect}};nm(jv,Ku);var IS=nh.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,i,k){if(k){e.moveTo(i.cx+i.r,i.cy)}e.arc(i.cx,i.cy,i.r,0,Math.PI*2,true)}});var Dy=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];var oe=function(e){return(uk.browser.ie&&uk.browser.version>=11)?function(){var v3=this.__clipPaths;var v1=this.style;var v;if(v3){for(var Z=0;Z<v3.length;Z++){var v2=v3[Z];var k=v2&&v2.shape;var on=v2&&v2.type;if(k&&((on==="sector"&&k.startAngle===k.endAngle)||(on==="rect"&&(!k.width||!k.height)))){for(var m=0;m<Dy.length;m++){Dy[m][2]=v1[Dy[m][0]];v1[Dy[m][0]]=Dy[m][1]}v=true;break}}}e.apply(this,arguments);if(v){for(var m=0;m<Dy.length;m++){v1[Dy[m][0]]=Dy[m][2]}}}:e};var uW=nh.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:true},brush:oe(nh.prototype.brush),buildPath:function(Kz,Z){var v3=Z.cx;var v1=Z.cy;var m=Math.max(Z.r0||0,0);var e=Math.max(Z.r,0);var v=Z.startAngle;var k=Z.endAngle;var i=Z.clockwise;var v2=Math.cos(v);var on=Math.sin(v);Kz.moveTo(v2*m+v3,on*m+v1);Kz.lineTo(v2*e+v3,on*e+v1);Kz.arc(v3,v1,e,v,k,!i);Kz.lineTo(Math.cos(k)*m+v3,Math.sin(k)*m+v1);if(m!==0){Kz.arc(v3,v1,m,k,v,i)}Kz.closePath()}});var tp=nh.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(i,k){var e=k.cx;var v=k.cy;var m=Math.PI*2;i.moveTo(e+k.r,v);i.arc(e,v,k.r,0,m,false);i.moveTo(e+k.r0,v);i.arc(e,v,k.r0,0,m,true)}});function od(v1,on,v,m,v2,i,e){var Z=(v-v1)*0.5;var k=(m-on)*0.5;return(2*(on-v)+Z+k)*e+(-3*(on-v)-2*Z-k)*i+Z*v2+on}var iD=function(KD,e){var KB=KD.length;var v1=[];var Z=0;for(var on=1;on<KB;on++){Z+=BZ(KD[on-1],KD[on])}var k=Z/2;k=k<KB?KB:k;for(var on=0;on<k;on++){var v2=on/(k-1)*(e?KB:KB-1);var KA=Math.floor(v2);var Kz=v2-KA;var KF;var KE=KD[KA%KB];var KC;var v3;if(!e){KF=KD[KA===0?KA:KA-1];KC=KD[KA>KB-2?KB-1:KA+1];v3=KD[KA>KB-3?KB-1:KA+2]}else{KF=KD[(KA-1+KB)%KB];KC=KD[(KA+1)%KB];v3=KD[(KA+2)%KB]}var v=Kz*Kz;var m=Kz*v;v1.push([od(KF[0],KE[0],KC[0],v3[0],Kz,v,m),od(KF[1],KE[1],KC[1],v3[1],Kz,v,m)])}return v1};var wT=function(KF,KB,KK,e){var Kz=[];var KA=[];var v2=[];var Z=[];var KE;var KH;var KC;var v3;if(e){KC=[Infinity,Infinity];v3=[-Infinity,-Infinity];for(var KG=0,m=KF.length;KG<m;KG++){Dp(KC,KC,KF[KG]);F9(v3,v3,KF[KG])}Dp(KC,KC,e[0]);F9(v3,v3,e[1])}for(var KG=0,m=KF.length;KG<m;KG++){var KD=KF[KG];if(KK){KE=KF[KG?KG-1:m-1];KH=KF[(KG+1)%m]}else{if(KG===0||KG===m-1){Kz.push(wm(KF[KG]));continue}else{KE=KF[KG-1];KH=KF[KG+1]}}DJ(KA,KH,KE);JT(KA,KA,KB);var k=BZ(KD,KE);var KL=BZ(KD,KH);var on=k+KL;if(on!==0){k/=on;KL/=on}JT(v2,KA,-k);JT(Z,KA,KL);var KJ=v0([],KD,v2);var KI=v0([],KD,Z);if(e){F9(KJ,KJ,KC);Dp(KJ,KJ,v3);F9(KI,KI,KC);Dp(KI,KI,v3)}Kz.push(KJ);Kz.push(KI)}if(KK){Kz.push(Kz.shift())}return Kz};function Az(KA,v3,on){var Kz=v3.points;var e=v3.smooth;if(Kz&&Kz.length>=2){if(e&&e!=="spline"){var KB=wT(Kz,e,on,v3.smoothConstraint);KA.moveTo(Kz[0][0],Kz[0][1]);var v2=Kz.length;for(var v1=0;v1<(on?v2:v2-1);v1++){var Z=KB[v1*2];var v=KB[v1*2+1];var k=Kz[(v1+1)%v2];KA.bezierCurveTo(Z[0],Z[1],v[0],v[1],k[0],k[1])}}else{if(e==="spline"){Kz=iD(Kz,on)}KA.moveTo(Kz[0][0],Kz[0][1]);for(var v1=1,m=Kz.length;v1<m;v1++){KA.lineTo(Kz[v1][0],Kz[v1][1])}}on&&KA.closePath()}}var iO=nh.extend({type:"polygon",shape:{points:null,smooth:false,smoothConstraint:null},buildPath:function(e,i){Az(e,i,true)}});var BY=nh.extend({type:"polyline",shape:{points:null,smooth:false,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,i){Az(e,i,false)}});var E=Math.round;function eg(v1,on,Z){if(!on){return}var k=on.x1;var i=on.x2;var v=on.y1;var m=on.y2;v1.x1=k;v1.x2=i;v1.y1=v;v1.y2=m;var e=Z&&Z.lineWidth;if(!e){return}if(E(k*2)===E(i*2)){v1.x1=v1.x2=jn(k,e,true)}if(E(v*2)===E(m*2)){v1.y1=v1.y2=jn(v,e,true)}}function sO(on,Z,v){if(!Z){return}var m=Z.x;var k=Z.y;var i=Z.width;var v1=Z.height;on.x=m;on.y=k;on.width=i;on.height=v1;var e=v&&v.lineWidth;if(!e){return}on.x=jn(m,e,true);on.y=jn(k,e,true);on.width=Math.max(jn(m+i,e,false)-on.x,i===0?0:1);on.height=Math.max(jn(k+v1,e,false)-on.y,v1===0?0:1)}function jn(i,e,k){if(!e){return i}var m=E(i*2);return(m+E(e))%2===0?m/2:(m+(k?1:-1))/2}var jP={};var GM=nh.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(k,m){var i;var Z;var v;var e;if(this.subPixelOptimize){sO(jP,m,this.style);i=jP.x;Z=jP.y;v=jP.width;e=jP.height;jP.r=m.r;m=jP}else{i=m.x;Z=m.y;v=m.width;e=m.height}if(!m.r){k.rect(i,Z,v,e)}else{uD(k,m)}k.closePath();return}});var vs={};var Br=nh.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,k){var m;var Z;var i;var v;if(this.subPixelOptimize){eg(vs,k,this.style);m=vs.x1;Z=vs.y1;i=vs.x2;v=vs.y2}else{m=k.x1;Z=k.y1;i=k.x2;v=k.y2}var on=k.percent;if(on===0){return}e.moveTo(m,Z);if(on<1){i=m*(1-on)+i*on;v=Z*(1-on)+v*on}e.lineTo(i,v)},pointAt:function(i){var e=this.shape;return[e.x1*(1-i)+e.x2*i,e.y1*(1-i)+e.y2*i]}});var aV=[];function d2(i,k,e){var m=i.cpx2;var v=i.cpy2;if(m===null||v===null){return[(e?hv:aZ)(i.x1,i.cpx1,i.cpx2,i.x2,k),(e?hv:aZ)(i.y1,i.cpy1,i.cpy2,i.y2,k)]}else{return[(e?w5:lj)(i.x1,i.cpx1,i.x2,k),(e?w5:lj)(i.y1,i.cpy1,i.y2,k)]}}var hy=nh.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(Kz,on){var i=on.x1;var v3=on.y1;var e=on.x2;var v2=on.y2;var v1=on.cpx1;var m=on.cpy1;var Z=on.cpx2;var k=on.cpy2;var v=on.percent;if(v===0){return}Kz.moveTo(i,v3);if(Z==null||k==null){if(v<1){GI(i,v1,e,v,aV);v1=aV[1];e=aV[2];GI(v3,m,v2,v,aV);m=aV[1];v2=aV[2]}Kz.quadraticCurveTo(v1,m,e,v2)}else{if(v<1){gT(i,v1,Z,e,v,aV);v1=aV[1];Z=aV[2];e=aV[3];gT(v3,m,k,v2,v,aV);m=aV[1];k=aV[2];v2=aV[3]}Kz.bezierCurveTo(v1,m,Z,k,e,v2)}},pointAt:function(e){return d2(this.shape,e,false)},tangentAt:function(e){var i=d2(this.shape,e,true);return yj(i,i)}});var q2=nh.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:true},style:{stroke:"#000",fill:null},buildPath:function(v3,v){var v2=v.cx;var on=v.cy;var e=Math.max(v.r,0);var m=v.startAngle;var k=v.endAngle;var i=v.clockwise;var v1=Math.cos(m);var Z=Math.sin(m);v3.moveTo(v1*e+v2,Z*e+on);v3.arc(v2,on,e,m,k,!i)}});var j9=nh.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){var k=this.__dirtyPath;var m=this.shape.paths;for(var e=0;e<m.length;e++){k=k||m[e].__dirtyPath}this.__dirtyPath=k;this.__dirty=this.__dirty||k},beforeBrush:function(){this._updatePathDirty();var m=this.shape.paths||[];var k=this.getGlobalScale();for(var e=0;e<m.length;e++){if(!m[e].path){m[e].createPathProxy()}m[e].path.setScale(k[0],k[1],m[e].segmentIgnoreThreshold)}},buildPath:function(e,k){var v=k.paths||[];for(var m=0;m<v.length;m++){v[m].buildPath(e,v[m].shape,true)}},afterBrush:function(){var k=this.shape.paths||[];for(var e=0;e<k.length;e++){k[e].__dirtyPath=false}},getBoundingRect:function(){this._updatePathDirty();return nh.prototype.getBoundingRect.call(this)}});var mN=function(e){this.colorStops=e||[]};mN.prototype={constructor:mN,addColorStop:function(i,e){this.colorStops.push({offset:i,color:e})}};var v6=function(e,Z,k,m,i,v){this.x=e==null?0:e;this.y=Z==null?0:Z;this.x2=k==null?1:k;this.y2=m==null?0:m;this.type="linear";this.global=v||false;mN.call(this,i)};v6.prototype={constructor:v6};nm(v6,mN);var p1=function(e,v,k,i,m){this.x=e==null?0.5:e;this.y=v==null?0.5:v;this.r=k==null?0.5:k;this.type="radial";this.global=m||false;mN.call(this,i)};p1.prototype={constructor:p1};nm(p1,mN);function BB(e){Ku.call(this,e);this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.notClear=true}BB.prototype.incremental=true;BB.prototype.clearDisplaybles=function(){this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.dirty();this.notClear=false};BB.prototype.addDisplayable=function(e,i){if(i){this._temporaryDisplayables.push(e)}else{this._displayables.push(e)}this.dirty()};BB.prototype.addDisplayables=function(m,k){k=k||false;for(var e=0;e<m.length;e++){this.addDisplayable(m[e],k)}};BB.prototype.eachPendingDisplayable=function(e){for(var k=this._cursor;k<this._displayables.length;k++){e&&e(this._displayables[k])}for(var k=0;k<this._temporaryDisplayables.length;k++){e&&e(this._temporaryDisplayables[k])}};BB.prototype.update=function(){this.updateTransform();for(var k=this._cursor;k<this._displayables.length;k++){var e=this._displayables[k];e.parent=this;e.update();e.parent=null}for(var k=0;k<this._temporaryDisplayables.length;k++){var e=this._temporaryDisplayables[k];e.parent=this;e.update();e.parent=null}};BB.prototype.brush=function(e,v){for(var m=this._cursor;m<this._displayables.length;m++){var k=this._displayables[m];k.beforeBrush&&k.beforeBrush(e);k.brush(e,m===this._cursor?null:this._displayables[m-1]);k.afterBrush&&k.afterBrush(e)}this._cursor=m;for(var m=0;m<this._temporaryDisplayables.length;m++){var k=this._temporaryDisplayables[m];k.beforeBrush&&k.beforeBrush(e);k.brush(e,m===0?null:this._temporaryDisplayables[m-1]);k.afterBrush&&k.afterBrush(e)}this._temporaryDisplayables=[];this.notClear=true};var Jo=[];BB.prototype.getBoundingRect=function(){if(!this._rect){var v=new EG(Infinity,Infinity,-Infinity,-Infinity);for(var m=0;m<this._displayables.length;m++){var k=this._displayables[m];var e=k.getBoundingRect().clone();if(k.needLocalTransform()){e.applyTransform(k.getLocalTransform(Jo))}v.union(e)}this._rect=v}return this._rect};BB.prototype.contain=function(e,on){var Z=this.transformCoordToLocal(e,on);var v=this.getBoundingRect();if(v.contain(Z[0],Z[1])){for(var m=0;m<this._displayables.length;m++){var k=this._displayables[m];if(k.contain(e,on)){return true}}}return false};nm(BB,Ku);var CH=Math.max;var kh=Math.min;var Cu={};var fB=1;var wB={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"};var sE="emphasis";var f1="normal";var gJ=1;var gS={};var sq={};function JJ(e){return nh.extend(e)}function sF(i,e){return ci(i,e)}function yV(e,i){sq[e]=i}function gX(e){if(sq.hasOwnProperty(e)){return sq[e]}}function C5(v,k,i,e){var m=fO(v,k);if(i){if(e==="center"){i=C3(i,m.getBoundingRect())}ey(m,i)}return m}function IC(e,k,i){var m=new Hz({style:{image:e,x:k.x,y:k.y,width:k.width,height:k.height},onload:function(v){if(i==="center"){var Z={width:v.width,height:v.height};m.setStyle(C3(k,Z))}}});return m}function C3(Z,m){var k=m.width/m.height;var v=Z.height*k;var i;if(v<=Z.width){i=Z.height}else{v=Z.width;i=v/k}var e=Z.x+Z.width/2;var on=Z.y+Z.height/2;return{x:e-v/2,y:on-i/2,width:v,height:i}}var so=ns;function ey(v,i){if(!v.applyTransform){return}var k=v.getBoundingRect();var e=k.calculateTransform(i);v.applyTransform(e)}function dG(e){eg(e.shape,e.shape,e.style);return e}function jc(e){sO(e.shape,e.shape,e.style);return e}var IE=jn;function iZ(e){return e!=null&&e!=="none"}var HV=EI();var A9=0;function B8(e){if(typeof e!=="string"){return e}var i=HV.get(e);if(!i){i=nP(e,-0.1);if(A9<10000){HV.set(e,i);A9++}}return i}function HF(k){if(!k.__hoverStlDirty){return}k.__hoverStlDirty=false;var m=k.__hoverStl;if(!m){k.__cachedNormalStl=k.__cachedNormalZ2=null;return}var v=k.__cachedNormalStl={};k.__cachedNormalZ2=k.z2;var i=k.style;for(var e in m){if(m[e]!=null){v[e]=i[e]}}v.fill=i.fill;v.stroke=i.stroke}function bc(m){var k=m.__hoverStl;if(!k||m.__highlighted){return}var v=m.__zr;var e=m.useHoverLayer&&v&&v.painter.type==="canvas";m.__highlighted=e?"layer":"plain";if(m.isGroup||(!v&&m.useHoverLayer)){return}var Z=m;var i=m.style;if(e){Z=v.addHover(m);i=Z.style}Hw(i);if(!e){HF(Z)}i.extendFrom(k);fF(i,k,"fill");fF(i,k,"stroke");t2(i);if(!e){m.dirty(false);m.z2+=fB}}function fF(e,i,k){if(!iZ(i[k])&&iZ(e[k])){e[k]=B8(e[k])}}function T(m){var v=m.__highlighted;if(!v){return}m.__highlighted=false;if(m.isGroup){return}if(v==="layer"){m.__zr&&m.__zr.removeHover(m)}else{var k=m.style;var i=m.__cachedNormalStl;if(i){Hw(k);m.setStyle(i);t2(k)}var e=m.__cachedNormalZ2;if(e!=null&&m.z2-e===fB){m.z2=e}}}function cd(k,Z,v){var m=f1;var e=f1;var i;k.__highlighted&&(m=sE,i=true);Z(k,v);k.__highlighted&&(e=sE,i=true);k.isGroup&&k.traverse(function(on){!on.isGroup&&Z(on,v)});i&&k.__highDownOnUpdate&&k.__highDownOnUpdate(m,e)}function l8(i,e){e=i.__hoverStl=e!==false&&(i.hoverStyle||e||{});i.__hoverStlDirty=true;if(i.__highlighted){i.__cachedNormalStl=null;T(i);bc(i)}}function iB(i){!tu(this,i)&&!this.__highByOuter&&cd(this,bc)}function gR(i){!tu(this,i)&&!this.__highByOuter&&cd(this,T)}function Ii(e){this.__highByOuter|=1<<(e||0);cd(this,bc)}function q6(e){!(this.__highByOuter&=~(1<<(e||0)))&&cd(this,T)}function tu(i,k){return i.__highDownSilentOnTouch&&k.zrByTouch}function z3(e,i){pK(e,true);cd(e,l8,i)}function pK(k,e){var i=e===false;k.__highDownSilentOnTouch=k.highDownSilentOnTouch;k.__highDownOnUpdate=k.highDownOnUpdate;if(!i||k.__highDownDispatcher){var m=i?"off":"on";k[m]("mouseover",iB)[m]("mouseout",gR);k[m]("emphasis",Ii)[m]("normal",q6);k.__highByOuter=k.__highByOuter||0;k.__highDownDispatcher=!i}}function iC(e){return !!(e&&e.__highDownDispatcher)}function nu(e){var i=gS[e];if(i==null&&gJ<=32){i=gS[e]=gJ++}return i}function Dz(e,k,on,v3,i,KD,KB){i=i||Cu;var v=i.labelFetcher;var v2=i.labelDataIndex;var Kz=i.labelDimIndex;var Z=i.labelProp;var KA=on.getShallow("show");var KE=v3.getShallow("show");var KC;if(KA||KE){if(v){KC=v.getFormattedLabel(v2,"normal",null,Kz,Z)}if(KC==null){KC=Hb(i.defaultText)?i.defaultText(v2,i):i.defaultText}}var v1=KA?KC:null;var m=KE?kY(v?v.getFormattedLabel(v2,"emphasis",null,Kz,Z):null,KC):null;if(v1!=null||m!=null){ql(e,on,KD,i);ql(k,v3,KB,i,true)}e.text=v1;k.text=m}function F8(m,e,k){var i=m.style;if(e){Hw(i);m.setStyle(e);t2(i)}i=m.__hoverStl;if(k&&i){Hw(i);cc(i,k);t2(i)}}function ql(v,e,m,k,i){EK(v,e,k,i);m&&cc(v,m);return v}function F5(v,m,k){var i={isRectText:true};var e;if(k===false){e=true}else{i.autoColor=k}EK(v,m,i,e)}function EK(v1,v3,k,v){k=k||Cu;if(k.isRectText){var KA;if(k.getTextPosition){KA=k.getTextPosition(v3,v)}else{KA=v3.getShallow("position")||(v?null:"inside");KA==="outside"&&(KA="top")}v1.textPosition=KA;v1.textOffset=v3.getShallow("offset");var m=v3.getShallow("rotate");m!=null&&(m*=Math.PI/180);v1.textRotation=m;v1.textDistance=kY(v3.getShallow("distance"),v?null:5)}var on=v3.ecModel;var Z=on&&on.option.textStyle;var v2=x9(v3);var e;if(v2){e={};for(var i in v2){if(v2.hasOwnProperty(i)){var Kz=v3.getModel(["rich",i]);Bq(e[i]={},Kz,Z,k,v)}}}v1.rich=e;Bq(v1,v3,Z,k,v,true);if(k.forceRich&&!k.textStyle){k.textStyle={}}return v1}function x9(m){var e;while(m&&m!==m.ecModel){var i=(m.option||Cu).rich;if(i){e=e||{};for(var k in i){if(i.hasOwnProperty(k)){e[k]=1}}}m=m.parentModel}return e}function Bq(Z,i,v,m,k,e){v=!k&&v||Cu;Z.textFill=k8(i.getShallow("color"),m)||v.color;Z.textStroke=k8(i.getShallow("textBorderColor"),m)||v.textBorderColor;Z.textStrokeWidth=kY(i.getShallow("textBorderWidth"),v.textBorderWidth);if(!k){if(e){Z.insideRollbackOpt=m;t2(Z)}if(Z.textFill==null){Z.textFill=m.autoColor}}Z.fontStyle=i.getShallow("fontStyle")||v.fontStyle;Z.fontWeight=i.getShallow("fontWeight")||v.fontWeight;Z.fontSize=i.getShallow("fontSize")||v.fontSize;Z.fontFamily=i.getShallow("fontFamily")||v.fontFamily;Z.textAlign=i.getShallow("align");Z.textVerticalAlign=i.getShallow("verticalAlign")||i.getShallow("baseline");Z.textLineHeight=i.getShallow("lineHeight");Z.textWidth=i.getShallow("width");Z.textHeight=i.getShallow("height");Z.textTag=i.getShallow("tag");if(!e||!m.disableBox){Z.textBackgroundColor=k8(i.getShallow("backgroundColor"),m);Z.textPadding=i.getShallow("padding");Z.textBorderColor=k8(i.getShallow("borderColor"),m);Z.textBorderWidth=i.getShallow("borderWidth");Z.textBorderRadius=i.getShallow("borderRadius");Z.textBoxShadowColor=i.getShallow("shadowColor");Z.textBoxShadowBlur=i.getShallow("shadowBlur");Z.textBoxShadowOffsetX=i.getShallow("shadowOffsetX");Z.textBoxShadowOffsetY=i.getShallow("shadowOffsetY")}Z.textShadowColor=i.getShallow("textShadowColor")||v.textShadowColor;Z.textShadowBlur=i.getShallow("textShadowBlur")||v.textShadowBlur;Z.textShadowOffsetX=i.getShallow("textShadowOffsetX")||v.textShadowOffsetX;Z.textShadowOffsetY=i.getShallow("textShadowOffsetY")||v.textShadowOffsetY}function k8(e,i){return e!=="auto"?e:(i&&i.autoColor)?i.autoColor:null}function t2(v){var v1=v.textPosition;var e=v.insideRollbackOpt;var i;if(e&&v.textFill==null){var v2=e.autoColor;var m=e.isRectText;var on=e.useInsideStyle;var Z=on!==false&&(on===true||(m&&v1&&typeof v1==="string"&&v1.indexOf("inside")>=0));var k=!Z&&v2!=null;if(Z||k){i={textFill:v.textFill,textStroke:v.textStroke,textStrokeWidth:v.textStrokeWidth}}if(Z){v.textFill="#fff";if(v.textStroke==null){v.textStroke=v2;v.textStrokeWidth==null&&(v.textStrokeWidth=2)}}if(k){v.textFill=v2}}v.insideRollback=i}function Hw(i){var e=i.insideRollback;if(e){i.textFill=e.textFill;i.textStroke=e.textStroke;i.textStrokeWidth=e.textStrokeWidth;i.insideRollback=null}}function kJ(i,e){var k=e&&e.getModel("textStyle");return IB([i.fontStyle||k&&k.getShallow("fontStyle")||"",i.fontWeight||k&&k.getShallow("fontWeight")||"",(i.fontSize||k&&k.getShallow("fontSize")||12)+"px",i.fontFamily||k&&k.getShallow("fontFamily")||"sans-serif"].join(" "))}function iA(Kz,i,on,v,v1,k){if(typeof v1==="function"){k=v1;v1=null}var v3=v&&v.isAnimationEnabled();if(v3){var v2=Kz?"Update":"";var m=v.getShallow("animationDuration"+v2);var e=v.getShallow("animationEasing"+v2);var Z=v.getShallow("animationDelay"+v2);if(typeof Z==="function"){Z=Z(v1,v.getAnimationDelayParams?v.getAnimationDelayParams(i,v1):null)}if(typeof m==="function"){m=m(v1)}m>0?i.animateTo(on,m,Z||0,e,k,!!k):(i.stopAnimation(),i.attr(on),k&&k())}else{i.stopAnimation();i.attr(on);k&&k()}}function pZ(m,k,v,i,e){iA(true,m,k,v,i,e)}function kl(m,k,v,i,e){iA(false,m,k,v,i,e)}function aP(k,i){var e=mF([]);while(k&&k!==i){n(e,k.getLocalTransform(),e);k=k.parent}return e}function xI(k,e,i){if(e&&!ue(e)){e=bV.getLocalTransform(e)}if(i){e=f7([],e)}return a5([],k,e)}function o2(Z,i,k){var e=(i[4]===0||i[5]===0||i[0]===0)?1:Math.abs(2*i[4]/i[0]);var v=(i[4]===0||i[5]===0||i[2]===0)?1:Math.abs(2*i[4]/i[2]);var m=[Z==="left"?-e:Z==="right"?e:0,Z==="top"?-v:Z==="bottom"?v:0];m=xI(m,i,k);return Math.abs(m[0])>Math.abs(m[1])?(m[0]>0?"right":"left"):(m[1]>0?"bottom":"top")}function F(k,i,Z,e){if(!k||!i){return}function v(v2){var v1={};v2.traverse(function(v3){if(!v3.isGroup&&v3.anid){v1[v3.anid]=v3}});return v1}function on(v1){var v2={position:wm(v1.position),rotation:v1.rotation};if(v1.shape){v2.shape=cc({},v1.shape)}return v2}var m=v(k);i.traverse(function(v2){if(!v2.isGroup&&v2.anid){var v1=m[v2.anid];if(v1){var v3=on(v2);v2.attr(on(v1));pZ(v2,v3,Z,v2.dataIndex)}}})}function pJ(e,i){return Gj(e,function(m){var k=m[0];k=CH(k,i.x);k=kh(k,i.x+i.width);var v=m[1];v=CH(v,i.y);v=kh(v,i.y+i.height);return[k,v]})}function wU(v,m){var e=CH(v.x,m.x);var i=kh(v.x+v.width,m.x+m.width);var Z=CH(v.y,m.y);var k=kh(v.y+v.height,m.y+m.height);if(i>=e&&k>=Z){return{x:e,y:Z,width:i-e,height:k-Z}}}function Ih(e,i,m){i=cc({rectHover:true},i);var k=i.style={strokeNoScale:true};m=m||{x:-1,y:-1,width:2,height:2};if(e){return e.indexOf("image://")===0?(k.image=e.slice(8),Fg(k,m),new Hz(i)):(C5(e.replace("path://",""),i,m,"center"))}}function g5(v,m,v2,v1,k){for(var e=0,on=k[k.length-1];e<k.length;e++){var Z=k[e];if(r2(v,m,v2,v1,Z[0],Z[1],on[0],on[1])){return true}on=Z}}function r2(KD,KB,v1,v,e,KF,KA,Kz){var KE=v1-KD;var KC=v-KB;var v3=KA-e;var on=Kz-KF;var m=eN(v3,on,KE,KC);if(b9(m)){return false}var v2=KD-e;var Z=KB-KF;var i=eN(v2,Z,KE,KC)/m;if(i<0||i>1){return false}var k=eN(v2,Z,v3,on)/m;if(k<0||k>1){return false}return true}function eN(i,m,e,k){return i*k-e*m}function b9(e){return e<=(0.000001)&&e>=-(0.000001)}yV("circle",IS);yV("sector",uW);yV("ring",tp);yV("polygon",iO);yV("polyline",BY);yV("rect",GM);yV("line",Br);yV("bezierCurve",hy);yV("arc",q2);var zV=(Object.freeze||Object)({Z2_EMPHASIS_LIFT:fB,CACHED_LABEL_STYLE_PROPERTIES:wB,extendShape:JJ,extendPath:sF,registerShape:yV,getShapeClass:gX,makePath:C5,makeImage:IC,mergePath:so,resizePath:ey,subPixelOptimizeLine:dG,subPixelOptimizeRect:jc,subPixelOptimize:IE,setElementHoverStyle:l8,setHoverStyle:z3,setAsHighDownDispatcher:pK,isHighDownDispatcher:iC,getHighlightDigit:nu,setLabelStyle:Dz,modifyLabelStyle:F8,setTextStyle:ql,setText:F5,getFont:kJ,updateProps:pZ,initProps:kl,getTransform:aP,applyTransform:xI,transformDirection:o2,groupTransition:F,clipPointsByRect:pJ,clipRectByRect:wU,createIcon:Ih,linePolygonIntersect:g5,lineLineIntersect:r2,Group:D4,Image:Hz,Text:jv,Circle:IS,Sector:uW,Ring:tp,Polygon:iO,Polyline:BY,Rect:GM,Line:Br,BezierCurve:hy,Arc:q2,IncrementalDisplayable:BB,CompoundPath:j9,LinearGradient:v6,RadialGradient:p1,BoundingRect:EG});var eV=["textStyle","color"];var M={getTextColor:function(i){var e=this.ecModel;return this.getShallow("color")||((!i&&e)?e.get(eV):null)},getFont:function(){return kJ({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return IA(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}};var iq=Ax([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);var J3={getItemStyle:function(m,i){var k=iq(this,m,i);var e=this.getBorderLineDash();e&&(k.lineDash=e);return k},getBorderLineDash:function(){var e=this.get("borderType");return(e==="solid"||e==null)?null:(e==="dashed"?[5,5]:[1,1])}};var dD=Iz;var r6=gc();function fV(k,i,e){this.parentModel=i;this.ecModel=e;this.option=k}fV.prototype={constructor:fV,init:null,mergeOption:function(e){xF(this.option,e,true)},get:function(i,e){if(i==null){return this.option}return wH(this.option,this.parsePath(i),!e&&Cl(this,i))},getShallow:function(k,e){var m=this.option;var v=m==null?m:m[k];var i=!e&&Cl(this,k);if(v==null&&i){v=i.getShallow(k)}return v},getModel:function(m,e){var k=m==null?this.option:wH(this.option,m=this.parsePath(m));var i;e=e||((i=Cl(this,m))&&i.getModel(m));return new fV(k,e,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var e=this.constructor;return new e(E5(this.option))},setReadOnly:function(e){},parsePath:function(e){if(typeof e==="string"){e=e.split(".")}return e},customizeGetParent:function(e){r6(this).getParent=e},isAnimationEnabled:function(){if(!uk.node){if(this.option.animation!=null){return !!this.option.animation}else{if(this.parentModel){return this.parentModel.isAnimationEnabled()}}}}};function wH(v,m,e){for(var k=0;k<m.length;k++){if(!m[k]){continue}v=(v&&typeof v==="object")?v[m[k]]:null;if(v==null){break}}if(v==null&&e){v=e.get(m)}return v}function Cl(i,k){var e=r6(i).getParent;return e?e.call(i,k):i.parentModel}Cz(fV);BX(fV);dD(fV,dy);dD(fV,gp);dD(fV,M);dD(fV,J3);var CN=0;function m1(e){return[(e||""),CN++,Math.random().toFixed(5)].join("_")}function AD(e){var i={};e.registerSubTypeDefaulter=function(m,k){m=qk(m);i[m.main]=k};e.determineSubType=function(k,v){var m=v.type;if(!m){var Z=qk(k).main;if(e.hasSubTypes(k)&&i[Z]){m=i[Z](v)}}return m};return e}function Gu(m,k){m.topologicalTravel=function(KA,Z,KD,v1){if(!KA.length){return}var KG=i(Z);var KE=KG.graph;var KB=KG.noEntryList;var Kz={};qg(KA,function(KH){Kz[KH]=true});while(KB.length){var KF=KB.pop();var v2=KE[KF];var v3=!!Kz[KF];if(v3){KD.call(v1,KF,v2.originalDeps.slice());delete Kz[KF]}qg(v2.successor,v3?KC:on)}qg(Kz,function(){throw new Error("Circle dependency may exists")});function on(KH){KE[KH].entryCount--;if(KE[KH].entryCount===0){KB.push(KH)}}function KC(KH){Kz[KH]=true;on(KH)}};function i(v1){var on={};var Z=[];qg(v1,function(v2){var v3=e(on,v2);var KA=v3.originalDeps=k(v2);var Kz=v(KA,v1);v3.entryCount=Kz.length;if(v3.entryCount===0){Z.push(v2)}qg(Kz,function(KB){if(fc(v3.predecessor,KB)<0){v3.predecessor.push(KB)}var KC=e(on,KB);if(fc(KC.successor,KB)<0){KC.successor.push(v2)}})});return{graph:on,noEntryList:Z}}function e(on,Z){if(!on[Z]){on[Z]={predecessor:[],successor:[]}}return on[Z]}function v(on,v1){var Z=[];qg(on,function(v2){fc(v1,v2)>=0&&Z.push(v2)});return Z}}var HK=0.0001;function hL(e){return e.replace(/^\s+|\s+$/g,"")}function GV(Z,m,i,v){var k=m[1]-m[0];var e=i[1]-i[0];if(k===0){return e===0?i[0]:(i[0]+i[1])/2}if(v){if(k>0){if(Z<=m[0]){return i[0]}else{if(Z>=m[1]){return i[1]}}}else{if(Z>=m[0]){return i[0]}else{if(Z<=m[1]){return i[1]}}}}else{if(Z===m[0]){return i[0]}if(Z===m[1]){return i[1]}}return(Z-m[0])/k*e+i[0]}function BD(i,e){switch(i){case"center":case"middle":i="50%";break;case"left":case"top":i="0%";break;case"right":case"bottom":i="100%";break}if(typeof i==="string"){if(hL(i).match(/%$/)){return parseFloat(i)/100*e}return parseFloat(i)}return i==null?NaN:+i}function HR(e,i,k){if(i==null){i=10}i=Math.min(Math.max(0,i),20);e=(+e).toFixed(i);return k?e:+e}function qe(e){e.sort(function(k,i){return k-i});return e}function pQ(m){m=+m;if(isNaN(m)){return 0}var k=1;var i=0;while(Math.round(m*k)/k!==m){k*=10;i++}return i}function vt(v){var m=v.toString();var k=m.indexOf("e");if(k>0){var e=+m.slice(k+1);return e<0?-e:0}else{var i=m.indexOf(".");return i<0?0:m.length-1-i}}function zQ(Z,on){var v=Math.log;var k=Math.LN10;var i=Math.floor(v(Z[1]-Z[0])/k);var m=Math.round(v(Math.abs(on[1]-on[0]))/k);var e=Math.min(Math.max(-i+m,0),20);return !isFinite(e)?20:e}function aB(k,KB,on){if(!k[KB]){return 0}var v3=yO(k,function(i,KE){return i+(isNaN(KE)?0:KE)},0);if(v3===0){return 0}var e=Math.pow(10,on);var KA=Gj(k,function(i){return(isNaN(i)?0:i)/v3*e*100});var KD=e*100;var m=Gj(KA,function(i){return Math.floor(i)});var Z=yO(m,function(i,KE){return i+KE},0);var KC=Gj(KA,function(KE,i){return KE-m[i]});while(Z<KD){var Kz=Number.NEGATIVE_INFINITY;var v2=null;for(var v=0,v1=KC.length;v<v1;++v){if(KC[v]>Kz){Kz=KC[v];v2=v}}++m[v2];KC[v2]=0;++Z}return m[KB]/e}var AJ=9007199254740991;function sM(i){var e=Math.PI*2;return(i%e+e)%e}function we(e){return e>-HK&&e<HK}var qT=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function xu(k){if(k instanceof Date){return k}else{if(typeof k==="string"){var i=qT.exec(k);if(!i){return new Date(NaN)}if(!i[8]){return new Date(+i[1],+(i[2]||1)-1,+i[3]||1,+i[4]||0,+(i[5]||0),+i[6]||0,+i[7]||0)}else{var e=+i[4]||0;if(i[8].toUpperCase()!=="Z"){e-=i[8].slice(0,3)}return new Date(Date.UTC(+i[1],+(i[2]||1)-1,+i[3]||1,e,+(i[5]||0),+i[6]||0,+i[7]||0))}}else{if(k==null){return new Date(NaN)}}}return new Date(Math.round(k))}function tk(e){return Math.pow(10,hG(e))}function hG(i){if(i===0){return 0}var e=Math.floor(Math.log(i)/Math.LN10);if(i/Math.pow(10,e)>=10){e++}return e}function ad(Z,i){var v=hG(Z);var e=Math.pow(10,v);var m=Z/e;var k;if(i){if(m<1.5){k=1}else{if(m<2.5){k=2}else{if(m<4){k=3}else{if(m<7){k=5}else{k=10}}}}}else{if(m<1){k=1}else{if(m<2){k=2}else{if(m<3){k=3}else{if(m<5){k=5}else{k=10}}}}}Z=k*e;return v>=-20?+Z.toFixed(v<0?-v:0):Z}function wJ(v1,on){var k=(v1.length-1)*on+1;var m=Math.floor(k);var i=+v1[m-1];var Z=k-m;return Z?i+Z*(v1[m]-i):i}function aa(on){on.sort(function(v3,i){return Z(v3,i,0)?-1:1});var v1=-Infinity;var v=1;for(var m=0;m<on.length;){var k=on[m].interval;var v2=on[m].close;for(var e=0;e<2;e++){if(k[e]<=v1){k[e]=v1;v2[e]=!e?1-v:1}v1=k[e];v=v2[e]}if(k[0]===k[1]&&v2[0]*v2[1]!==1){on.splice(m,1)}else{m++}}return on;function Z(v3,i,Kz){return v3.interval[Kz]<i.interval[Kz]||(v3.interval[Kz]===i.interval[Kz]&&((v3.close[Kz]-i.close[Kz]===(!Kz?1:-1))||(!Kz&&Z(v3,i,1))))}}function mu(e){return e-parseFloat(e)>=0}var oa=(Object.freeze||Object)({linearMap:GV,parsePercent:BD,round:HR,asc:qe,getPrecision:pQ,getPrecisionSafe:vt,getPixelPrecision:zQ,getPercentWithPrecision:aB,MAX_SAFE_INTEGER:AJ,remRadian:sM,isRadianAroundZero:we,parseDate:xu,quantity:tk,quantityExponent:hG,nice:ad,quantile:wJ,reformIntervals:aa,isNumeric:mu});function kU(e){if(isNaN(e)){return"-"}e=(e+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?("."+e[1]):"")}function sv(e,i){e=(e||"").toLowerCase().replace(/-(.)/g,function(m,k){return k.toUpperCase()});if(i&&e){e=e.charAt(0).toUpperCase()+e.slice(1)}return e}var Db=Fx;var ki=/([&<>"'])/g;var G6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function nq(e){return e==null?"":(e+"").replace(ki,function(i,k){return G6[k]})}var h8=["a","b","c","d","e","f","g"];var p=function(i,e){return"{"+i+(e==null?"":e)+"}"};function eR(v3,Kz,v2){if(!IQ(Kz)){Kz=[Kz]}var v=Kz.length;if(!v){return""}var v1=Kz[0].$vars||[];for(var Z=0;Z<v1.length;Z++){var on=h8[Z];v3=v3.replace(p(on),p(on,0))}for(var KA=0;KA<v;KA++){for(var m=0;m<v1.length;m++){var e=Kz[KA][v1[m]];v3=v3.replace(p(h8[m],KA),v2?nq(e):e)}}return v3}function HE(e,k,i){qg(k,function(v,m){e=e.replace("{"+m+"}",i?nq(v):v)});return e}function Bk(i,v){i=xN(i)?{color:i,extraCssText:v}:(i||{});var e=i.color;var k=i.type;var v=i.extraCssText;var Z=i.renderMode||"html";var m=i.markerId||"X";if(!e){return""}if(Z==="html"){return k==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+nq(e)+";"+(v||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+nq(e)+";"+(v||"")+'"></span>'}else{return{renderMode:Z,content:"{marker"+m+"|}  ",style:{color:e}}}}function Ir(i,e){i+="";return"0000".substr(0,e-i.length)+i}function nO(on,KA,e){if(on==="week"||on==="month"||on==="quarter"||on==="half-year"||on==="year"){on="MM-dd\nyyyy"}var k=xu(KA);var Kz=e?"UTC":"";var v3=k["get"+Kz+"FullYear"]();var v1=k["get"+Kz+"Month"]()+1;var v2=k["get"+Kz+"Date"]();var Z=k["get"+Kz+"Hours"]();var i=k["get"+Kz+"Minutes"]();var KB=k["get"+Kz+"Seconds"]();var v=k["get"+Kz+"Milliseconds"]();on=on.replace("MM",Ir(v1,2)).replace("M",v1).replace("yyyy",v3).replace("yy",v3%100).replace("dd",Ir(v2,2)).replace("d",v2).replace("hh",Ir(Z,2)).replace("h",Z).replace("mm",Ir(i,2)).replace("m",i).replace("ss",Ir(KB,2)).replace("s",KB).replace("SSS",Ir(v,3));return on}function uE(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}var hN=a3;function wl(e){return IA(e.text,e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich,e.truncate)}function wQ(on,k,m,i,Z,e,v,v1){return IA(on,k,m,i,Z,v1,e,v)}function bj(e,i){if(i==="_blank"||i==="blank"){var k=window.open();k.opener=null;k.location=e}else{window.open(e,i)}}var gh=(Object.freeze||Object)({addCommas:kU,toCamelCase:sv,normalizeCssArray:Db,encodeHTML:nq,formatTpl:eR,formatTplSimple:HE,getTooltipMarker:Bk,formatTime:nO,capitalFirst:uE,truncateText:hN,getTextBoundingRect:wl,getTextRect:wQ,windowOpen:bj});var qd=qg;var sI=["left","right","top","bottom","width","height"];var lP=[["width","left","right"],["height","top","bottom"]];function N(k,Z,v1,v,m){var e=0;var on=0;if(v==null){v=Infinity}if(m==null){m=Infinity}var i=0;Z.eachChild(function(Kz,KE){var KC=Kz.position;var KD=Kz.getBoundingRect();var v3=Z.childAt(KE+1);var v2=v3&&v3.getBoundingRect();var KG;var KF;if(k==="horizontal"){var KB=KD.width+(v2?(-v2.x+KD.x):0);KG=e+KB;if(KG>v||Kz.newline){e=0;KG=KB;on+=i+v1;i=KD.height}else{i=Math.max(i,KD.height)}}else{var KA=KD.height+(v2?(-v2.y+KD.y):0);KF=on+KA;if(KF>m||Kz.newline){e+=i+v1;on=0;KF=KA;i=KD.width}else{i=Math.max(i,KD.width)}}if(Kz.newline){return}KC[0]=e;KC[1]=on;k==="horizontal"?(e=KG+v1):(on=KF+v1)})}var fL=N;var rq=tT(N,"vertical");var j4=tT(N,"horizontal");function nv(e,on,k){var Z=on.width;var v2=on.height;var v1=BD(e.x,Z);var v=BD(e.y,v2);var i=BD(e.x2,Z);var m=BD(e.y2,v2);(isNaN(v1)||isNaN(parseFloat(e.x)))&&(v1=0);(isNaN(i)||isNaN(parseFloat(e.x2)))&&(i=Z);(isNaN(v)||isNaN(parseFloat(e.y)))&&(v=0);(isNaN(m)||isNaN(parseFloat(e.y2)))&&(m=v2);k=Db(k||0);return{width:Math.max(i-v1-k[1]-k[3],0),height:Math.max(m-v-k[0]-k[2],0)}}function lL(k,Kz,Z){Z=Db(Z||0);var v3=Kz.width;var KD=Kz.height;var v=BD(k.left,v3);var v2=BD(k.top,KD);var KA=BD(k.right,v3);var i=BD(k.bottom,KD);var m=BD(k.width,v3);var KB=BD(k.height,KD);var KC=Z[2]+Z[0];var on=Z[1]+Z[3];var e=k.aspect;if(isNaN(m)){m=v3-KA-on-v}if(isNaN(KB)){KB=KD-i-KC-v2}if(e!=null){if(isNaN(m)&&isNaN(KB)){if(e>v3/KD){m=v3*0.8}else{KB=KD*0.8}}if(isNaN(m)){m=e*KB}if(isNaN(KB)){KB=m/e}}if(isNaN(v)){v=v3-KA-m-on}if(isNaN(v2)){v2=KD-i-KB-KC}switch(k.left||k.right){case"center":v=v3/2-m/2-Z[3];break;case"right":v=v3-m-on;break}switch(k.top||k.bottom){case"middle":case"center":v2=KD/2-KB/2-Z[0];break;case"bottom":v2=KD-KB-KC;break}v=v||0;v2=v2||0;if(isNaN(m)){m=v3-on-v-(KA||0)}if(isNaN(KB)){KB=KD-KC-v2-(i||0)}var v1=new EG(v+Z[3],v2+Z[0],m,KB);v1.margin=Z;return v1}function Cp(k,e,v2,Z,i){var on=!i||!i.hv||i.hv[0];var Kz=!i||!i.hv||i.hv[1];var KB=i&&i.boundingMode||"all";if(!on&&!Kz){return}var v1;if(KB==="raw"){v1=k.type==="group"?new EG(0,0,+e.width||0,+e.height||0):k.getBoundingRect()}else{v1=k.getBoundingRect();if(k.needLocalTransform()){var m=k.getLocalTransform();v1=v1.clone();v1.applyTransform(m)}}e=lL(Fg({width:v1.width,height:v1.height},e),v2,Z);var v3=k.position;var KC=on?e.x-v1.x:0;var KA=Kz?e.y-v1.y:0;k.attr("position",KB==="raw"?[KC,KA]:[v3[0]+KC,v3[1]+KA])}function nR(i,e){return i[lP[e][0]]!=null||(i[lP[e][1]]!=null&&i[lP[e][2]]!=null)}function hP(i,v,m){!u7(m)&&(m={});var v1=m.ignoreSize;!IQ(v1)&&(v1=[v1,v1]);var on=v3(lP[0],0);var k=v3(lP[1],1);e(lP[0],i,on);e(lP[1],i,k);function v3(KF,Kz){var KD={};var KE=0;var KG={};var KB=0;var KH=2;qd(KF,function(KI){KG[KI]=i[KI]});qd(KF,function(KI){Z(v,KI)&&(KD[KI]=KG[KI]=v[KI]);v2(KD,KI)&&KE++;v2(KG,KI)&&KB++});if(v1[Kz]){if(v2(v,KF[1])){KG[KF[2]]=null}else{if(v2(v,KF[2])){KG[KF[1]]=null}}return KG}if(KB===KH||!KE){return KG}else{if(KE>=KH){return KD}else{for(var KC=0;KC<KF.length;KC++){var KA=KF[KC];if(!Z(KD,KA)&&Z(i,KA)){KD[KA]=i[KA];break}}return KD}}}function Z(KA,Kz){return KA.hasOwnProperty(Kz)}function v2(KA,Kz){return KA[Kz]!=null&&KA[Kz]!=="auto"}function e(KB,KA,Kz){qd(KB,function(KC){KA[KC]=Kz[KC]})}}function hD(e){return HO({},e)}function HO(i,e){e&&i&&qd(sI,function(k){e.hasOwnProperty(k)&&(i[k]=e[k])});return i}var nc={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}};var iy=gc();var aO=fV.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(k,i,e,m){fV.call(this,k,i,e,m);this.uid=m1("ec_cpt_model")},init:function(k,i,e,m){this.mergeDefaultAndTheme(k,e)},mergeDefaultAndTheme:function(i,e){var m=this.layoutMode;var v=m?hD(i):{};var k=e.getTheme();xF(i,k.get(this.mainType));xF(i,this.getDefaultOption());if(m){hP(i,v,m)}},mergeOption:function(e,k){xF(this.option,e,true);var i=this.layoutMode;if(i){hP(this.option,e,i)}},optionUpdated:function(e,i){},getDefaultOption:function(){var e=iy(this);if(!e.defaultOption){var v=[];var m=this.constructor;while(m){var on=m.prototype.defaultOption;on&&v.push(on);m=m.superClass}var k={};for(var Z=v.length-1;Z>=0;Z--){k=xF(k,v[Z],true)}e.defaultOption=k}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",true),id:this.get(e+"Id",true)})}});z0(aO,{registerWhenExtend:true});AD(aO);Gu(aO,hs);function hs(e){var i=[];qg(aO.getClassesByMainType(e),function(k){i=i.concat(k.prototype.dependencies||[])});i=Gj(i,function(k){return qk(k).main});if(e!=="dataset"&&fc(i,"dataset")<=0){i.unshift("dataset")}return i}Iz(aO,nc);var uX="";if(typeof navigator!=="undefined"){uX=navigator.platform||""}var ID={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:uX.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1000,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2000,progressiveThreshold:3000,progressive:400,hoverLayerThreshold:3000,useUTC:false};var ix=gc();function db(k,e){var v=k.length;for(var m=0;m<v;m++){if(k[m].length>e){return k[m]}}return k[v-1]}var AK={clearColorPalette:function(){ix(this).colorIdx=0;ix(this).colorNameMap={}},getColorFromPalette:function(e,v2,m){v2=v2||this;var on=ix(v2);var v3=on.colorIdx||0;var v=on.colorNameMap=on.colorNameMap||{};if(v.hasOwnProperty(e)){return v[e]}var Z=nk(this.get("color",true));var v1=this.get("colorLayer",true);var k=((m==null||!v1)?Z:db(v1,m));k=k||Z;if(!k||!k.length){return}var i=k[v3];if(e){v[e]=i}on.colorIdx=(v3+1)%k.length;return i}};var f4="original";var iF="arrayRows";var BR="objectRows";var Jq="keyedColumns";var hH="unknown";var x3="typedArray";var lT="column";var bu="row";function rA(e){this.fromDataset=e.fromDataset;this.data=e.data||(e.sourceFormat===Jq?{}:[]);this.sourceFormat=e.sourceFormat||hH;this.seriesLayoutBy=e.seriesLayoutBy||lT;this.dimensionsDefine=e.dimensionsDefine;this.encodeDefine=e.encodeDefine&&EI(e.encodeDefine);this.startIndex=e.startIndex||0;this.dimensionsDetectCount=e.dimensionsDetectCount}rA.seriesDataToSource=function(e){return new rA({data:e,sourceFormat:J9(e)?x3:f4,fromDataset:false})};BX(rA);var o={Must:1,Might:2,Not:3};var iv=gc();function y0(v1){var on=v1.option.source;var v=hH;if(J9(on)){v=x3}else{if(IQ(on)){if(on.length===0){v=iF}for(var m=0,e=on.length;m<e;m++){var Z=on[m];if(Z==null){continue}else{if(IQ(Z)){v=iF;break}else{if(u7(Z)){v=BR;break}}}}}else{if(u7(on)){for(var k in on){if(on.hasOwnProperty(k)&&ue(on[k])){v=Jq;break}}}else{if(on!=null){throw new Error("Invalid data")}}}}iv(v1).sourceFormat=v}function lh(e){return iv(e).source}function hJ(e){iv(e).datasetMap=EI()}function lD(m){var on=m.option;var v=on.data;var e=J9(v)?x3:f4;var Z=false;var i=on.seriesLayoutBy;var v1=on.sourceHeader;var k=on.dimensions;var v3=p9(m);if(v3){var v2=v3.option;v=v2.source;e=iv(v3).sourceFormat;Z=true;i=i||v2.seriesLayoutBy;v1==null&&(v1=v2.sourceHeader);k=k||v2.dimensions}var Kz=CT(v,e,i,v1,k);iv(m).source=new rA({data:v,fromDataset:Z,seriesLayoutBy:i,sourceFormat:e,dimensionsDefine:Kz.dimensionsDefine,startIndex:Kz.startIndex,dimensionsDetectCount:Kz.dimensionsDetectCount,encodeDefine:on.encode})}function CT(Z,i,m,k,on){if(!Z){return{dimensionsDefine:Ge(on)}}var v;var v1;if(i===iF){if(k==="auto"||k==null){F1(function(v2){if(v2!=null&&v2!=="-"){if(xN(v2)){v1==null&&(v1=1)}else{v1=0}}},m,Z,10)}else{v1=k?1:0}if(!on&&v1===1){on=[];F1(function(v3,v2){on[v2]=v3!=null?v3:""},m,Z)}v=on?on.length:m===bu?Z.length:Z[0]?Z[0].length:null}else{if(i===BR){if(!on){on=Cg(Z)}}else{if(i===Jq){if(!on){on=[];qg(Z,function(v3,v2){on.push(v2)})}}else{if(i===f4){var e=zB(Z[0]);v=IQ(e)&&e.length||1}else{if(i===x3){if(pm){bY(!!on,"dimensions must be given if data is TypedArray.")}}}}}}return{startIndex:v1,dimensionsDefine:Ge(on),dimensionsDetectCount:v}}function Ge(e){if(!e){return}var i=EI();return Gj(e,function(v,k){v=cc({},u7(v)?v:{name:v});if(v.name==null){return v}v.name+="";if(v.displayName==null){v.displayName=v.name}var m=i.get(v.name);if(!m){i.set(v.name,{count:1})}else{v.name+="-"+m.count++}return v})}function F1(e,v,on,Z){Z==null&&(Z=Infinity);if(v===bu){for(var m=0;m<on.length&&m<Z;m++){e(on[m]?on[m][0]:null,m)}}else{var k=on[0]||[];for(var m=0;m<k.length&&m<Z;m++){e(k[m],m)}}}function Cg(k){var e=0;var m;while(e<k.length&&!(m=k[e++])){}if(m){var i=[];qg(m,function(Z,v){i.push(v)});return i}}function ok(i,Z,e){var v3={};var KB=p9(Z);if(!KB||!i){return v3}var Kz=[];var v1=[];var v2=Z.ecModel;var on=iv(v2).datasetMap;var KC=KB.uid+"_"+e.seriesLayoutBy;var v;var m;i=i.slice();qg(i,function(KF,KE){!u7(KF)&&(i[KE]={name:KF});if(KF.type==="ordinal"&&v==null){v=KE;m=k(i[KE])}v3[KF.name]=[]});var KA=on.get(KC)||on.set(KC,{categoryWayDim:m,valueWayDim:0});qg(i,function(KF,KE){var KI=KF.name;var KG=k(KF);if(v==null){var KH=KA.valueWayDim;KD(v3[KI],KH,KG);KD(v1,KH,KG);KA.valueWayDim+=KG}else{if(v===KE){KD(v3[KI],0,KG);KD(Kz,0,KG)}else{var KH=KA.categoryWayDim;KD(v3[KI],KH,KG);KD(v1,KH,KG);KA.categoryWayDim+=KG}}});function KD(KF,KE,KH){for(var KG=0;KG<KH;KG++){KF.push(KE+KG)}}function k(KE){var KF=KE.dimsDef;return KF?KF.length:1}Kz.length&&(v3.itemName=Kz);v1.length&&(v3.seriesName=v1);return v3}function lH(m,e,v2){var v={};var v1=p9(m);if(!v1){return v}var i=e.sourceFormat;var k=e.dimensionsDefine;var Z;if(i===BR||i===Jq){qg(k,function(KA,Kz){if((u7(KA)?KA.name:KA)==="name"){Z=Kz}})}var on=(function(){var KG={};var KF={};var KD=[];for(var KE=0,Kz=Math.min(5,v2);KE<Kz;KE++){var KB=um(e.data,i,e.seriesLayoutBy,k,e.startIndex,KE);KD.push(KB);var KC=KB===o.Not;if(KC&&KG.v==null&&KE!==Z){KG.v=KE}if(KG.n==null||(KG.n===KG.v)||(!KC&&KD[KG.n]===o.Not)){KG.n=KE}if(KA(KG)&&KD[KG.n]!==o.Not){return KG}if(!KC){if(KB===o.Might&&KF.v==null&&KE!==Z){KF.v=KE}if(KF.n==null||(KF.n===KF.v)){KF.n=KE}}}function KA(KH){return KH.v!=null&&KH.n!=null}return KA(KG)?KG:KA(KF)?KF:null})();if(on){v.value=on.v;var v3=Z!=null?Z:on.n;v.itemName=[v3];v.seriesName=[v3]}return v}function p9(e){var k=e.option;var i=k.data;if(!i){return e.ecModel.getComponent("dataset",k.datasetIndex||0)}}function w7(e,i){return um(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,i)}function um(Kz,e,Z,on,KB,KC){var KG;var v1=5;if(J9(Kz)){return o.Not}var v2;var KE;if(on){var v=on[KC];if(u7(v)){v2=v.name;KE=v.type}else{if(xN(v)){v2=v}}}if(KE!=null){return KE==="ordinal"?o.Must:o.Not}if(e===iF){if(Z===bu){var KA=Kz[KC];for(var v3=0;v3<(KA||[]).length&&v3<v1;v3++){if((KG=k(KA[KB+v3]))!=null){return KG}}}else{for(var v3=0;v3<Kz.length&&v3<v1;v3++){var KF=Kz[KB+v3];if(KF&&(KG=k(KF[KC]))!=null){return KG}}}}else{if(e===BR){if(!v2){return o.Not}for(var v3=0;v3<Kz.length&&v3<v1;v3++){var KD=Kz[v3];if(KD&&(KG=k(KD[v2]))!=null){return KG}}}else{if(e===Jq){if(!v2){return o.Not}var KA=Kz[v2];if(!KA||J9(KA)){return o.Not}for(var v3=0;v3<KA.length&&v3<v1;v3++){if((KG=k(KA[v3]))!=null){return KG}}}else{if(e===f4){for(var v3=0;v3<Kz.length&&v3<v1;v3++){var KD=Kz[v3];var m=zB(KD);if(!IQ(m)){return o.Not}if((KG=k(m[KC]))!=null){return KG}}}}}}function k(KH){var i=xN(KH);if(KH!=null&&isFinite(KH)&&KH!==""){return i?o.Might:o.Not}else{if(i&&KH!=="-"){return o.Must}}}return o.Not}var FW="\0_ec_inner";var cy=fV.extend({init:function(k,i,m,e){m=m||{};this.option=null;this._theme=new fV(m);this._optionManager=e},setOption:function(e,i){bY(!(FW in e),"please use chart.getOption()");this._optionManager.setOption(e,i);this.resetOption(null)},resetOption:function(k){var v=false;var i=this._optionManager;if(!k||k==="recreate"){var m=i.mountOption(k==="recreate");if(!this.option||k==="recreate"){i9.call(this,m)}else{this.restoreData();this.mergeOption(m)}v=true}if(k==="timeline"||k==="media"){this.restoreData()}if(!k||k==="recreate"||k==="timeline"){var Z=i.getTimelineOption(this);Z&&(this.mergeOption(Z),v=true)}if(!k||k==="recreate"||k==="media"){var e=i.getMediaOption(this,this._api);if(e.length){qg(e,function(on){this.mergeOption(on,v=true)},this)}}return v},mergeOption:function(m){var k=this.option;var e=this._componentsMap;var i=[];hJ(this);qg(m,function(Z,on){if(Z==null){return}if(!aO.hasClass(on)){k[on]=k[on]==null?E5(Z):xF(k[on],Z,true)}else{if(on){i.push(on)}}});aO.topologicalTravel(i,aO.getAllClassMainTypes(),v,this);function v(v3,v2){var Z=nk(m[v3]);var v1=dr(e.get(v3),Z);BU(v1);qg(v1,function(KB,Kz){var KA=KB.option;if(u7(KA)){KB.keyInfo.mainType=v3;KB.keyInfo.subType=fx(v3,KA,KB.exist)}});var on=A8(e,v2);k[v3]=[];e.set(v3,[]);qg(v1,function(KA,KB){var Kz=KA.exist;var KC=KA.option;bY(u7(KC)||Kz,"Empty component definition");if(!KC){Kz.mergeOption({},this);Kz.optionUpdated({},false)}else{var KD=aO.getClass(v3,KA.keyInfo.subType,true);if(Kz&&Kz.constructor===KD){Kz.name=KA.keyInfo.name;Kz.mergeOption(KC,this);Kz.optionUpdated(KC,false)}else{var KE=cc({dependentModels:on,componentIndex:KB},KA.keyInfo);Kz=new KD(KC,this,this,KE);cc(Kz,KE);Kz.init(KC,this,this,KE);Kz.optionUpdated(null,true)}}e.get(v3)[KB]=Kz;k[v3][KB]=Kz.option},this);if(v3==="series"){F3(this,e.get("series"))}}this._seriesIndicesMap=EI(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=E5(this.option);qg(e,function(m,v){if(aO.hasClass(v)){var m=nk(m);for(var k=m.length-1;k>=0;k--){if(JS(m[k])){m.splice(k,1)}}e[v]=m}});delete e[FW];return e},getTheme:function(){return this._theme},getComponent:function(k,e){var i=this._componentsMap.get(k);if(i){return i[e||0]}},queryComponents:function(m){var on=m.mainType;if(!on){return[]}var Z=m.index;var i=m.id;var e=m.name;var k=this._componentsMap.get(on);if(!k||!k.length){return[]}var v2;if(Z!=null){if(!IQ(Z)){Z=[Z]}v2=sk(Gj(Z,function(v3){return k[v3]}),function(v3){return !!v3})}else{if(i!=null){var v=IQ(i);v2=sk(k,function(v3){return(v&&fc(i,v3.id)>=0)||(!v&&v3.id===i)})}else{if(e!=null){var v1=IQ(e);v2=sk(k,function(v3){return(v1&&fc(e,v3.name)>=0)||(!v1&&v3.name===e)})}else{v2=k.slice()}}}return oK(v2,m)},findComponents:function(on){var m=on.query;var Z=on.mainType;var i=v(m);var e=i?this.queryComponents(i):this._componentsMap.get(Z);return k(oK(e,on));function v(v3){var v2=Z+"Index";var Kz=Z+"Id";var v1=Z+"Name";return v3&&(v3[v2]!=null||v3[Kz]!=null||v3[v1]!=null)?{mainType:Z,index:v3[v2],id:v3[Kz],name:v3[v1]}:null}function k(v1){return on.filter?sk(v1,on.filter):v1}},eachComponent:function(v,e,k){var i=this._componentsMap;if(typeof v==="function"){k=e;e=v;i.each(function(on,Z){qg(on,function(v2,v1){e.call(k,Z,v2,v1)})})}else{if(xN(v)){qg(i.get(v),e,k)}else{if(u7(v)){var m=this.findComponents(v);qg(m,e,k)}}}},getSeriesByName:function(e){var i=this._componentsMap.get("series");return sk(i,function(k){return k.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(i){var e=this._componentsMap.get("series");return sk(e,function(k){return k.subType===i})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,i){lJ(this);qg(this._seriesIndices,function(m){var k=this._componentsMap.get("series")[m];e.call(i,k,m)},this)},eachRawSeries:function(e,i){qg(this._componentsMap.get("series"),e,i)},eachSeriesByType:function(k,e,i){lJ(this);qg(this._seriesIndices,function(v){var m=this._componentsMap.get("series")[v];if(m.subType===k){e.call(i,m,v)}},this)},eachRawSeriesByType:function(k,e,i){return qg(this.getSeriesByType(k),e,i)},isSeriesFiltered:function(e){lJ(this);return this._seriesIndicesMap.get(e.componentIndex)==null},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,k){lJ(this);var i=sk(this._componentsMap.get("series"),e,k);F3(this,i)},restoreData:function(k){var i=this._componentsMap;F3(this,i.get("series"));var e=[];i.each(function(v,m){e.push(m)});aO.topologicalTravel(e,aO.getAllClassMainTypes(),function(m,v){qg(i.get(m),function(Z){(m!=="series"||!pe(Z,k))&&Z.restoreData()})})}});function pe(e,m){if(m){var k=m.seiresIndex;var v=m.seriesId;var i=m.seriesName;return(k!=null&&e.componentIndex!==k)||(v!=null&&e.id!==v)||(i!=null&&e.name!==i)}}function pv(e,k){var i=e.color&&!e.colorLayer;qg(k,function(v,m){if(m==="colorLayer"&&i){return}if(!aO.hasClass(m)){if(typeof v==="object"){e[m]=!e[m]?E5(v):xF(e[m],v,false)}else{if(e[m]==null){e[m]=v}}}})}function i9(e){e=e;this.option={};this.option[FW]=1;this._componentsMap=EI({series:[]});this._seriesIndices;this._seriesIndicesMap;pv(e,this._theme.option);xF(e,ID,false);this.mergeOption(e)}function A8(e,k){if(!IQ(k)){k=k?[k]:[]}var i={};qg(k,function(m){i[m]=(e.get(m)||[]).slice()});return i}function fx(m,i,e){var k=i.type?i.type:e?e.subType:aO.determineSubType(m,i);return k}function F3(e,i){e._seriesIndicesMap=EI(e._seriesIndices=Gj(i,function(k){return k.componentIndex})||[])}function oK(e,i){return i.hasOwnProperty("subType")?sk(e,function(k){return k.subType===i.subType}):e}function lJ(e){if(pm){if(!e._seriesIndices){throw new Error("Option should contains series.")}}}Iz(cy,AK);var jj=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function mw(e){qg(jj,function(i){this[i]=k9(e[i],e)},this)}var FQ={};function fZ(){this._coordinateSystems=[]}fZ.prototype={constructor:fZ,create:function(e,i){var k=[];qg(FQ,function(Z,m){var v=Z.create(e,i);k=k.concat(v||[])});this._coordinateSystems=k},update:function(e,i){qg(this._coordinateSystems,function(k){k.update&&k.update(e,i)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};fZ.register=function(i,e){FQ[i]=e};fZ.get=function(e){return FQ[e]};var qb=qg;var wh=E5;var Cj=Gj;var l4=xF;var J5=/^(min|max)?(.+)$/;function m9(e){this._api=e;this._timelineOptions=[];this._mediaList=[];this._mediaDefault;this._currentMediaIndices=[];this._optionBackup;this._newBaseOption}m9.prototype={constructor:m9,setOption:function(i,m){if(i){qg(nk(i.series),function(v){v&&v.data&&J9(v.data)&&B(v.data)})}i=wh(i);var e=this._optionBackup;var k=i7.call(this,i,m,!e);this._newBaseOption=k.baseOption;if(e){FS(e.baseOption,k.baseOption);if(k.timelineOptions.length){e.timelineOptions=k.timelineOptions}if(k.mediaList.length){e.mediaList=k.mediaList}if(k.mediaDefault){e.mediaDefault=k.mediaDefault}}else{this._optionBackup=k}},mountOption:function(i){var e=this._optionBackup;this._timelineOptions=Cj(e.timelineOptions,wh);this._mediaList=Cj(e.mediaList,wh);this._mediaDefault=wh(e.mediaDefault);this._currentMediaIndices=[];return wh(i?e.baseOption:this._newBaseOption)},getTimelineOption:function(e){var k;var i=this._timelineOptions;if(i.length){var m=e.getComponent("timeline");if(m){k=wh(i[m.getCurrentIndex()],true)}}return k},getMediaOption:function(v){var e=this._api.getWidth();var m=this._api.getHeight();var v1=this._mediaList;var on=this._mediaDefault;var v2=[];var v3=[];if(!v1.length&&!on){return v3}for(var k=0,Z=v1.length;k<Z;k++){if(eU(v1[k].query,e,m)){v2.push(k)}}if(!v2.length&&on){v2=[-1]}if(v2.length&&!mq(v2,this._currentMediaIndices)){v3=Cj(v2,function(i){return wh(i===-1?on.option:v1[i].option)})}this._currentMediaIndices=v2;return v3}};function i7(i,k,m){var Z=[];var v1=[];var v;var v2;var on=i.timeline;if(i.baseOption){v2=i.baseOption}if(on||i.options){v2=v2||{};Z=(i.options||[]).slice()}if(i.media){v2=v2||{};var e=i.media;qb(e,function(v3){if(v3&&v3.option){if(v3.query){v1.push(v3)}else{if(!v){v=v3}}}})}if(!v2){v2=i}if(!v2.timeline){v2.timeline=on}qb([v2].concat(Z).concat(Gj(v1,function(v3){return v3.option})),function(v3){qb(k,function(Kz){Kz(v3,m)})});return{baseOption:v2,timelineOptions:Z,mediaDefault:v,mediaList:v1}}function eU(m,i,v){var e={width:i,height:v,aspectratio:i/v};var k=true;qg(m,function(v3,v1){var on=v1.match(J5);if(!on||!on[1]||!on[2]){return}var v2=on[1];var Z=on[2].toLowerCase();if(!E6(e[Z],v3,v2)){k=false}});return k}function E6(k,i,e){if(e==="min"){return k>=i}else{if(e==="max"){return k<=i}else{return k===i}}}function mq(i,e){return i.join(",")===e.join(",")}function FS(e,i){i=i||{};qb(i,function(v,Z){if(v==null){return}var m=e[Z];if(!aO.hasClass(Z)){e[Z]=l4(m,v,true)}else{v=nk(v);m=nk(m);var k=dr(m,v);e[Z]=Cj(k,function(on){return(on.option&&on.exist)?l4(on.exist,on.option,true):(on.exist||on.option)})}})}var qa=qg;var u5=u7;var nn=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function lV(Z){var on=Z&&Z.itemStyle;if(!on){return}for(var v=0,e=nn.length;v<e;v++){var m=nn[v];var v1=on.normal;var k=on.emphasis;if(v1&&v1[m]){Z[m]=Z[m]||{};if(!Z[m].normal){Z[m].normal=v1[m]}else{xF(Z[m].normal,v1[m])}v1[m]=null}if(k&&k[m]){Z[m]=Z[m]||{};if(!Z[m].emphasis){Z[m].emphasis=k[m]}else{xF(Z[m].emphasis,k[m])}k[m]=null}}}function o6(i,e,m){if(i&&i[e]&&(i[e].normal||i[e].emphasis)){var k=i[e].normal;var v=i[e].emphasis;if(k){if(m){i[e].normal=i[e].emphasis=null;Fg(i[e],k)}else{i[e]=k}}if(v){i.emphasis=i.emphasis||{};i.emphasis[e]=v}}}function ob(e){o6(e,"itemStyle");o6(e,"lineStyle");o6(e,"areaStyle");o6(e,"label");o6(e,"labelLine");o6(e,"upperLabel");o6(e,"edgeLabel")}function wY(m,v){var on=u5(m)&&m[v];var Z=u5(on)&&on.textStyle;if(Z){for(var k=0,e=De.length;k<e;k++){var v=De[k];if(Z.hasOwnProperty(v)){on[v]=Z[v]}}}}function cQ(e){if(e){ob(e);wY(e,"label");e.emphasis&&wY(e.emphasis,"label")}}function Fr(v3){if(!u5(v3)){return}lV(v3);ob(v3);wY(v3,"label");wY(v3,"upperLabel");wY(v3,"edgeLabel");if(v3.emphasis){wY(v3.emphasis,"label");wY(v3.emphasis,"upperLabel");wY(v3.emphasis,"edgeLabel")}var v2=v3.markPoint;if(v2){lV(v2);cQ(v2)}var e=v3.markLine;if(e){lV(e);cQ(e)}var k=v3.markArea;if(k){cQ(k)}var m=v3.data;if(v3.type==="graph"){m=m||v3.nodes;var on=v3.links||v3.edges;if(on&&!J9(on)){for(var v=0;v<on.length;v++){cQ(on[v])}}qg(v3.categories,function(i){ob(i)})}if(m&&!J9(m)){for(var v=0;v<m.length;v++){cQ(m[v])}}var v2=v3.markPoint;if(v2&&v2.data){var Z=v2.data;for(var v=0;v<Z.length;v++){cQ(Z[v])}}var e=v3.markLine;if(e&&e.data){var v1=e.data;for(var v=0;v<v1.length;v++){if(IQ(v1[v])){cQ(v1[v][0]);cQ(v1[v][1])}else{cQ(v1[v])}}}if(v3.type==="gauge"){wY(v3,"axisLabel");wY(v3,"title");wY(v3,"detail")}else{if(v3.type==="treemap"){o6(v3.breadcrumb,"itemStyle");qg(v3.levels,function(i){ob(i)})}else{if(v3.type==="tree"){ob(v3.leaves)}}}}function Dr(e){return IQ(e)?e:e?[e]:[]}function uH(e){return(IQ(e)?e[0]:e)||{}}var AG=function(e,k){qa(Dr(e.series),function(m){u5(m)&&Fr(m)});var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];k&&i.push("valueAxis","categoryAxis","logAxis","timeAxis");qa(i,function(m){qa(Dr(e[m]),function(v){if(v){wY(v,"axisLabel");wY(v.axisPointer,"label")}})});qa(Dr(e.parallel),function(v){var m=v&&v.parallelAxisDefault;wY(m,"axisLabel");wY(m&&m.axisPointer,"label")});qa(Dr(e.calendar),function(m){o6(m,"itemStyle");wY(m,"dayLabel");wY(m,"monthLabel");wY(m,"yearLabel")});qa(Dr(e.radar),function(m){wY(m,"name")});qa(Dr(e.geo),function(m){if(u5(m)){cQ(m);qa(Dr(m.regions),function(v){cQ(v)})}});qa(Dr(e.timeline),function(m){cQ(m);o6(m,"label");o6(m,"itemStyle");o6(m,"controlStyle",true);var v=m.data;IQ(v)&&qg(v,function(Z){if(u7(Z)){o6(Z,"label");o6(Z,"itemStyle")}})});qa(Dr(e.toolbox),function(m){o6(m,"iconStyle");qa(m.feature,function(v){o6(v,"iconStyle")})});wY(uH(e.axisPointer),"label");wY(uH(e.tooltip).axisPointer,"label")};function z2(k,v){v=v.split(",");var m=k;for(var e=0;e<v.length;e++){m=m&&m[v[e]];if(m==null){break}}return m}function m6(v,on,v1,e){on=on.split(",");var Z=v;var m;for(var k=0;k<on.length-1;k++){m=on[k];if(Z[m]==null){Z[m]={}}Z=Z[m]}if(e||Z[on[k]]==null){Z[on[k]]=v1}}function C7(e){qg(o0,function(i){if(i[0] in e&&!(i[1] in e)){e[i[1]]=e[i[0]]}})}var o0=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]];var BT=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];var JE=function(e,i){AG(e,i);e.series=nk(e.series);qg(e.series,function(k){if(!u7(k)){return}var v=k.type;if(v==="line"){if(k.clipOverflow!=null){k.clip=k.clipOverflow}}else{if(v==="pie"||v==="gauge"){if(k.clockWise!=null){k.clockwise=k.clockWise}}else{if(v==="gauge"){var m=z2(k,"pointer.color");m!=null&&m6(k,"itemStyle.color",m)}}}C7(k)});if(e.dataRange){e.visualMap=e.dataRange}qg(BT,function(k){var m=e[k];if(m){if(!IQ(m)){m=[m]}qg(m,function(v){C7(v)})}})};var xD=function(e){var i=EI();e.eachSeries(function(m){var k=m.get("stack");if(k){var v=i.get(k)||i.set(k,[]);var Z=m.getData();var on={stackResultDimension:Z.getCalculationInfo("stackResultDimension"),stackedOverDimension:Z.getCalculationInfo("stackedOverDimension"),stackedDimension:Z.getCalculationInfo("stackedDimension"),stackedByDimension:Z.getCalculationInfo("stackedByDimension"),isStackedByIndex:Z.getCalculationInfo("isStackedByIndex"),data:Z,seriesModel:m};if(!on.stackedDimension||!(on.isStackedByIndex||on.stackedByDimension)){return}v.length&&Z.setCalculationInfo("stackedOnSeries",v[v.length-1].seriesModel);v.push(on)}});i.each(rB)};function rB(e){qg(e,function(m,k){var Z=[];var i=[NaN,NaN];var v2=[m.stackResultDimension,m.stackedOverDimension];var v1=m.data;var v=m.isStackedByIndex;var on=v1.map(v2,function(KG,KF,KE){var KD=v1.get(m.stackedDimension,KE);if(isNaN(KD)){return i}var KH;var KA;if(v){KA=v1.getRawIndex(KE)}else{KH=v1.get(m.stackedByDimension,KE)}var v3=NaN;for(var KC=k-1;KC>=0;KC--){var Kz=e[KC];if(!v){KA=Kz.data.rawIndexOf(Kz.stackedByDimension,KH)}if(KA>=0){var KB=Kz.data.getByRawIndex(Kz.stackResultDimension,KA);if((KD>=0&&KB>0)||(KD<=0&&KB<0)){KD+=KB;v3=KB;break}}}Z[0]=KD;Z[1]=v3;return Z});v1.hostModel.setData(on);m.data=on})}function gl(m,v){if(!rA.isInstance(m)){m=rA.seriesDataToSource(m)}this._source=m;var k=this._data=m.data;var i=m.sourceFormat;if(i===x3){if(pm){if(v==null){throw new Error("Typed array data must specify dimension size")}}this._offset=0;this._dimSize=v;this._data=k}var e=p3[i===iF?i+"_"+m.seriesLayoutBy:i];if(pm){bY(e,"Invalide sourceFormat: "+i)}cc(this,e)}var qZ=gl.prototype;qZ.pure=false;qZ.persistent=true;qZ.getSource=function(){return this._source};var p3={arrayRows_column:{pure:true,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:ef},arrayRows_row:{pure:true,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;var m=[];var v=this._data;for(var k=0;k<v.length;k++){var Z=v[k];m.push(Z?Z[e]:null)}return m},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:true,count:EX,getItem:Bc,appendData:ef},keyedColumns:{pure:true,count:function(){var i=this._source.dimensionsDefine[0].name;var e=this._data[i];return e?e.length:0},getItem:function(e){var v=[];var Z=this._source.dimensionsDefine;for(var m=0;m<Z.length;m++){var k=this._data[Z[m].name];v.push(k?k[e]:null)}return v},appendData:function(e){var i=this._data;qg(e,function(Z,m){var v=i[m]||(i[m]=[]);for(var k=0;k<(Z||[]).length;k++){v.push(Z[k])}})}},original:{count:EX,getItem:Bc,appendData:ef},typedArray:{persistent:false,pure:true,count:function(){return this._data?(this._data.length/this._dimSize):0},getItem:function(e,k){e=e-this._offset;k=k||[];var v=this._dimSize*e;for(var m=0;m<this._dimSize;m++){k[m]=this._data[v+m]}return k},appendData:function(e){if(pm){bY(J9(e),"Added data must be TypedArray if data in initialization is TypedArray")}this._data=e},clean:function(){this._offset+=this.count();this._data=null}}};function EX(){return this._data.length}function Bc(e){return this._data[e]}function ef(k){for(var e=0;e<k.length;e++){this._data.push(k[e])}}var gV={arrayRows:FP,objectRows:function(e,i,m,k){return m!=null?e[k]:e},keyedColumns:FP,original:function(e,i,v,m){var k=zB(e);return(v==null||!(k instanceof Array))?k:k[v]},typedArray:FP};function FP(e,i,m,k){return m!=null?e[m]:e}var lt={arrayRows:Hy,objectRows:function(e,m,i,k){return lB(e[m],this._dimensionInfos[m])},keyedColumns:Hy,original:function(e,v,i,m){var k=e&&(e.value==null?e:e.value);if(!this._rawData.pure&&pc(e)){this.hasItemOption=true}return lB((k instanceof Array)?k[m]:k,this._dimensionInfos[v])},typedArray:function(e,m,i,k){return e[k]}};function Hy(e,m,i,k){return lB(e[k],this._dimensionInfos[m])}function lB(k,i){var m=i&&i.type;if(m==="ordinal"){var e=i&&i.ordinalMeta;return e?e.parseAndCollect(k):k}if(m==="time"&&typeof k!=="number"&&k!=null&&k!=="-"){k=+xu(k)}return(k==null||k==="")?NaN:+k}function jL(v,m,v1){if(!v){return}var i=v.getRawDataItem(m);if(i==null){return}var k=v.getProvider().getSource().sourceFormat;var on;var Z;var e=v.getDimensionInfo(v1);if(e){on=e.name;Z=e.index}return gV[k](i,m,Z,on)}function II(v,m,e){if(!v){return}var k=v.getProvider().getSource().sourceFormat;if(k!==f4&&k!==BR){return}var i=v.getRawDataItem(m);if(k===f4&&!u7(i)){i=null}if(i){return i[e]}}var E1=/\{@(.+?)\}/g;var wI={getDataParams:function(Kz,KA){var v1=this.getData(KA);var v=this.getRawValue(Kz,KA);var v2=v1.getRawIndex(Kz);var i=v1.getName(Kz);var on=v1.getRawDataItem(Kz);var Z=v1.getItemVisual(Kz,"color");var m=v1.getItemVisual(Kz,"borderColor");var KB=this.ecModel.getComponent("tooltip");var k=KB&&KB.get("renderMode");var KD=AW(k);var v3=this.mainType;var e=v3==="series";var KC=v1.userOutput;return{componentType:v3,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:e?this.subType:null,seriesIndex:this.seriesIndex,seriesId:e?this.id:null,seriesName:e?this.name:null,name:i,dataIndex:v2,data:on,dataType:KA,value:v,color:Z,borderColor:m,dimensionNames:KC?KC.dimensionNames:null,encode:KC?KC.encode:null,marker:Bk({color:Z,renderMode:KD}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(Z,i,on,v2,k){i=i||"normal";var m=this.getData(on);var v3=m.getItemModel(Z);var e=this.getDataParams(Z,on);if(v2!=null&&(e.value instanceof Array)){e.value=e.value[v2]}var v1=v3.get(i==="normal"?[k||"label","formatter"]:[i,k||"label","formatter"]);if(typeof v1==="function"){e.status=i;e.dimensionIndex=v2;return v1(e)}else{if(typeof v1==="string"){var v=eR(v1,e);return v.replace(E1,function(KA,KB){var Kz=KB.length;if(KB.charAt(0)==="["&&KB.charAt(Kz-1)==="]"){KB=+KB.slice(1,Kz-1)}return jL(m,Z,KB)})}}},getRawValue:function(e,i){return jL(this.getData(i),e)},formatTooltip:function(){}};function D6(e){return new va(e)}function va(e){e=e||{};this._reset=e.reset;this._plan=e.plan;this._count=e.count;this._onDirty=e.onDirty;this._dirty=true;this.context}var lZ=va.prototype;lZ.perform=function(KG){var KD=this._upstream;var KE=KG&&KG.skip;if(this._dirty&&KD){var Z=this.context;Z.data=Z.outputData=KD.context.outputData}if(this.__pipeline){this.__pipeline.currentTask=this}var v1;if(this._plan&&!KE){v1=this._plan(this.context)}var k=KB(this._modBy);var KA=this._modDataCount||0;var m=KB(KG&&KG.modBy);var KC=KG&&KG.modDataCount||0;if(k!==m||KA!==KC){v1="reset"}function KB(i){!(i>=1)&&(i=1);return i}var KF;if(this._dirty||v1==="reset"){this._dirty=false;KF=A4(this,KE)}this._modBy=m;this._modDataCount=KC;var on=KG&&KG.step;if(KD){if(pm){bY(KD._outputDueEnd!=null)}this._dueEnd=KD._outputDueEnd}else{if(pm){bY(!this._progress||this._count)}this._dueEnd=this._count?this._count(this.context):Infinity}if(this._progress){var v=this._dueIndex;var v3=Math.min(on!=null?this._dueIndex+on:Infinity,this._dueEnd);if(!KE&&(KF||v<v3)){var e=this._progress;if(IQ(e)){for(var Kz=0;Kz<e.length;Kz++){xj(this,e[Kz],v,v3,m,KC)}}else{xj(this,e,v,v3,m,KC)}}this._dueIndex=v3;var v2=this._settedOutputEnd!=null?this._settedOutputEnd:v3;if(pm){bY(v2>=this._outputDueEnd)}this._outputDueEnd=v2}else{this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd}return this.unfinished()};var jz=(function(){var e;var on;var Z;var m;var i;var k={reset:function(v3,Kz,v2,KA){on=v3;e=Kz;Z=v2;m=KA;i=Math.ceil(m/Z);k.next=(Z>1&&m>0)?v1:v}};return k;function v(){return on<e?on++:null}function v1(){var v3=(on%i)*Z+Math.ceil(on/i);var v2=on>=e?null:v3<m?v3:on;on++;return v2}})();lZ.dirty=function(){this._dirty=true;this._onDirty&&this._onDirty(this.context)};function xj(m,i,Z,e,v,k){jz.reset(Z,e,v,k);m._callingProgress=i;m._callingProgress({start:Z,end:e,count:e-Z,next:jz.next},m.context)}function A4(v,i){v._dueIndex=v._outputDueEnd=v._dueEnd=0;v._settedOutputEnd=null;var e;var m;if(!i&&v._reset){e=v._reset(v.context);if(e&&e.progress){m=e.forceFirstProgress;e=e.progress}if(IQ(e)&&!e.length){e=null}}v._progress=e;v._modBy=v._modDataCount=null;var k=v._downstream;k&&k.dirty();return m}lZ.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};lZ.pipe=function(e){if(pm){bY(e&&!e._disposed&&e!==this)}if(this._downstream!==e||this._dirty){this._downstream=e;e._upstream=this;e.dirty()}};lZ.dispose=function(){if(this._disposed){return}this._upstream&&(this._upstream._downstream=null);this._downstream&&(this._downstream._upstream=null);this._dirty=false;this._disposed=true};lZ.getUpstream=function(){return this._upstream};lZ.getDownstream=function(){return this._downstream};lZ.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};var it=gc();var oW=aO.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(k,i,e,v){this.seriesIndex=this.componentIndex;this.dataTask=D6({count:q1,reset:l7});this.dataTask.context={model:this};this.mergeDefaultAndTheme(k,e);lD(this);var m=this.getInitialData(k,e);wk(m,this);this.dataTask.context.data=m;if(pm){bY(m,"getInitialData returned invalid data.")}it(this).dataBeforeProcessed=m;qr(this)},mergeDefaultAndTheme:function(i,e){var m=this.layoutMode;var v=m?hD(i):{};var k=this.subType;if(aO.hasClass(k)){k+="Series"}xF(i,e.getTheme().get(this.subType));xF(i,this.getDefaultOption());FC(i,"label",["show"]);this.fillDataTextStyle(i.data);if(m){hP(i,v,m)}},mergeOption:function(i,e){i=xF(this.option,i,true);this.fillDataTextStyle(i.data);var m=this.layoutMode;if(m){hP(this.option,i,m)}lD(this);var k=this.getInitialData(i,e);wk(k,this);this.dataTask.dirty();this.dataTask.context.data=k;it(this).dataBeforeProcessed=k;qr(this)},fillDataTextStyle:function(m){if(m&&!J9(m)){var k=["show"];for(var e=0;e<m.length;e++){if(m[e]&&m[e].label){FC(m[e],"label",k)}}}},getInitialData:function(){},appendData:function(i){var e=this.getRawData();e.appendData(i.data)},getData:function(i){var e=nI(this);if(e){var k=e.context.data;return i==null?k:k.getLinkedData(i)}else{return it(this).data}},setData:function(k){var e=nI(this);if(e){var i=e.context;if(i.data!==k&&e.modifyOutputEnd){e.setOutputEnd(k.count())}i.outputData=k;if(e!==this.dataTask){i.data=k}}it(this).data=k},getSource:function(){return lh(this)},getRawData:function(){return it(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(KK,KI,KD,k){var v1=this;k=k||"html";var KJ=k==="html"?"<br/>":"\n";var Kz=k==="richText";var KG={};var KN=0;function KA(KR){var KP=yO(KR,function(KW,KX,KV){var KU=KL.getDimensionInfo(KV);return KW|=KU&&KU.tooltip!==false&&KU.displayName!=null},0);var KO=[];m.length?qg(m,function(KU){KS(jL(KL,KK,KU),KU)}):qg(KR,KS);function KS(K0,KX){var KU=KL.getDimensionInfo(KX);if(!KU||KU.otherDims.tooltip===false){return}var K1=KU.type;var KW="sub"+v1.seriesIndex+"at"+KN;var KZ=Bk({color:KE,type:"subItem",renderMode:k,markerId:KW});var KY=typeof KZ==="string"?KZ:KZ.content;var KV=(KP?KY+nq(KU.displayName||"-")+": ":"")+nq(K1==="ordinal"?K0+"":K1==="time"?(KI?"":nO("yyyy/MM/dd hh:mm:ss",K0)):kU(K0));KV&&KO.push(KV);if(Kz){KG[KW]=KE;++KN}}var KT=KP?(Kz?"\n":"<br/>"):"";var KQ=KT+KO.join(KT||", ");return{renderMode:k,content:KQ,style:KG}}function e(KO){return{renderMode:k,content:nq(kU(KO)),style:KG}}var KL=this.getData();var m=KL.mapDimension("defaultedTooltip",true);var Z=m.length;var KB=this.getRawValue(KK);var KF=IQ(KB);var KE=KL.getItemVisual(KK,"color");if(u7(KE)&&KE.colorStops){KE=(KE.colorStops[0]||{}).color}KE=KE||"transparent";var v=(Z>1||(KF&&!Z))?KA(KB):Z?e(jL(KL,KK,m[0])):e(KF?KB[0]:KB);var KC=v.content;var on=v1.seriesIndex+"at"+KN;var i=Bk({color:KE,type:"item",renderMode:k,markerId:on});KG[on]=KE;++KN;var KM=KL.getName(KK);var KH=this.name;if(!sa(this)){KH=""}KH=KH?nq(KH)+(!KI?KJ:": "):"";var v3=typeof i==="string"?i:i.content;var v2=!KI?KH+v3+(KM?nq(KM)+": "+KC:KC):v3+KH+KC;return{html:v2,markers:KG}},isAnimationEnabled:function(){if(uk.node){return false}var e=this.getShallow("animation");if(e){if(this.getData().count()>this.getShallow("animationThreshold")){e=false}}return e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(m,v,i){var e=this.ecModel;var k=AK.getColorFromPalette.call(this,m,v,i);if(!k){k=e.getColorFromPalette(m,v,i)}return k},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,true)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});Iz(oW,wI);Iz(oW,AK);function qr(e){var i=e.name;if(!sa(e)){e.name=mx(e)||i}}function mx(i){var m=i.getRawData();var k=m.mapDimension("seriesName",true);var e=[];qg(k,function(Z){var v=m.getDimensionInfo(Z);v.displayName&&e.push(v.displayName)});return e.join(" ")}function q1(e){return e.model.getRawData().count()}function l7(i){var e=i.model;e.setData(e.getRawData().cloneShallow());return dZ}function dZ(i,e){if(e.outputData&&i.end>e.outputData.count()){e.model.getRawData().cloneShallow(e.outputData)}}function wk(i,e){qg(i.CHANGABLE_METHODS,function(k){i.wrapMethod(k,tT(fW,e))})}function fW(i){var e=nI(i);if(e){e.setOutputEnd(this.count())}}function nI(i){var m=(i.ecModel||{}).scheduler;var k=m&&m.getPipeline(i.uid);if(k){var e=k.currentTask;if(e){var v=e.agentStubMap;if(v){e=v.get(i.uid)}}return e}}var FY=function(){this.group=new D4();this.uid=m1("viewComponent")};FY.prototype={constructor:FY,init:function(e,i){},render:function(i,e,k,m){},dispose:function(){},filterForExposedEvent:null};var kG=FY.prototype;kG.updateView=kG.updateLayout=kG.updateVisual=function(i,e,k,m){};Cz(FY);z0(FY,{registerWhenExtend:true});var Gy=function(){var e=gc();return function(k){var i=e(k);var on=k.pipelineContext;var v1=i.large;var v=i.progressiveRender;var m=i.large=on&&on.large;var Z=i.progressiveRender=on&&on.progressiveRender;return !!((v1^m)||(v^Z))&&"reset"}};var ip=gc();var GR=Gy();function dW(){this.group=new D4();this.uid=m1("viewChart");this.renderTask=D6({plan:af,reset:mv});this.renderTask.context={view:this}}dW.prototype={type:"chart",init:function(e,i){},render:function(i,e,k,m){},highlight:function(i,e,k,m){Fi(i.getData(),m,"emphasis")},downplay:function(i,e,k,m){Fi(i.getData(),m,"normal")},remove:function(e,i){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var qQ=dW.prototype;qQ.updateView=qQ.updateLayout=qQ.updateVisual=function(i,e,k,m){this.render(i,e,k,m)};function xh(m,Z,v){if(m){m.trigger(Z,v);if(m.isGroup&&!iC(m)){for(var k=0,e=m.childCount();k<e;k++){xh(m.childAt(k),Z,v)}}}}function Fi(m,v,k){var e=yQ(m,v);var i=(v&&v.highlightKey!=null)?nu(v.highlightKey):null;if(e!=null){qg(nk(e),function(Z){xh(m.getItemGraphicEl(Z),k,i)})}else{m.eachItemGraphicEl(function(Z){xh(Z,k,i)})}}Cz(dW,["dispose"]);z0(dW,{registerWhenExtend:true});dW.markUpdateMethod=function(i,e){ip(i).updateMethod=e};function af(e){return GR(e.model)}function mv(e){var i=e.model;var m=e.ecModel;var v=e.api;var v2=e.payload;var Z=i.pipelineContext.progressiveRender;var on=e.view;var k=v2&&ip(v2).updateMethod;var v1=Z?"incrementalPrepareRender":(k&&on[k])?k:"render";if(v1!=="render"){on[v1](i,m,v,v2)}return tI[v1]}var tI={incrementalPrepareRender:{progress:function(i,e){e.view.incrementalRender(i,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:true,progress:function(i,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};var eo="\0__throttleOriginMethod";var lc="\0__throttleRate";var Cx="\0__throttleType";function fp(v2,Z,KA){var k;var Kz=0;var i=0;var e=null;var v3;var KB;var on;var v1;Z=Z||0;function v(){i=(new Date()).getTime();e=null;v2.apply(KB,on||[])}var m=function(){k=(new Date()).getTime();KB=this;on=arguments;var KD=v1||Z;var KC=v1||KA;v1=null;v3=k-(KC?Kz:i)-KD;clearTimeout(e);if(KC){e=setTimeout(v,KD)}else{if(v3>=0){v()}else{e=setTimeout(v,-v3)}}Kz=k};m.clear=function(){if(e){clearTimeout(e);e=null}};m.debounceNextCall=function(KC){v1=KC};return m}function nF(Z,v,m,v1){var k=Z[v];if(!k){return}var e=k[eo]||k;var on=k[Cx];var i=k[lc];if(i!==m||on!==v1){if(m==null||!v1){return(Z[v]=e)}k=Z[v]=fp(e,m,v1==="debounce");k[eo]=e;k[Cx]=v1;k[lc]=m}return k}function cW(k,i){var e=k[i];if(e&&e[eo]){k[i]=e[eo]}}var EA={createOnAllSeries:true,performRawSeries:true,reset:function(k,on){var v=k.getData();var v2=(k.visualColorAccessPath||"itemStyle.color").split(".");var m=k.get(v2);var Z=(Hb(m)&&!(m instanceof mN))?m:null;if(!m||Z){m=k.getColorFromPalette(k.name,null,on.getSeriesCount())}v.setVisual("color",m);var e=(k.visualBorderColorAccessPath||"itemStyle.borderColor").split(".");var i=k.get(e);v.setVisual("borderColor",i);if(!on.isSeriesFiltered(k)){if(Z){v.each(function(v3){v.setItemVisual(v3,"color",Z(k.getDataParams(v3)))})}var v1=function(KB,v3){var KA=KB.getItemModel(v3);var Kz=KA.get(v2,true);var KC=KA.get(e,true);if(Kz!=null){KB.setItemVisual(v3,"color",Kz)}if(KC!=null){KB.setItemVisual(v3,"borderColor",KC)}};return{dataEach:v.hasItemOption?v1:null}}}};var Ek={legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var iP=function(v,v1){var Z=v1.getModel("aria");if(!Z.get("show")){return}else{if(Z.get("description")){v.setAttribute("aria-label",Z.get("description"));return}}var i=0;v1.eachSeries(function(KF,KE){++i},this);var KC=Z.get("data.maxCount")||10;var KD=Z.get("series.maxCount")||10;var e=Math.min(i,KD);var Kz;if(i<1){return}else{var KB=m();if(KB){Kz=k(KA("general.withTitle"),{title:KB})}else{Kz=KA("general.withoutTitle")}var v3=[];var on=i>1?"series.multiple.prefix":"series.single.prefix";Kz+=k(KA(on),{seriesCount:i});v1.eachSeries(function(KF,KN){if(KN<e){var KK;var KL=KF.get("name");var KG="series."+(i>1?"multiple":"single")+".";KK=KA(KL?KG+"withName":KG+"withoutName");KK=k(KK,{seriesId:KF.seriesIndex,seriesName:KF.get("name"),seriesType:v2(KF.subType)});var KH=KF.getData();window.data=KH;if(KH.count()>KC){KK+=k(KA("data.partialData"),{displayCnt:KC})}else{KK+=KA("data.allData")}var KJ=[];for(var KI=0;KI<KH.count();KI++){if(KI<KC){var KE=KH.getName(KI);var KM=jL(KH,KI);KJ.push(k(KE?KA("data.withName"):KA("data.withoutName"),{name:KE,value:KM}))}}KK+=KJ.join(KA("data.separator.middle"))+KA("data.separator.end");v3.push(KK)}});Kz+=v3.join(KA("series.multiple.separator.middle"))+KA("series.multiple.separator.end");v.setAttribute("aria-label",Kz)}function k(KG,KF){if(typeof KG!=="string"){return KG}var KE=KG;qg(KF,function(KI,KH){KE=KE.replace(new RegExp("\\{\\s*"+KH+"\\s*\\}","g"),KI)});return KE}function KA(KI){var KG=Z.get(KI);if(KG==null){var KH=KI.split(".");var KE=Ek.aria;for(var KF=0;KF<KH.length;++KF){KE=KE[KH[KF]]}return KE}else{return KG}}function m(){var KE=v1.getModel("title").option;if(KE&&KE.length){KE=KE[0]}return KE&&KE.text}function v2(KE){return Ek.series.typeNames[KE]||""}};var An=Math.PI;var wa=function(v,Z){Z=Z||{};Fg(Z,{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:true,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var on=new D4();var e=new GM({style:{fill:Z.maskColor},zlevel:Z.zlevel,z:10000});on.add(e);var i=Z.fontSize+" sans-serif";var k=new GM({style:{fill:"none",text:Z.text,font:i,textPosition:"right",textDistance:10,textFill:Z.textColor},zlevel:Z.zlevel,z:10001});on.add(k);if(Z.showSpinner){var m=new q2({shape:{startAngle:-An/2,endAngle:-An/2+0.1,r:Z.spinnerRadius},style:{stroke:Z.color,lineCap:"round",lineWidth:Z.lineWidth},zlevel:Z.zlevel,z:10001});m.animateShape(true).when(1000,{endAngle:An*3/2}).start("circularInOut");m.animateShape(true).when(1000,{startAngle:An*3/2}).delay(300).start("circularInOut");on.add(m)}on.resize=function(){var v3=jN(Z.text,i);var v2=Z.showSpinner?Z.spinnerRadius:0;var v1=(v.getWidth()-v2*2-(Z.showSpinner&&v3?10:0)-v3)/2-(Z.showSpinner?0:v3/2);var Kz=v.getHeight()/2;Z.showSpinner&&m.setShape({cx:v1,cy:Kz});k.setShape({x:v1-v2,y:Kz-v2,width:v2*2,height:v2*2});e.setShape({x:0,y:0,width:v.getWidth(),height:v.getHeight()})};on.resize();return on};function GY(k,m,e,i){this.ecInstance=k;this.api=m;this.unfinished;var e=this._dataProcessorHandlers=e.slice();var i=this._visualHandlers=i.slice();this._allHandlers=e.concat(i);this._stageTaskMap=EI()}var fI=GY.prototype;fI.restoreData=function(e,i){e.restoreData(i);this._stageTaskMap.each(function(k){var m=k.overallTask;m&&m.dirty()})};fI.getPerformArgs=function(k,e){if(!k.__pipeline){return}var m=this._pipelineMap.get(k.__pipeline.id);var i=m.context;var v1=!e&&m.progressiveEnabled&&(!i||i.progressiveRender)&&k.__idxInPipeline>m.blockIndex;var Z=v1?m.step:null;var v=i&&i.modDataCount;var on=v!=null?Math.ceil(v/Z):null;return{step:Z,modBy:on,modDataCount:v}};fI.getPipeline=function(e){return this._pipelineMap.get(e)};fI.updateStreamModes=function(i,e){var k=this._pipelineMap.get(i.uid);var on=i.getData();var v=on.count();var v1=k.progressiveEnabled&&e.incrementalPrepareRender&&v>=k.threshold;var m=i.get("large")&&v>=i.get("largeThreshold");var Z=i.get("progressiveChunkMode")==="mod"?v:null;i.pipelineContext=k.context={progressiveRender:v1,modDataCount:Z,large:m}};fI.restorePipelines=function(e){var i=this;var k=i._pipelineMap=EI();e.eachSeries(function(m){var v=m.getProgressive();var Z=m.uid;k.set(Z,{id:Z,head:null,tail:null,threshold:m.getProgressiveThreshold(),progressiveEnabled:v&&!(m.preventIncremental&&m.preventIncremental()),blockIndex:-1,step:Math.round(v||700),count:0});rQ(i,m,m.dataTask)})};fI.prepareStageTasks=function(){var i=this._stageTaskMap;var e=this.ecInstance.getModel();var k=this.api;qg(this._allHandlers,function(v){var m=i.get(v.uid)||i.set(v.uid,[]);v.reset&&f3(this,v,m,e,k);v.overallReset&&ov(this,v,m,e,k)},this)};fI.prepareView=function(i,m,e,Z){var k=i.renderTask;var v=k.context;v.model=m;v.ecModel=e;v.api=Z;k.__block=!i.incrementalPrepareRender;rQ(this,m,k)};fI.performDataProcessorTasks=function(e,i){yb(this,this._dataProcessorHandlers,e,i,{block:true})};fI.performVisualTasks=function(e,k,i){yb(this,this._visualHandlers,e,k,i)};function yb(k,m,e,v,i){i=i||{};var on;qg(m,function(KD,v3){if(i.visualType&&i.visualType!==KD.visualType){return}var v2=k._stageTaskMap.get(KD.uid);var v1=v2.seriesTaskMap;var Kz=v2.overallTask;if(Kz){var KC;var KA=Kz.agentStubMap;KA.each(function(KE){if(Z(i,KE)){KE.dirty();KC=true}});KC&&Kz.dirty();kZ(Kz,v);var KB=k.getPerformArgs(Kz,i.block);KA.each(function(KE){KE.perform(KB)});on|=Kz.perform(KB)}else{if(v1){v1.each(function(KE,KG){if(Z(i,KE)){KE.dirty()}var KF=k.getPerformArgs(KE,i.block);KF.skip=!KD.performRawSeries&&e.isSeriesFiltered(KE.context.model);kZ(KE,v);on|=KE.perform(KF)})}}});function Z(v2,v1){return v2.setDirty&&(!v2.dirtyMap||v2.dirtyMap.get(v1.__pipeline.id))}k.unfinished|=on}fI.performSeriesTasks=function(e){var i;e.eachSeries(function(k){i|=k.dataTask.perform()});this.unfinished|=i};fI.plan=function(){this._pipelineMap.each(function(i){var e=i.tail;do{if(e.__block){i.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var kZ=fI.updatePayload=function(e,i){i!=="remain"&&(e.context.payload=i)};function f3(v,k,on,v1,v2){var e=on.seriesTaskMap||(on.seriesTaskMap=EI());var m=k.seriesType;var v3=k.getTargetSeries;if(k.createOnAllSeries){v1.eachRawSeries(Z)}else{if(m){v1.eachRawSeriesByType(m,Z)}else{if(v3){v3(v1,v2).each(Z)}}}function Z(KA){var KB=KA.uid;var Kz=e.get(KB)||e.set(KB,D6({plan:mV,reset:zi,count:Ed}));Kz.context={model:KA,ecModel:v1,api:v2,useClearVisual:k.isVisual&&!k.isLayout,plan:k.plan,reset:k.reset,scheduler:v};rQ(v,KA,Kz)}var i=v._pipelineMap;e.each(function(Kz,KA){if(!i.get(KA)){Kz.dispose();e.removeKey(KA)}})}function ov(v,k,Z,on,v1){var v2=Z.overallTask=Z.overallTask||D6({reset:kR});v2.context={ecModel:on,api:v1,overallReset:k.overallReset,scheduler:v};var e=v2.agentStubMap=v2.agentStubMap||EI();var m=k.seriesType;var Kz=k.getTargetSeries;var KA=true;var v3=k.modifyOutputEnd;if(m){on.eachRawSeriesByType(m,KB)}else{if(Kz){Kz(on,v1).each(KB)}else{KA=false;qg(on.getSeries(),KB)}}function KB(KC){var KE=KC.uid;var KD=e.get(KE);if(!KD){KD=e.set(KE,D6({reset:y9,onDirty:Ef}));v2.dirty()}KD.context={model:KC,overallProgress:KA,modifyOutputEnd:v3};KD.agent=v2;KD.__block=KA;rQ(v,KC,KD)}var i=v._pipelineMap;e.each(function(KC,KD){if(!i.get(KD)){KC.dispose();v2.dirty();e.removeKey(KD)}})}function kR(e){e.overallReset(e.ecModel,e.api,e.payload)}function y9(i,e){return i.overallProgress&&C6}function C6(){this.agent.dirty();this.getDownstream().dirty()}function Ef(){this.agent&&this.agent.dirty()}function mV(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function zi(e){if(e.useClearVisual){e.data.clearAllVisual()}var i=e.resetDefines=nk(e.reset(e.model,e.ecModel,e.api,e.payload));return i.length>1?Gj(i,function(m,k){return CV(k)}):Dj}var Dj=CV(0);function CV(e){return function(Z,m){var v=m.data;var on=m.resetDefines[e];if(on&&on.dataEach){for(var k=Z.start;k<Z.end;k++){on.dataEach(v,k)}}else{if(on&&on.progress){on.progress(Z,v)}}}}function Ed(e){return e.data.count()}function rQ(m,i,e){var v=i.uid;var k=m._pipelineMap.get(v);!k.head&&(k.head=e);k.tail&&k.tail.pipe(e);k.tail=e;e.__idxInPipeline=k.count++;e.__pipeline=k}GY.wrapStageHandler=function(i,e){if(Hb(i)){i={overallReset:i,seriesType:Q(i)}}i.uid=m1("stageHandler");e&&(i.visualType=e);return i};function Q(i){ev=null;try{i(ee,lz)}catch(k){}return ev}var ee={};var lz={};var ev;uc(ee,cy);uc(lz,mw);ee.eachSeriesByType=ee.eachRawSeriesByType=function(e){ev=e};ee.eachComponent=function(e){if(e.mainType==="series"&&e.subType){ev=e.subType}};function uc(k,e){for(var i in e.prototype){k[i]=Y}}var o5=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];var bG={color:o5,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],o5]};var gF="#eee";var EP=function(){return{axisLine:{lineStyle:{color:gF}},axisTick:{lineStyle:{color:gF}},axisLabel:{textStyle:{color:gF}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:gF}}}};var dL=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"];var rG={color:dL,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:gF},crossStyle:{color:gF},label:{color:"#000"}}},legend:{textStyle:{color:gF}},textStyle:{color:gF},title:{textStyle:{color:gF}},toolbox:{iconStyle:{normal:{borderColor:gF}}},dataZoom:{textStyle:{color:gF}},visualMap:{textStyle:{color:gF}},timeline:{lineStyle:{color:gF},itemStyle:{normal:{color:dL[1]}},label:{normal:{textStyle:{color:gF}}},controlStyle:{normal:{color:gF,borderColor:gF}}},timeAxis:EP(),logAxis:EP(),valueAxis:EP(),categoryAxis:EP(),line:{symbol:"circle"},graph:{color:dL},gauge:{title:{textStyle:{color:gF}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};rG.categoryAxis.splitLine.show=false;aO.extend({type:"dataset",defaultOption:{seriesLayoutBy:lT,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){y0(this)}});FY.extend({type:"dataset"});var El=nh.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(v3,v){var m=0.5522848;var v2=v.cx;var Z=v.cy;var v1=v.rx;var on=v.ry;var i=v1*m;var e=on*m;v3.moveTo(v2-v1,Z);v3.bezierCurveTo(v2-v1,Z-e,v2-i,Z-on,v2,Z-on);v3.bezierCurveTo(v2+i,Z-on,v2+v1,Z-e,v2+v1,Z);v3.bezierCurveTo(v2+v1,Z+e,v2+i,Z+on,v2,Z+on);v3.bezierCurveTo(v2-i,Z+on,v2-v1,Z+e,v2-v1,Z);v3.closePath()}});var jR=/[\s,]+/;function nS(e){if(xN(e)){var i=new DOMParser();e=i.parseFromString(e,"text/xml")}if(e.nodeType===9){e=e.firstChild}while(e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1){e=e.nextSibling}return e}function ur(){this._defs={};this._root=null;this._isDefine=false;this._isText=false}ur.prototype.parse=function(Z,i){i=i||{};var on=nS(Z);if(!on){throw new Error("Illegal svg")}var v2=new D4();this._root=v2;var KA=on.getAttribute("viewBox")||"";var e=parseFloat(on.getAttribute("width")||i.width);var v3=parseFloat(on.getAttribute("height")||i.height);isNaN(e)&&(e=null);isNaN(v3)&&(v3=null);Fv(on,v2,null,true);var k=on.firstChild;while(k){this._parseNode(k,v2);k=k.nextSibling}var v;var m;if(KA){var Kz=IB(KA).split(jR);if(Kz.length>=4){v={x:parseFloat(Kz[0]||0),y:parseFloat(Kz[1]||0),width:parseFloat(Kz[2]),height:parseFloat(Kz[3])}}}if(v&&e!=null&&v3!=null){m=CG(v,e,v3);if(!i.ignoreViewBox){var v1=v2;v2=new D4();v2.add(v1);v1.scale=m.scale.slice();v1.position=m.position.slice()}}if(!i.ignoreRootClip&&e!=null&&v3!=null){v2.setClipPath(new GM({shape:{x:0,y:0,width:e,height:v3}}))}return{root:v2,width:e,height:v3,viewBoxRect:v,viewBoxTransform:m}};ur.prototype._parseNode=function(e,m){var v1=e.nodeName.toLowerCase();if(v1==="defs"){this._isDefine=true}else{if(v1==="text"){this._isText=true}}var i;if(this._isDefine){var on=g7[v1];if(on){var k=on.call(this,e);var Z=e.getAttribute("id");if(Z){this._defs[Z]=k}}}else{var on=tE[v1];if(on){i=on.call(this,e,m);m.add(i)}}var v=e.firstChild;while(v){if(v.nodeType===1){this._parseNode(v,i)}if(v.nodeType===3&&this._isText){this._parseText(v,i)}v=v.nextSibling}if(v1==="defs"){this._isDefine=false}else{if(v1==="text"){this._isText=false}}};ur.prototype._parseText=function(k,Z){if(k.nodeType===1){var i=k.getAttribute("dx")||0;var e=k.getAttribute("dy")||0;this._textX+=parseFloat(i);this._textY+=parseFloat(e)}var on=new jv({style:{text:k.textContent,transformText:true},position:[this._textX||0,this._textY||0]});Eh(Z,on);Fv(k,on,this._defs);var v=on.style.fontSize;if(v&&v<9){on.style.fontSize=9;on.scale=on.scale||[1,1];on.scale[0]*=v/9;on.scale[1]*=v/9}var m=on.getBoundingRect();this._textX+=m.width;Z.add(on);return on};var tE={g:function(e,k){var i=new D4();Eh(k,i);Fv(e,i,this._defs);return i},rect:function(e,k){var i=new GM();Eh(k,i);Fv(e,i,this._defs);i.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)});return i},circle:function(e,k){var i=new IS();Eh(k,i);Fv(e,i,this._defs);i.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)});return i},line:function(i,k){var e=new Br();Eh(k,e);Fv(i,e,this._defs);e.setShape({x1:parseFloat(i.getAttribute("x1")||0),y1:parseFloat(i.getAttribute("y1")||0),x2:parseFloat(i.getAttribute("x2")||0),y2:parseFloat(i.getAttribute("y2")||0)});return e},ellipse:function(e,k){var i=new El();Eh(k,i);Fv(e,i,this._defs);i.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)});return i},polygon:function(i,m){var k=i.getAttribute("points");if(k){k=cZ(k)}var e=new iO({shape:{points:k||[]}});Eh(m,e);Fv(i,e,this._defs);return e},polyline:function(i,v){var m=new nh();Eh(v,m);Fv(i,m,this._defs);var k=i.getAttribute("points");if(k){k=cZ(k)}var e=new BY({shape:{points:k||[]}});return e},image:function(i,k){var e=new Hz();Eh(k,e);Fv(i,e,this._defs);e.setStyle({image:i.getAttribute("xlink:href"),x:i.getAttribute("x"),y:i.getAttribute("y"),width:i.getAttribute("width"),height:i.getAttribute("height")});return e},text:function(m,Z){var e=m.getAttribute("x")||0;var on=m.getAttribute("y")||0;var k=m.getAttribute("dx")||0;var i=m.getAttribute("dy")||0;this._textX=parseFloat(e)+parseFloat(k);this._textY=parseFloat(on)+parseFloat(i);var v=new D4();Eh(Z,v);Fv(m,v,this._defs);return v},tspan:function(m,Z){var e=m.getAttribute("x");var on=m.getAttribute("y");if(e!=null){this._textX=parseFloat(e)}if(on!=null){this._textY=parseFloat(on)}var k=m.getAttribute("dx")||0;var i=m.getAttribute("dy")||0;var v=new D4();Eh(Z,v);Fv(m,v,this._defs);this._textX+=k;this._textY+=i;return v},path:function(e,k){var m=e.getAttribute("d")||"";var i=fO(m);Eh(k,i);Fv(e,i,this._defs);return i}};var g7={lineargradient:function(m){var i=parseInt(m.getAttribute("x1")||0,10);var v=parseInt(m.getAttribute("y1")||0,10);var e=parseInt(m.getAttribute("x2")||10,10);var k=parseInt(m.getAttribute("y2")||0,10);var Z=new v6(i,v,e,k);dC(m,Z);return Z},radialgradient:function(e){}};function dC(k,m){var i=k.firstChild;while(i){if(i.nodeType===1){var v=i.getAttribute("offset");if(v.indexOf("%")>0){v=parseInt(v,10)/100}else{if(v){v=parseFloat(v)}else{v=0}}var e=i.getAttribute("stop-color")||"#000000";m.addColorStop(v,e)}i=i.nextSibling}}function Eh(e,i){if(e&&e.__inheritedStyle){if(!i.__inheritedStyle){i.__inheritedStyle={}}Fg(i.__inheritedStyle,e.__inheritedStyle)}}function cZ(k){var Z=IB(k).split(jR);var v=[];for(var m=0;m<Z.length;m+=2){var e=parseFloat(Z[m]);var on=parseFloat(Z[m+1]);v.push([e,on])}return v}var EH={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function Fv(v3,e,m,k){var Kz=e.__inheritedStyle||{};var Z=e.type==="text";if(v3.nodeType===1){mX(v3,e);cc(Kz,cJ(v3));if(!k){for(var i in EH){if(EH.hasOwnProperty(i)){var v=v3.getAttribute(i);if(v!=null){Kz[EH[i]]=v}}}}}var v1=Z?"textFill":"fill";var on=Z?"textStroke":"stroke";e.style=e.style||new zw();var v2=e.style;Kz.fill!=null&&v2.set(v1,p0(Kz.fill,m));Kz.stroke!=null&&v2.set(on,p0(Kz.stroke,m));qg(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(KB){var KA=(KB==="lineWidth"&&Z)?"textStrokeWidth":KB;Kz[KB]!=null&&v2.set(KA,parseFloat(Kz[KB]))});if(!Kz.textBaseline||Kz.textBaseline==="auto"){Kz.textBaseline="alphabetic"}if(Kz.textBaseline==="alphabetic"){Kz.textBaseline="bottom"}if(Kz.textAlign==="start"){Kz.textAlign="left"}if(Kz.textAlign==="end"){Kz.textAlign="right"}qg(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(KA){Kz[KA]!=null&&v2.set(KA,Kz[KA])});if(Kz.lineDash){e.style.lineDash=IB(Kz.lineDash).split(jR)}if(v2[on]&&v2[on]!=="none"){e[on]=true}e.__inheritedStyle=Kz}var Fp=/url\(\s*#(.*?)\)/;function p0(v,e){var k=e&&v&&v.match(Fp);if(k){var i=IB(k[1]);var m=e[i];return m}return v}var c=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;function mX(on,v2){var v=on.getAttribute("transform");if(v){v=v.replace(/,/g," ");var e=null;var k=[];v.replace(c,function(Kz,i,m){k.push(i,m)});for(var Z=k.length-1;Z>0;Z-=2){var v3=k[Z];var v1=k[Z-1];e=e||Ez();switch(v1){case"translate":v3=IB(v3).split(jR);wV(e,e,[parseFloat(v3[0]),parseFloat(v3[1]||0)]);break;case"scale":v3=IB(v3).split(jR);sc(e,e,[parseFloat(v3[0]),parseFloat(v3[1]||v3[0])]);break;case"rotate":v3=IB(v3).split(jR);k5(e,e,parseFloat(v3[0]));break;case"skew":v3=IB(v3).split(jR);console.warn("Skew transform is not supported yet");break;case"matrix":var v3=IB(v3).split(jR);e[0]=parseFloat(v3[0]);e[1]=parseFloat(v3[1]);e[2]=parseFloat(v3[2]);e[3]=parseFloat(v3[3]);e[4]=parseFloat(v3[4]);e[5]=parseFloat(v3[5]);break}}v2.setLocalTransform(e)}}var z5=/([^\s:;]+)\s*:\s*([^:;]+)/g;function cJ(k){var m=k.getAttribute("style");var e={};if(!m){return e}var Z={};z5.lastIndex=0;var i;while((i=z5.exec(m))!=null){Z[i[1]]=i[2]}for(var v in EH){if(EH.hasOwnProperty(v)&&Z[v]!=null){e[EH[v]]=Z[v]}}return e}function CG(i,Z,e){var v=Z/i.width;var m=e/i.height;var on=Math.min(v,m);var v1=[on,on];var k=[-(i.x+i.width/2)*on+Z/2,-(i.y+i.height/2)*on+e/2];return{scale:v1,position:k}}function F6(e,i){var k=new ur();return k.parse(e,i)}var GJ=EI();var FU={registerMap:function(m,k,e){var i;if(IQ(k)){i=k}else{if(k.svg){i=[{type:"svg",source:k.svg,specialAreas:k.specialAreas}]}else{if(k.geoJson&&!k.features){e=k.specialAreas;k=k.geoJson}i=[{type:"geoJSON",source:k,specialAreas:e}]}}qg(i,function(v){var Z=v.type;Z==="geoJson"&&(Z=v.type="geoJSON");var on=bX[Z];if(pm){bY(on,"Illegal map type: "+Z)}on(v)});return GJ.set(m,i)},retrieveMap:function(e){return GJ.get(e)}};var bX={geoJSON:function(e){var i=e.source;e.geoJSON=!xN(i)?i:(typeof JSON!=="undefined"&&JSON.parse)?JSON.parse(i):(new Function("return ("+i+");"))()},svg:function(e){e.svgXML=nS(e.source)}};var an=bY;var ES=qg;var pU=Hb;var kK=u7;var uw=aO.parseClassType;var Kk="4.9.0";var sd={zrender:"4.3.2"};var m7=1;var iT=1000;var Dn=800;var dV=900;var s6=5000;var au=1000;var AE=1100;var qj=2000;var z1=3000;var ra=3500;var HG=4000;var fq=5000;var D2={PROCESSOR:{FILTER:iT,SERIES_FILTER:Dn,STATISTIC:s6},VISUAL:{LAYOUT:au,PROGRESSIVE_LAYOUT:AE,GLOBAL:qj,CHART:z1,POST_CHART_LAYOUT:ra,COMPONENT:HG,BRUSH:fq}};var nt="__flagInMainProcess";var sH="__optionUpdated";var gz=/^[a-zA-Z0-9_]+$/;function I3(i,e){return function(k,v,m){if(!e&&this._disposed){AU(this.id);return}k=k&&k.toLowerCase();Ij.prototype[i].call(this,k,v,m)}}function ET(){Ij.call(this)}ET.prototype.on=I3("on",true);ET.prototype.off=I3("off",true);ET.prototype.one=I3("one",true);Iz(ET,Ij);function vx(on,k,i){i=i||{};if(typeof k==="string"){k=J6[k]}this.id;this.group;this._dom=on;var v="canvas";if(pm){v=(typeof window==="undefined"?global:window).__ECHARTS__DEFAULT__RENDERER__||v}var Z=this._zr=oC(on,{renderer:i.renderer||v,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=fp(k9(Z.flush,Z),17);var k=E5(k);k&&JE(k,true);this._theme=k;this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new fZ();var e=this._api=lS(this);function m(v2,v1){return v2.__prio-v1.__prio}rH(dq,m);rH(i8,m);this._scheduler=new GY(this,e,i8,dq);Ij.call(this,this._ecEventProcessor=new zn());this._messageCenter=new ET();this._initEvents();this.resize=k9(this.resize,this);this._pendingActions=[];Z.animation.on("frame",this._onframe,this);ny(Z,this);B(this)}var Hv=vx.prototype;Hv._onframe=function(){if(this._disposed){return}var k=this._scheduler;if(this[sH]){var i=this[sH].silent;this[nt]=true;zt(this);Ca.update.call(this);this[nt]=false;this[sH]=false;aC.call(this,i);Fa.call(this,i)}else{if(k.unfinished){var Z=m7;var e=this._model;var v=this._api;k.unfinished=false;do{var m=+new Date();k.performSeriesTasks(e);k.performDataProcessorTasks(e);En(this,e);k.performVisualTasks(e);gi(this,this._model,v,"remain");Z-=(+new Date()-m)}while(Z>0&&k.unfinished);if(!k.unfinished){this._zr.flush()}}}};Hv.getDom=function(){return this._dom};Hv.getZr=function(){return this._zr};Hv.setOption=function(m,on,Z){if(pm){an(!this[nt],"`setOption` should not be called during main process.")}if(this._disposed){AU(this.id);return}var k;if(kK(on)){Z=on.lazyUpdate;k=on.silent;on=on.notMerge}this[nt]=true;if(!this._model||on){var i=new m9(this._api);var v=this._theme;var e=this._model=new cy();e.scheduler=this._scheduler;e.init(null,null,v,i)}this._model.setOption(m,gs);if(Z){this[sH]={silent:k};this[nt]=false}else{zt(this);Ca.update.call(this);this._zr.flush();this[sH]=false;this[nt]=false;aC.call(this,k);Fa.call(this,k)}};Hv.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};Hv.getModel=function(){return this._model};Hv.getOption=function(){return this._model&&this._model.getOption()};Hv.getWidth=function(){return this._zr.getWidth()};Hv.getHeight=function(){return this._zr.getHeight()};Hv.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};Hv.getRenderedCanvas=function(e){if(!uk.canvasSupported){return}e=e||{};e.pixelRatio=e.pixelRatio||1;e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var i=this._zr;return i.painter.getRenderedCanvas(e)};Hv.getSvgDataURL=function(){if(!uk.svgSupported){return}var i=this._zr;var e=i.storage.getDisplayList();qg(e,function(k){k.stopAnimation(true)});return i.painter.toDataURL()};Hv.getDataURL=function(v){if(this._disposed){AU(this.id);return}v=v||{};var Z=v.excludeComponents;var e=this._model;var m=[];var i=this;ES(Z,function(on){e.eachComponent({mainType:on},function(v2){var v1=i._componentsMap[v2.__viewId];if(!v1.group.ignore){m.push(v1);v1.group.ignore=true}})});var k=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.getRenderedCanvas(v).toDataURL("image/"+(v&&v.type||"png"));ES(m,function(on){on.group.ignore=false});return k};Hv.getConnectedDataURL=function(i){if(this._disposed){AU(this.id);return}if(!uk.canvasSupported){return}var Z=i.type==="svg";var on=this.group;var m=Math.min;var v1=Math.max;var KD=Infinity;if(d5[on]){var v=KD;var KA=KD;var KE=-KD;var e=-KD;var v2=[];var KC=(i&&i.pixelRatio)||1;qg(aG,function(KI,KJ){if(KI.group===on){var KH=Z?KI.getZr().painter.getSvgDom().innerHTML:KI.getRenderedCanvas(E5(i));var KG=KI.getDom().getBoundingClientRect();v=m(KG.left,v);KA=m(KG.top,KA);KE=v1(KG.right,KE);e=v1(KG.bottom,e);v2.push({dom:KH,left:KG.left,top:KG.top})}});v*=KC;KA*=KC;KE*=KC;e*=KC;var k=KE-v;var KF=e-KA;var KB=Fe();var Kz=oC(KB,{renderer:Z?"svg":"canvas"});Kz.resize({width:k,height:KF});if(Z){var v3="";ES(v2,function(KH){var KG=KH.left-v;var KI=KH.top-KA;v3+='<g transform="translate('+KG+","+KI+')">'+KH.dom+"</g>"});Kz.painter.getSvgRoot().innerHTML=v3;if(i.connectedBackgroundColor){Kz.painter.setBackgroundColor(i.connectedBackgroundColor)}Kz.refreshImmediately();return Kz.painter.toDataURL()}else{if(i.connectedBackgroundColor){Kz.add(new GM({shape:{x:0,y:0,width:k,height:KF},style:{fill:i.connectedBackgroundColor}}))}ES(v2,function(KH){var KG=new Hz({style:{x:KH.left*KC-v,y:KH.top*KC-KA,image:KH.dom}});Kz.add(KG)});Kz.refreshImmediately();return KB.toDataURL("image/"+(i&&i.type||"png"))}}else{return this.getDataURL(i)}};Hv.convertToPixel=tT(qx,"convertToPixel");Hv.convertFromPixel=tT(qx,"convertFromPixel");function qx(v,v2,v1){if(this._disposed){AU(this.id);return}var k=this._model;var m=this._coordSysMgr.getCoordinateSystems();var e;v2=oD(k,v2);for(var on=0;on<m.length;on++){var Z=m[on];if(Z[v]&&(e=Z[v](k,v2,v1))!=null){return e}}if(pm){console.warn("No coordinate system that supports "+v+" found by the given finder.")}}Hv.containPixel=function(m,k){if(this._disposed){AU(this.id);return}var i=this._model;var e;m=oD(i,m);qg(m,function(Z,v){v.indexOf("Models")>=0&&qg(Z,function(v1){var v2=v1.coordinateSystem;if(v2&&v2.containPoint){e|=!!v2.containPoint(k)}else{if(v==="seriesModels"){var on=this._chartsMap[v1.__viewId];if(on&&on.containPoint){e|=on.containPoint(k,v1)}else{if(pm){console.warn(v+": "+(on?"The found component do not support containPoint.":"No view mapping to the found component."))}}}else{if(pm){console.warn(v+": containPoint is not supported")}}}},this)},this);return !!e};Hv.getVisual=function(Z,v){var e=this._model;Z=oD(e,Z,{defaultMainType:"series"});var i=Z.seriesModel;if(pm){if(!i){console.warn("There is no specified seires model")}}var m=i.getData();var k=Z.hasOwnProperty("dataIndexInside")?Z.dataIndexInside:Z.hasOwnProperty("dataIndex")?m.indexOfRawIndex(Z.dataIndex):null;return k!=null?m.getItemVisual(k,v):m.getVisual(v)};Hv.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]};Hv.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var Ca={prepareAndUpdate:function(e){zt(this);Ca.update.call(this,e)},update:function(v1){var e=this._model;var m=this._api;var on=this._zr;var Z=this._coordSysMgr;var k=this._scheduler;if(!e){return}k.restoreData(e,v1);k.performSeriesTasks(e);Z.create(e,m);k.performDataProcessorTasks(e,v1);En(this,e);Z.update(e,m);uq(e);k.performVisualTasks(e,v1);JB(this,e,m,v1);var i=e.get("backgroundColor")||"transparent";if(!uk.canvasSupported){var v=fk(i);i=x1(v,"rgb");if(v[3]===0){i="transparent"}}else{on.setBackgroundColor(i)}Et(e,m)},updateTransform:function(v){var i=this._model;var e=this;var k=this._api;if(!i){return}var m=[];i.eachComponent(function(v2,v1){var v3=e.getViewOfComponentModel(v1);if(v3&&v3.__alive){if(v3.updateTransform){var on=v3.updateTransform(v1,i,k,v);on&&on.update&&m.push(v3)}else{m.push(v3)}}});var Z=EI();i.eachSeries(function(v2){var v1=e._chartsMap[v2.__viewId];if(v1.updateTransform){var on=v1.updateTransform(v2,i,k,v);on&&on.update&&Z.set(v2.uid,1)}else{Z.set(v2.uid,1)}});uq(i);this._scheduler.performVisualTasks(i,v,{setDirty:true,dirtyMap:Z});gi(e,i,k,v,Z);Et(i,this._api)},updateView:function(i){var e=this._model;if(!e){return}dW.markUpdateMethod(i,"updateView");uq(e);this._scheduler.performVisualTasks(e,i,{setDirty:true});JB(this,this._model,this._api,i);Et(e,this._api)},updateVisual:function(e){Ca.update.call(this,e)},updateLayout:function(e){Ca.update.call(this,e)}};function zt(i){var e=i._model;var k=i._scheduler;k.restorePipelines(e);k.prepareStageTasks();D7(i,"component",e,k);D7(i,"chart",e,k);k.plan()}function o3(v3,e,on,v,v2){var k=v3._model;if(!v){ES(v3._componentsViews.concat(v3._chartsViews),m);return}var Z={};Z[v+"Id"]=on[v+"Id"];Z[v+"Index"]=on[v+"Index"];Z[v+"Name"]=on[v+"Name"];var i={mainType:v,query:Z};v2&&(i.subType=v2);var v1=on.excludeSeriesId;if(v1!=null){v1=EI(nk(v1))}k&&k.eachComponent(i,function(Kz){if(!v1||v1.get(Kz.id)==null){m(v3[v==="series"?"_chartsMap":"_componentsMap"][Kz.__viewId])}},v3);function m(Kz){Kz&&Kz.__alive&&Kz[e]&&Kz[e](Kz.__model,k,v3._api,on)}}Hv.resize=function(m){if(pm){an(!this[nt],"`resize` should not be called during main process.")}if(this._disposed){AU(this.id);return}this._zr.resize(m);var e=this._model;this._loadingFX&&this._loadingFX.resize();if(!e){return}var k=e.resetOption("media");var i=m&&m.silent;this[nt]=true;k&&zt(this);Ca.update.call(this);this[nt]=false;aC.call(this,i);Fa.call(this,i)};function En(i,e){var k=i._chartsMap;var m=i._scheduler;e.eachSeries(function(v){m.updateStreamModes(v,k[v.__viewId])})}Hv.showLoading=function(i,e){if(this._disposed){AU(this.id);return}if(kK(i)){e=i;i=""}i=i||"default";this.hideLoading();if(!HP[i]){if(pm){console.warn("Loading effects "+i+" not exists.")}return}var k=HP[i](this._api,e);var m=this._zr;this._loadingFX=k;m.add(k)};Hv.hideLoading=function(){if(this._disposed){AU(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};Hv.makeActionFromEvent=function(e){var i=cc({},e);i.type=sl[e.type];return i};Hv.dispatchAction=function(i,e){if(this._disposed){AU(this.id);return}if(!kK(e)){e={silent:!!e}}if(!c8[i.type]){return}if(!this._model){return}if(this[nt]){this._pendingActions.push(i);return}jq.call(this,i,e.silent);if(e.flush){this._zr.flush(true)}else{if(e.flush!==false&&uk.browser.weChat){this._throttledZrFlush()}}aC.call(this,e.silent);Fa.call(this,e.silent)};function jq(Kz,v1){var KA=Kz.type;var k=Kz.escapeConnect;var v2=c8[KA];var v3=v2.actionInfo;var i=(v3.update||"update").split(":");var m=i.pop();i=i[0]!=null&&uw(i[0]);this[nt]=true;var v=[Kz];var e=false;if(Kz.batch){e=true;v=Gj(Kz.batch,function(KC){KC=Fg(cc({},KC),Kz);KC.batch=null;return KC})}var KB=[];var on;var Z=KA==="highlight"||KA==="downplay";ES(v,function(KC){on=v2.action(KC,this._model,this._api);on=on||cc({},KC);on.type=v3.event||on.type;KB.push(on);if(Z){o3(this,m,KC,"series")}else{if(i){o3(this,m,KC,i.main,i.sub)}}},this);if(m!=="none"&&!Z&&!i){if(this[sH]){zt(this);Ca.update.call(this,Kz);this[sH]=false}else{Ca[m].call(this,Kz)}}if(e){on={type:v3.event||KA,escapeConnect:k,batch:KB}}else{on=KB[0]}this[nt]=false;!v1&&this._messageCenter.trigger(on.type,on)}function aC(e){var i=this._pendingActions;while(i.length){var k=i.shift();jq.call(this,k,e)}}function Fa(e){!e&&this.trigger("updated")}function ny(i,e){i.on("rendered",function(){e.trigger("rendered");if(i.animation.isFinished()&&!e[sH]&&!e._scheduler.unfinished&&!e._pendingActions.length){e.trigger("finished")}})}Hv.appendData=function(m){if(this._disposed){AU(this.id);return}var k=m.seriesIndex;var e=this.getModel();var i=e.getSeriesByIndex(k);if(pm){an(m.data&&i)}i.appendData(m);this._scheduler.unfinished=true};Hv.on=I3("on",false);Hv.off=I3("off",false);Hv.one=I3("one",false);function D7(KB,v3,Z,m){var v=v3==="component";var e=v?KB._componentsViews:KB._chartsViews;var v2=v?KB._componentsMap:KB._chartsMap;var v1=KB._zr;var on=KB._api;for(var k=0;k<e.length;k++){e[k].__alive=false}v?Z.eachComponent(function(KC,i){KC!=="series"&&KA(i)}):Z.eachSeries(KA);function KA(KD){var i="_ec_"+KD.id+"_"+KD.type;var KC=v2[i];if(!KC){var KE=uw(KD.type);var KF=v?FY.getClass(KE.main,KE.sub):dW.getClass(KE.sub);if(pm){an(KF,KE.sub+" does not exist.")}KC=new KF();KC.init(Z,on);v2[i]=KC;e.push(KC);v1.add(KC.group)}KD.__viewId=KC.__id=i;KC.__alive=true;KC.__model=KD;KC.group.__ecComponentInfo={mainType:KD.mainType,index:KD.componentIndex};!v&&m.prepareView(KC,KD,Z,on)}for(var k=0;k<e.length;){var Kz=e[k];if(!Kz.__alive){!v&&Kz.renderTask.dispose();v1.remove(Kz.group);Kz.dispose(Z,on);e.splice(k,1);delete v2[Kz.__id];Kz.__id=Kz.group.__ecComponentInfo=null}else{k++}}}function uq(e){e.clearColorPalette();e.eachSeries(function(i){i.clearColorPalette()})}function JB(i,e,k,m){iu(i,e,k,m);ES(i._chartsViews,function(v){v.__alive=false});gi(i,e,k,m);ES(i._chartsViews,function(v){if(!v.__alive){v.remove(e,k)}})}function iu(i,e,m,v,k){ES(k||i._componentsViews,function(on){var Z=on.__model;on.render(Z,e,m,v);rR(Z,on)})}function gi(i,e,v,Z,k){var m=i._scheduler;var on;e.eachSeries(function(v3){var v1=i._chartsMap[v3.__viewId];v1.__alive=true;var v2=v1.renderTask;m.updatePayload(v2,Z);if(k&&k.get(v3.uid)){v2.dirty()}on|=v2.perform(m.getPerformArgs(v2));v1.group.silent=!!v3.get("silent");rR(v3,v1);Ia(v3,v1)});m.unfinished|=on;Cn(i,e);iP(i._zr.dom,e)}function Et(e,i){ES(ie,function(k){k(e,i)})}var nD=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];Hv._initEvents=function(){ES(nD,function(i){var e=function(v3){var v2=this.getModel();var m=v3.target;var Z;var k=i==="globalout";if(k){Z={}}else{if(m&&m.dataIndex!=null){var Kz=m.dataModel||v2.getSeriesByIndex(m.seriesIndex);Z=Kz&&Kz.getDataParams(m.dataIndex,m.dataType,m)||{}}else{if(m&&m.eventData){Z=cc({},m.eventData)}}}if(Z){var v=Z.componentType;var on=Z.componentIndex;if(v==="markLine"||v==="markPoint"||v==="markArea"){v="series";on=Z.seriesIndex}var v1=v&&on!=null&&v2.getComponent(v,on);var KA=v1&&this[v1.mainType==="series"?"_chartsMap":"_componentsMap"][v1.__viewId];if(pm){if(!k&&!(v1&&KA)){console.warn("model or view can not be found by params")}}Z.event=v3;Z.type=i;this._ecEventProcessor.eventInfo={targetEl:m,packedEvent:Z,model:v1,view:KA};this.trigger(i,Z)}};e.zrEventfulCallAtLast=true;this._zr.on(i,e,this)},this);ES(sl,function(e,i){this._messageCenter.on(i,function(k){this.trigger(i,k)},this)},this)};Hv.isDisposed=function(){return this._disposed};Hv.clear=function(){if(this._disposed){AU(this.id);return}this.setOption({series:[]},true)};Hv.dispose=function(){if(this._disposed){AU(this.id);return}this._disposed=true;b6(this.getDom(),aw,"");var i=this._api;var e=this._model;ES(this._componentsViews,function(k){k.dispose(e,i)});ES(this._chartsViews,function(k){k.dispose(e,i)});this._zr.dispose();delete aG[this.id]};Iz(vx,Ij);function AU(e){if(pm){console.warn("Instance "+e+" has been disposed")}}function Cn(i,e){var m=i._zr;var v=m.storage;var k=0;v.traverse(function(Z){k++});if(k>e.get("hoverLayerThreshold")&&!uk.node){e.eachSeries(function(on){if(on.preventUsingHoverLayer){return}var Z=i._chartsMap[on.__viewId];if(Z.__alive){Z.group.traverse(function(v1){v1.useHoverLayer=true})}})}}function Ia(i,e){var k=i.get("blendMode")||null;if(pm){if(!uk.canvasSupported&&k&&k!=="source-over"){console.warn("Only canvas support blendMode")}}e.group.traverse(function(m){if(!m.isGroup){if(m.style.blend!==k){m.setStyle("blend",k)}}if(m.eachPendingDisplayable){m.eachPendingDisplayable(function(v){v.setStyle("blend",k)})}})}function rR(k,i){var m=k.get("z");var e=k.get("zlevel");i.group.traverse(function(v){if(v.type!=="group"){m!=null&&(v.z=m);e!=null&&(v.zlevel=e)}})}function lS(e){var i=e._coordSysMgr;return cc(new mw(e),{getCoordinateSystems:k9(i.getCoordinateSystems,i),getComponentByElement:function(k){while(k){var m=k.__ecComponentInfo;if(m!=null){return e._model.getComponent(m.mainType,m.index)}k=k.parent}}})}function zn(){this.eventInfo}zn.prototype={constructor:zn,normalizeQuery:function(Z){var k={};var on={};var m={};if(xN(Z)){var v=uw(Z);k.mainType=v.main||null;k.subType=v.sub||null}else{var i=["Index","Name","Id"];var e={name:1,dataIndex:1,dataType:1};qg(Z,function(KB,Kz){var v2=false;for(var v3=0;v3<i.length;v3++){var KA=i[v3];var v1=Kz.lastIndexOf(KA);if(v1>0&&v1===Kz.length-KA.length){var KC=Kz.slice(0,v1);if(KC!=="data"){k.mainType=KC;k[KA.toLowerCase()]=KB;v2=true}}}if(e.hasOwnProperty(Kz)){on[Kz]=KB;v2=true}if(!v2){m[Kz]=KB}})}return{cptQuery:k,dataQuery:on,otherQuery:m}},filter:function(k,v1,on){var Z=this.eventInfo;if(!Z){return true}var Kz=Z.targetEl;var v=Z.packedEvent;var m=Z.model;var v2=Z.view;if(!m||!v2){return true}var i=v1.cptQuery;var v3=v1.dataQuery;return e(i,m,"mainType")&&e(i,m,"subType")&&e(i,m,"index","componentIndex")&&e(i,m,"name")&&e(i,m,"id")&&e(v3,v,"name")&&e(v3,v,"dataIndex")&&e(v3,v,"dataType")&&(!v2.filterForExposedEvent||v2.filterForExposedEvent(k,v1.otherQuery,Kz,v));function e(KC,KB,KD,KA){return KC[KD]==null||KB[KA||KD]===KC[KD]}},afterTrigger:function(){this.eventInfo=null}};var c8={};var sl={};var i8=[];var gs=[];var ie=[];var dq=[];var J6={};var HP={};var aG={};var d5={};var de=new Date()-0;var ct=new Date()-0;var aw="_echarts_instance_";function lC(m){var e=0;var v=1;var k=2;var i="__connectUpdateStatus";function Z(v3,on){for(var v2=0;v2<v3.length;v2++){var v1=v3[v2];v1[i]=on}}ES(sl,function(on,v1){m._messageCenter.on(v1,function(v2){if(d5[m.group]&&m[i]!==e){if(v2&&v2.escapeConnect){return}var v3=m.makeActionFromEvent(v2);var Kz=[];ES(aG,function(KA){if(KA!==m&&KA.group===m.group){Kz.push(KA)}});Z(Kz,e);ES(Kz,function(KA){if(KA[i]!==v){KA.dispatchAction(v3)}});Z(Kz,k)}})})}function G1(v,k,i){if(pm){if((us.replace(".","")-0)<(sd.zrender.replace(".","")-0)){throw new Error("zrender/src "+us+" is too old for ECharts "+Kk+". Current version need ZRender "+sd.zrender+"+")}if(!v){throw new Error("Initialize failed: invalid dom.")}}var m=cf(v);if(m){if(pm){console.warn("There is a chart instance already initialized on the dom.")}return m}if(pm){if(aF(v)&&v.nodeName.toUpperCase()!=="CANVAS"&&((!v.clientWidth&&(!i||i.width==null))||(!v.clientHeight&&(!i||i.height==null)))){console.warn("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload.")}}var e=new vx(v,k,i);e.id="ec_"+de++;aG[e.id]=e;b6(v,aw,e.id);lC(e);return e}function oN(e){if(IQ(e)){var i=e;e=null;ES(i,function(k){if(k.group!=null){e=k.group}});e=e||("g_"+ct++);ES(i,function(k){k.group=e})}d5[e]=true;return e}function ig(e){d5[e]=false}var AI=ig;function wE(e){if(typeof e==="string"){e=aG[e]}else{if(!(e instanceof vx)){e=cf(e)}}if((e instanceof vx)&&!e.isDisposed()){e.dispose()}}function cf(e){return aG[xp(e,aw)]}function eb(e){return aG[e]}function Bn(e,i){J6[e]=i}function AO(e){gs.push(e)}function ex(e,i){AA(i8,e,i,iT)}function xS(e){ie.push(e)}function ce(k,e,m){if(typeof e==="function"){m=e;e=""}var i=kK(k)?k.type:([k,k={event:e}][0]);k.event=(k.event||i).toLowerCase();e=k.event;an(gz.test(i)&&gz.test(e));if(!c8[i]){c8[i]={action:m,actionInfo:k}}sl[e]=i}function yc(i,e){fZ.register(i,e)}function hC(e){var i=fZ.get(e);if(i){return i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice()}}function qz(i,e){AA(dq,i,e,au,"layout")}function H(e,i){AA(dq,e,i,z1,"visual")}function AA(Z,i,k,e,v){if(pU(i)||kK(i)){k=i;i=e}if(pm){if(isNaN(i)||i==null){throw new Error("Illegal priority")}ES(Z,function(on){an(on.__raw!==k)})}var m=GY.wrapStageHandler(k,v);m.__prio=i;m.__raw=k;Z.push(m);return m}function zA(i,e){HP[i]=e}function rg(e){return aO.extend(e)}function rL(e){return FY.extend(e)}function DZ(e){return oW.extend(e)}function DH(e){return dW.extend(e)}function e1(e){CJ("createCanvas",e)}function f5(i,e,k){FU.registerMap(i,e,k)}function wK(i){var e=FU.retrieveMap(i);return e&&e[0]&&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}}H(qj,EA);AO(JE);ex(dV,xD);zA("default",wa);ce({type:"highlight",event:"highlight",update:"highlight"},Y);ce({type:"downplay",event:"downplay",update:"downplay"},Y);Bn("light",bG);Bn("dark",rG);var yd={};function B5(e){return e}function IF(k,v,i,m,e){this._old=k;this._new=v;this._oldKeyGetter=i||B5;this._newKeyGetter=m||B5;this.context=e}IF.prototype={constructor:IF,add:function(e){this._add=e;return this},update:function(e){this._update=e;return this},remove:function(e){this._remove=e;return this},execute:function(){var e=this._old;var v=this._new;var on={};var m={};var v1=[];var v3=[];var Z;AC(e,on,v1,"_oldKeyGetter",this);AC(v,m,v3,"_newKeyGetter",this);for(Z=0;Z<e.length;Z++){var KA=v1[Z];var Kz=m[KA];if(Kz!=null){var v2=Kz.length;if(v2){v2===1&&(m[KA]=null);Kz=Kz.shift()}else{m[KA]=null}this._update&&this._update(Kz,Z)}else{this._remove&&this._remove(Z)}}for(var Z=0;Z<v3.length;Z++){var KA=v3[Z];if(m.hasOwnProperty(KA)){var Kz=m[KA];if(Kz==null){continue}if(!Kz.length){this._add&&this._add(Kz)}else{for(var k=0,v2=Kz.length;k<v2;k++){this._add&&this._add(Kz[k])}}}}}};function AC(e,on,k,v2,Z){for(var v=0;v<e.length;v++){var m="_ec_"+Z[v2](e[v],v);var v1=on[m];if(v1==null){k.push(m);on[m]=v}else{if(!v1.length){on[m]=v1=[v1]}v1.push(v)}}}var xO=EI(["tooltip","label","itemName","itemId","seriesName"]);function Kf(m){var on={};var Z=on.encode={};var e=EI();var v2=[];var v3=[];var Kz=on.userOutput={dimensionNames:m.dimensions.slice(),encode:{}};qg(m.dimensions,function(KD){var KA=m.getDimensionInfo(KD);var KB=KA.coordDim;if(KB){if(pm){bY(xO.get(KB)==null)}var KC=KA.coordDimIndex;EF(Z,KB)[KC]=KD;if(!KA.isExtraCoord){e.set(KB,1);if(hR(KA.type)){v2[0]=KD}EF(Kz.encode,KB)[KC]=KA.index}if(KA.defaultTooltip){v3.push(KD)}}xO.each(function(KG,KF){var KE=EF(Z,KF);var KH=KA.otherDims[KF];if(KH!=null&&KH!==false){KE[KH]=KA.name}})});var v1=[];var v={};e.each(function(KA,KC){var KB=Z[KC];v[KC]=KB[0];v1=v1.concat(KB)});on.dataDimsOnCoord=v1;on.encodeFirstDimNotExtra=v;var i=Z.label;if(i&&i.length){v2=i.slice()}var k=Z.tooltip;if(k&&k.length){v3=k.slice()}else{if(!v3.length){v3=v2.slice()}}Z.defaultedLabel=v2;Z.defaultedTooltip=v3;return on}function EF(e,i){if(!e.hasOwnProperty(i)){e[i]=[]}return e[i]}function rV(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function hR(e){return !(e==="ordinal"||e==="time")}function IP(e){if(e!=null){cc(this,e)}this.otherDims={}}var u3=u7;var hF="undefined";var ga=-1;var bw="e\0\0";var yS={"float":typeof Float64Array===hF?Array:Float64Array,"int":typeof Int32Array===hF?Array:Int32Array,ordinal:Array,number:Array,time:Array};var G=typeof Uint32Array===hF?Array:Uint32Array;var mr=typeof Int32Array===hF?Array:Int32Array;var bx=typeof Uint16Array===hF?Array:Uint16Array;function C0(e){return e._rawCount>65535?G:bx}function t8(i){var e=i.constructor;return e===Array?i.slice():new e(i)}var gN=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"];var qq=["_extent","_approximateExtent","_rawExtent"];function ei(i,e){qg(gN.concat(e.__wrappedMethods||[]),function(k){if(e.hasOwnProperty(k)){i[k]=e[k]}});i.__wrappedMethods=e.__wrappedMethods;qg(qq,function(k){i[k]=E5(e[k])});i._calculationInfo=cc(e._calculationInfo)}var y6=function(v,v2){v=v||["x","y"];var v1={};var on=[];var m={};for(var k=0;k<v.length;k++){var Z=v[k];if(xN(Z)){Z=new IP({name:Z})}else{if(!(Z instanceof IP)){Z=new IP(Z)}}var e=Z.name;Z.type=Z.type||"float";if(!Z.coordDim){Z.coordDim=e;Z.coordDimIndex=0}Z.otherDims=Z.otherDims||{};on.push(e);v1[e]=Z;Z.index=k;if(Z.createInvertedIndices){m[e]=[]}}this.dimensions=on;this._dimensionInfos=v1;this.hostModel=v2;this.dataType;this._indices=null;this._count=0;this._rawCount=0;this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this._visual={};this._layout={};this._itemVisuals=[];this.hasItemVisual={};this._itemLayouts=[];this._graphicEls=[];this._chunkSize=100000;this._chunkCount=0;this._rawData;this._rawExtent={};this._extent={};this._approximateExtent={};this._dimensionsSummary=Kf(this);this._invertedIndicesMap=m;this._calculationInfo={};this.userOutput=this._dimensionsSummary.userOutput};var vP=y6.prototype;vP.type="list";vP.hasItemOption=true;vP.getDimension=function(e){if(typeof e==="number"||(!isNaN(e)&&!this._dimensionInfos.hasOwnProperty(e))){e=this.dimensions[e]}return e};vP.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]};vP.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()};vP.mapDimension=function(i,e){var k=this._dimensionsSummary;if(e==null){return k.encodeFirstDimNotExtra[i]}var m=k.encode[i];return e===true?(m||[]).slice():(m&&m[e])};vP.initData=function(k,m,e){var i=rA.isInstance(k)||ue(k);if(i){k=new gl(k,this.dimensions.length)}if(pm){if(!i&&(typeof k.getItem!=="function"||typeof k.count!=="function")){throw new Error("Inavlid data provider.")}}this._rawData=k;this._storage={};this._indices=null;this._nameList=m||[];this._idList=[];this._nameRepeatCount={};if(!e){this.hasItemOption=false}this.defaultDimValueGetter=lt[this._rawData.getSource().sourceFormat];this._dimValueGetter=e=e||this.defaultDimValueGetter;this._dimValueGetterArrayRows=lt.arrayRows;this._rawExtent={};this._initDataFromProvider(0,k.count());if(k.pure){this.hasItemOption=false}};vP.getProvider=function(){return this._rawData};vP.appendData=function(i){if(pm){bY(!this._indices,"appendData can only be called on raw data.")}var m=this._rawData;var k=this.count();m.appendData(i);var e=m.count();if(!m.persistent){e+=k}this._initDataFromProvider(k,e)};vP.appendValues=function(v,KB){var KA=this._chunkSize;var KI=this._storage;var v3=this.dimensions;var Kz=v3.length;var m=this._rawExtent;var v2=this.count();var v1=v2+Math.max(v.length,KB?KB.length:0);var KJ=this._chunkCount;for(var KH=0;KH<Kz;KH++){var KG=v3[KH];if(!m[KG]){m[KG]=eD()}if(!KI[KG]){KI[KG]=[]}jw(KI,this._dimensionInfos[KG],KA,KJ,v1);this._chunkCount=KI[KG].length}var KE=new Array(Kz);for(var KC=v2;KC<v1;KC++){var Z=KC-v2;var e=Math.floor(KC/KA);var on=KC%KA;for(var KF=0;KF<Kz;KF++){var KG=v3[KF];var KK=this._dimValueGetterArrayRows(v[Z]||KE,KG,Z,KF);KI[KG][e][on]=KK;var KD=m[KG];KK<KD[0]&&(KD[0]=KK);KK>KD[1]&&(KD[1]=KK)}if(KB){this._nameList[KC]=KB[Z]}}this._rawCount=this._count=v1;this._extent={};I4(this)};vP._initDataFromProvider=function(v2,v1){if(v2>=v1){return}var KC=this._chunkSize;var KJ=this._rawData;var KO=this._storage;var KA=this.dimensions;var KB=KA.length;var KR=this._dimensionInfos;var KQ=this._nameList;var KK=this._idList;var v=this._rawExtent;var KS=this._nameRepeatCount={};var KI;var KP=this._chunkCount;for(var KN=0;KN<KB;KN++){var KM=KA[KN];if(!v[KM]){v[KM]=eD()}var v3=KR[KM];if(v3.otherDims.itemName===0){KI=this._nameDimIdx=KN}if(v3.otherDims.itemId===0){this._idDimIdx=KN}if(!KO[KM]){KO[KM]=[]}jw(KO,v3,KC,KP,v1);this._chunkCount=KO[KM].length}var KD=new Array(KB);for(var KE=v2;KE<v1;KE++){KD=KJ.getItem(KE,KD);var e=Math.floor(KE/KC);var on=KE%KC;for(var KL=0;KL<KB;KL++){var KM=KA[KL];var Kz=KO[KM][e];var KU=this._dimValueGetter(KD,KM,KE,KL);Kz[on]=KU;var KH=v[KM];KU<KH[0]&&(KH[0]=KU);KU>KH[1]&&(KH[1]=KU)}if(!KJ.pure){var KT=KQ[KE];if(KD&&KT==null){if(KD.name!=null){KQ[KE]=KT=KD.name}else{if(KI!=null){var KF=KA[KI];var m=KO[KF][e];if(m){KT=m[on];var Z=KR[KF].ordinalMeta;if(Z&&Z.categories.length){KT=Z.categories[KT]}}}}}var KG=KD==null?null:KD.id;if(KG==null&&KT!=null){KS[KT]=KS[KT]||0;KG=KT;if(KS[KT]>0){KG+="__ec__"+KS[KT]}KS[KT]++}KG!=null&&(KK[KE]=KG)}}if(!KJ.persistent&&KJ.clean){KJ.clean()}this._rawCount=this._count=v1;this._extent={};I4(this)};function jw(v3,v2,m,Kz,Z){var KB=yS[v2.type];var KA=Kz-1;var v1=v2.name;var i=v3[v1][KA];if(i&&i.length<m){var e=new KB(Math.min(Z-KA*m,m));for(var on=0;on<i.length;on++){e[on]=i[on]}v3[v1][KA]=e}for(var v=Kz*m;v<Z;v+=m){v3[v1].push(new KB(Math.min(Z-v,m)))}}function I4(i){var e=i._invertedIndicesMap;qg(e,function(k,on){var v=i._dimensionInfos[on];var m=v.ordinalMeta;if(m){k=e[on]=new mr(m.categories.length);for(var Z=0;Z<k.length;Z++){k[Z]=ga}for(var Z=0;Z<i._count;Z++){k[i.get(on,Z)]=Z}}})}function oV(v1,v3,e){var i;if(v3!=null){var m=v1._chunkSize;var on=Math.floor(e/m);var k=e%m;var v=v1.dimensions[v3];var v2=v1._storage[v][on];if(v2){i=v2[k];var Z=v1._dimensionInfos[v].ordinalMeta;if(Z&&Z.categories.length){i=Z.categories[i]}}}return i}vP.count=function(){return this._count};vP.getIndices=function(){var v;var Z=this._indices;if(Z){var k=Z.constructor;var e=this._count;if(k===Array){v=new k(e);for(var m=0;m<e;m++){v[m]=Z[m]}}else{v=new k(Z.buffer,0,e)}}else{var k=C0(this);var v=new k(this.count());for(var m=0;m<v.length;m++){v[m]=m}}return v};vP.get=function(Z,e){if(!(e>=0&&e<this._count)){return NaN}var on=this._storage;if(!on[Z]){return NaN}e=this.getRawIndex(e);var k=Math.floor(e/this._chunkSize);var v=e%this._chunkSize;var i=on[Z][k];var m=i[v];return m};vP.getByRawIndex=function(v,Z){if(!(Z>=0&&Z<this._rawCount)){return NaN}var k=this._storage[v];if(!k){return NaN}var i=Math.floor(Z/this._chunkSize);var m=Z%this._chunkSize;var e=k[i];return e[m]};vP._getFast=function(m,v){var i=Math.floor(v/this._chunkSize);var k=v%this._chunkSize;var e=this._storage[m][i];return e[k]};vP.getValues=function(Z,k){var m=[];if(!IQ(Z)){k=Z;Z=this.dimensions}for(var v=0,e=Z.length;v<e;v++){m.push(this.get(Z[v],k))}return m};vP.hasValue=function(m){var k=this._dimensionsSummary.dataDimsOnCoord;for(var v=0,e=k.length;v<e;v++){if(isNaN(this.get(k[v],m))){return false}}return true};vP.getDataExtent=function(Z){Z=this.getDimension(Z);var v1=this._storage[Z];var on=eD();if(!v1){return on}var e=this.count();var v=!this._indices;var v2;if(v){return this._rawExtent[Z].slice()}v2=this._extent[Z];if(v2){return v2.slice()}v2=on;var k=v2[0];var v3=v2[1];for(var m=0;m<e;m++){var Kz=this._getFast(Z,this.getRawIndex(m));Kz<k&&(k=Kz);Kz>v3&&(v3=Kz)}v2=[k,v3];this._extent[Z]=v2;return v2};vP.getApproximateExtent=function(e){e=this.getDimension(e);return this._approximateExtent[e]||this.getDataExtent(e)};vP.setApproximateExtent=function(e,i){i=this.getDimension(i);this._approximateExtent[i]=e.slice()};vP.getCalculationInfo=function(e){return this._calculationInfo[e]};vP.setCalculationInfo=function(e,i){u3(e)?cc(this._calculationInfo,e):(this._calculationInfo[e]=i)};vP.getSum=function(on){var k=this._storage[on];var v=0;if(k){for(var m=0,e=this.count();m<e;m++){var Z=this.get(on,m);if(!isNaN(Z)){v+=Z}}}return v};vP.getMedian=function(m){var i=[];this.each(m,function(Z,v){if(!isNaN(Z)){i.push(Z)}});var k=[].concat(i).sort(function(Z,v){return Z-v});var e=this.count();return e===0?0:e%2===1?k[(e-1)/2]:(k[e/2]+k[e/2-1])/2};vP.rawIndexOf=function(m,k){var e=m&&this._invertedIndicesMap[m];if(pm){if(!e){throw new Error("Do not supported yet")}}var i=e[k];if(i==null||isNaN(i)){return ga}return i};vP.indexOfName=function(k){for(var m=0,e=this.count();m<e;m++){if(this.getName(m)===k){return m}}return -1};vP.indexOfRawIndex=function(k){if(k>=this._rawCount||k<0){return -1}if(!this._indices){return k}var Z=this._indices;var i=Z[k];if(i!=null&&i<this._count&&i===k){return k}var v=0;var m=this._count-1;while(v<=m){var e=(v+m)/2|0;if(Z[e]<k){v=e+1}else{if(Z[e]>k){m=e-1}else{return e}}}return -1};vP.indicesOfNearest=function(Z,KA,k){var v1=this._storage;var v3=v1[Z];var m=[];if(!v3){return m}if(k==null){k=Infinity}var KB=Infinity;var KC=-1;var e=0;for(var v=0,on=this.count();v<on;v++){var Kz=KA-this.get(Z,v);var v2=Math.abs(Kz);if(v2<=k){if(v2<KB||(v2===KB&&Kz>=0&&KC<0)){KB=v2;KC=Kz;e=0}if(Kz===KC){m[e++]=v}}}m.length=e;return m};vP.getRawIndex=z7;function z7(e){return e}function rr(e){if(e<this._count&&e>=0){return this._indices[e]}return -1}vP.getRawDataItem=function(e){if(!this._rawData.persistent){var v=[];for(var k=0;k<this.dimensions.length;k++){var m=this.dimensions[k];v.push(this.get(m,e))}return v}else{return this._rawData.getItem(this.getRawIndex(e))}};vP.getName=function(e){var i=this.getRawIndex(e);return this._nameList[i]||oV(this,this._nameDimIdx,i)||""};vP.getId=function(e){return ye(this,this.getRawIndex(e))};function ye(i,e){var k=i._idList[e];if(k==null){k=oV(i,i._idDimIdx,e)}if(k==null){k=bw+e}return k}function wX(e){if(!IQ(e)){e=[e]}return e}function qs(k,m){for(var e=0;e<m.length;e++){if(!k._dimensionInfos[m[e]]){console.error("Unkown dimension "+m[e])}}}vP.each=function(v3,e,Z,on){if(!this._count){return}if(typeof v3==="function"){on=Z;Z=e;e=v3;v3=[]}Z=Z||on||this;v3=Gj(wX(v3),this.getDimension,this);if(pm){qs(this,v3)}var v2=v3.length;for(var v=0;v<this.count();v++){switch(v2){case 0:e.call(Z,v);break;case 1:e.call(Z,this.get(v3[0],v),v);break;case 2:e.call(Z,this.get(v3[0],v),this.get(v3[1],v),v);break;default:var m=0;var v1=[];for(;m<v2;m++){v1[m]=this.get(v3[m],v)}v1[m]=v;e.apply(Z,v1)}}};vP.filterSelf=function(m,v3,v,KG){if(!this._count){return}if(typeof m==="function"){KG=v;v=v3;v3=m;m=[]}v=v||KG||this;m=Gj(wX(m),this.getDimension,this);if(pm){qs(this,m)}var KD=this.count();var Z=C0(this);var v2=new Z(KD);var KF=[];var v1=m.length;var KB=0;var KE=m[0];for(var KC=0;KC<KD;KC++){var e;var KA=this.getRawIndex(KC);if(v1===0){e=v3.call(v,KC)}else{if(v1===1){var on=this._getFast(KE,KA);e=v3.call(v,on,KC)}else{for(var Kz=0;Kz<v1;Kz++){KF[Kz]=this._getFast(KE,KA)}KF[Kz]=KC;e=v3.apply(v,KF)}}if(e){v2[KB++]=KA}}if(KB<KD){this._indices=v2}this._count=KB;this._extent={};this.getRawIndex=this._indices?rr:z7;return this};vP.selectRange=function(v3){if(!this._count){return}var Z=[];for(var KH in v3){if(v3.hasOwnProperty(KH)){Z.push(KH)}}if(pm){qs(this,Z)}var KR=Z.length;if(!KR){return}var KA=this.count();var v2=C0(this);var KN=new v2(KA);var m=0;var e=Z[0];var KF=v3[e][0];var KJ=v3[e][1];var KB=false;if(!this._indices){var Kz=0;if(KR===1){var v=this._storage[Z[0]];for(var KG=0;KG<this._chunkCount;KG++){var KD=v[KG];var KK=Math.min(this._count-KG*this._chunkSize,this._chunkSize);for(var KI=0;KI<KK;KI++){var KQ=KD[KI];if((KQ>=KF&&KQ<=KJ)||isNaN(KQ)){KN[m++]=Kz}Kz++}}KB=true}else{if(KR===2){var v=this._storage[e];var on=this._storage[Z[1]];var KE=v3[Z[1]][0];var KC=v3[Z[1]][1];for(var KG=0;KG<this._chunkCount;KG++){var KD=v[KG];var KP=on[KG];var KK=Math.min(this._count-KG*this._chunkSize,this._chunkSize);for(var KI=0;KI<KK;KI++){var KQ=KD[KI];var KO=KP[KI];if(((KQ>=KF&&KQ<=KJ)||isNaN(KQ))&&((KO>=KE&&KO<=KC)||isNaN(KO))){KN[m++]=Kz}Kz++}}KB=true}}}if(!KB){if(KR===1){for(var KI=0;KI<KA;KI++){var v1=this.getRawIndex(KI);var KQ=this._getFast(e,v1);if((KQ>=KF&&KQ<=KJ)||isNaN(KQ)){KN[m++]=v1}}}else{for(var KI=0;KI<KA;KI++){var KM=true;var v1=this.getRawIndex(KI);for(var KG=0;KG<KR;KG++){var KL=Z[KG];var KQ=this._getFast(KH,v1);if(KQ<v3[KL][0]||KQ>v3[KL][1]){KM=false}}if(KM){KN[m++]=this.getRawIndex(KI)}}}}if(m<KA){this._indices=KN}this._count=m;this._extent={};this.getRawIndex=this._indices?rr:z7;return this};vP.mapArray=function(v,i,k,m){if(typeof v==="function"){m=k;k=i;i=v;v=[]}k=k||m||this;var e=[];this.each(v,function(){e.push(i&&i.apply(this,arguments))},k);return e};function EV(m,Z){var v=m.dimensions;var on=new y6(Gj(v,m.getDimensionInfo,m),m.hostModel);ei(on,m);var v2=on._storage={};var k=m._storage;for(var e=0;e<v.length;e++){var v1=v[e];if(k[v1]){if(fc(Z,v1)>=0){v2[v1]=px(k[v1]);on._rawExtent[v1]=eD();on._extent[v1]=null}else{v2[v1]=k[v1]}}}return on}function px(i){var e=new Array(i.length);for(var k=0;k<i.length;k++){e[k]=t8(i[k])}return e}function eD(){return[Infinity,-Infinity]}vP.map=function(on,KD,v,v3){v=v||v3||this;on=Gj(wX(on),this.getDimension,this);if(pm){qs(this,on)}var KH=EV(this,on);KH._indices=this._indices;KH.getRawIndex=KH._indices?rr:z7;var KI=KH._storage;var KG=[];var v1=this._chunkSize;var KM=on.length;var KJ=this.count();var m=[];var k=KH._rawExtent;for(var KK=0;KK<KJ;KK++){for(var KB=0;KB<KM;KB++){m[KB]=this.get(on[KB],KK)}m[KM]=KK;var KC=KD&&KD.apply(v,m);if(KC!=null){if(typeof KC!=="object"){KG[0]=KC;KC=KG}var v2=this.getRawIndex(KK);var e=Math.floor(v2/v1);var Z=v2%v1;for(var KF=0;KF<KC.length;KF++){var KE=on[KF];var KL=KC[KF];var KA=k[KE];var Kz=KI[KE];if(Kz){Kz[e][Z]=KL}if(KL<KA[0]){KA[0]=KL}if(KL>KA[1]){KA[1]=KL}}}}return KH};vP.downSample=function(KJ,KM,KI,on){var KH=EV(this,[KJ]);var e=KH._storage;var KL=[];var KA=Math.floor(1/KM);var v2=e[KJ];var KD=this.count();var v=this._chunkSize;var v3=KH._rawExtent[KJ];var KF=new (C0(this))(KD);var m=0;for(var KC=0;KC<KD;KC+=KA){if(KA>KD-KC){KA=KD-KC;KL.length=KA}for(var KB=0;KB<KA;KB++){var KE=this.getRawIndex(KC+KB);var KG=Math.floor(KE/v);var KK=KE%v;KL[KB]=v2[KG][KK]}var Kz=KI(KL);var KN=this.getRawIndex(Math.min(KC+on(KL,Kz)||0,KD-1));var Z=Math.floor(KN/v);var v1=KN%v;v2[Z][v1]=Kz;if(Kz<v3[0]){v3[0]=Kz}if(Kz>v3[1]){v3[1]=Kz}KF[m++]=KN}KH._count=m;KH._indices=KF;KH.getRawIndex=rr;return KH};vP.getItemModel=function(e){var i=this.hostModel;return new fV(this.getRawDataItem(e),i,i&&i.ecModel)};vP.diff=function(i){var e=this;return new IF(i?i.getIndices():[],this.getIndices(),function(k){return ye(i,k)},function(k){return ye(e,k)})};vP.getVisual=function(e){var i=this._visual;return i&&i[e]};vP.setVisual=function(i,k){if(u3(i)){for(var e in i){if(i.hasOwnProperty(e)){this.setVisual(e,i[e])}}return}this._visual=this._visual||{};this._visual[i]=k};vP.setLayout=function(i,k){if(u3(i)){for(var e in i){if(i.hasOwnProperty(e)){this.setLayout(e,i[e])}}return}this._layout[i]=k};vP.getLayout=function(e){return this._layout[e]};vP.getItemLayout=function(e){return this._itemLayouts[e]};vP.setItemLayout=function(e,k,i){this._itemLayouts[e]=i?cc(this._itemLayouts[e]||{},k):k};vP.clearItemLayouts=function(){this._itemLayouts.length=0};vP.getItemVisual=function(e,k,i){var m=this._itemVisuals[e];var v=m&&m[k];if(v==null&&!i){return this.getVisual(k)}return v};vP.setItemVisual=function(e,k,v){var m=this._itemVisuals[e]||{};var Z=this.hasItemVisual;this._itemVisuals[e]=m;if(u3(k)){for(var i in k){if(k.hasOwnProperty(i)){m[i]=k[i];Z[i]=true}}return}m[k]=v;Z[k]=true};vP.clearAllVisual=function(){this._visual={};this._itemVisuals=[];this.hasItemVisual={}};var CQ=function(e){e.seriesIndex=this.seriesIndex;e.dataIndex=this.dataIndex;e.dataType=this.dataType};vP.setItemGraphicEl=function(e,i){var k=this.hostModel;if(i){i.dataIndex=e;i.dataType=this.dataType;i.seriesIndex=k&&k.seriesIndex;if(i.type==="group"){i.traverse(CQ,i)}}this._graphicEls[e]=i};vP.getItemGraphicEl=function(e){return this._graphicEls[e]};vP.eachItemGraphicEl=function(e,i){qg(this._graphicEls,function(m,k){if(m){e&&e.call(i,m,k)}})};vP.cloneShallow=function(k){if(!k){var i=Gj(this.dimensions,this.getDimensionInfo,this);k=new y6(i,this.hostModel)}k._storage=this._storage;ei(k,this);if(this._indices){var e=this._indices.constructor;k._indices=new e(this._indices)}else{k._indices=null}k.getRawIndex=k._indices?rr:z7;return k};vP.wrapMethod=function(e,i){var k=this[e];if(typeof k!=="function"){return}this.__wrappedMethods=this.__wrappedMethods||[];this.__wrappedMethods.push(e);this[e]=function(){var m=k.apply(this,arguments);return i.apply(this,[m].concat(iL(arguments)))}};vP.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];vP.CHANGABLE_METHODS=["filterSelf","selectRange"];function JQ(v1,KH,k){if(!rA.isInstance(KH)){KH=rA.seriesDataToSource(KH)}k=k||{};v1=(v1||[]).slice();var v=(k.dimsDef||[]).slice();var KD=EI();var KE=EI();var KB=[];var KC=Fq(KH,v1,v,k.dimCount);for(var KK=0;KK<KC;KK++){var Kz=v[KK]=cc({},u7(v[KK])?v[KK]:{name:v[KK]});var KA=Kz.name;var e=KB[KK]=new IP();if(KA!=null&&KD.get(KA)==null){e.name=e.displayName=KA;KD.set(KA,KK)}Kz.type!=null&&(e.type=Kz.type);Kz.displayName!=null&&(e.displayName=Kz.displayName)}var v2=k.encodeDef;if(!v2&&k.encodeDefaulter){v2=k.encodeDefaulter(KH,KC)}v2=EI(v2);v2.each(function(KM,KL){KM=nk(KM).slice();if(KM.length===1&&!xN(KM[0])&&KM[0]<0){v2.set(KL,false);return}var i=v2.set(KL,[]);qg(KM,function(KO,KN){xN(KO)&&(KO=KD.get(KO));if(KO!=null&&KO<KC){i[KN]=KO;KG(KB[KO],KL,KN)}})});var KF=0;qg(v1,function(KS,KO){var KQ;var KS;var KN;var KL;if(xN(KS)){KQ=KS;KS={}}else{KQ=KS.name;var KM=KS.ordinalMeta;KS.ordinalMeta=null;KS=E5(KS);KS.ordinalMeta=KM;KN=KS.dimsDef;KL=KS.otherDims;KS.name=KS.coordDim=KS.coordDimIndex=KS.dimsDef=KS.otherDims=null}var KR=v2.get(KQ);if(KR===false){return}var KR=nk(KR);if(!KR.length){for(var KP=0;KP<(KN&&KN.length||1);KP++){while(KF<KB.length&&KB[KF].coordDim!=null){KF++}KF<KB.length&&KR.push(KF++)}}qg(KR,function(KV,KU){var i=KB[KV];KG(Fg(i,KS),KQ,KU);if(i.name==null&&KN){var KT=KN[KU];!u7(KT)&&(KT={name:KT});i.name=i.displayName=KT.name;i.defaultTooltip=KT.defaultTooltip}KL&&Fg(i.otherDims,KL)})});function KG(i,KL,KM){if(xO.get(KL)!=null){i.otherDims[KL]=KM}else{i.coordDim=KL;i.coordDimIndex=KM;KE.set(KL,true)}}var KJ=k.generateCoord;var on=k.generateCoordCount;var Z=on!=null;on=KJ?(on||1):0;var m=KJ||"value";for(var v3=0;v3<KC;v3++){var e=KB[v3]=KB[v3]||new IP();var KI=e.coordDim;if(KI==null){e.coordDim=pI(m,KE,Z);e.coordDimIndex=0;if(!KJ||on<=0){e.isExtraCoord=true}on--}e.name==null&&(e.name=pI(e.coordDim,KD));if(e.type==null&&(w7(KH,v3,e.name)===o.Must||(e.isExtraCoord&&(e.otherDims.itemName!=null||e.otherDims.seriesName!=null)))){e.type="ordinal"}}return KB}function Fq(m,i,k,v){var e=Math.max(m.dimensionsDetectCount||1,i.length,k.length,v||0);qg(i,function(on){var Z=on.dimsDef;Z&&(e=Math.max(e,Z.length))});return e}function pI(e,m,v){if(v||m.get(e)!=null){var k=0;while(m.get(e+k)!=null){k++}e+=k}m.set(e,true);return e}var Ad=function(i,e){e=e||{};return JQ(e.coordDimensions||[],i,{dimsDef:e.dimensionsDefine||i.dimensionsDefine,encodeDef:e.encodeDefine||i.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})};function qm(e){this.coordSysName=e;this.coordSysDims=[];this.axisMap=EI();this.categoryAxisMap=EI();this.firstCategoryDimIndex=null}function fj(i){var m=i.get("coordinateSystem");var e=new qm(m);var k=Em[m];if(k){k(i,e,e.axisMap,e.categoryAxisMap);return e}}var Em={cartesian2d:function(i,e,v,Z){var k=i.getReferringComponents("xAxis")[0];var m=i.getReferringComponents("yAxis")[0];if(pm){if(!k){throw new Error('xAxis "'+g1(i.get("xAxisIndex"),i.get("xAxisId"),0)+'" not found')}if(!m){throw new Error('yAxis "'+g1(i.get("xAxisIndex"),i.get("yAxisId"),0)+'" not found')}}e.coordSysDims=["x","y"];v.set("x",k);v.set("y",m);if(b7(k)){Z.set("x",k);e.firstCategoryDimIndex=0}if(b7(m)){Z.set("y",m);e.firstCategoryDimIndex==null&(e.firstCategoryDimIndex=1)}},singleAxis:function(i,e,m,v){var k=i.getReferringComponents("singleAxis")[0];if(pm){if(!k){throw new Error("singleAxis should be specified.")}}e.coordSysDims=["single"];m.set("single",k);if(b7(k)){v.set("single",k);e.firstCategoryDimIndex=0}},polar:function(i,e,Z,on){var m=i.getReferringComponents("polar")[0];var v=m.findAxisModel("radiusAxis");var k=m.findAxisModel("angleAxis");if(pm){if(!k){throw new Error("angleAxis option not found")}if(!v){throw new Error("radiusAxis option not found")}}e.coordSysDims=["radius","angle"];Z.set("radius",v);Z.set("angle",k);if(b7(v)){on.set("radius",v);e.firstCategoryDimIndex=0}if(b7(k)){on.set("angle",k);e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1)}},geo:function(i,e,k,m){e.coordSysDims=["lng","lat"]},parallel:function(k,i,Z,on){var e=k.ecModel;var v=e.getComponent("parallel",k.get("parallelIndex"));var m=i.coordSysDims=v.dimensions.slice();qg(v.parallelAxisIndex,function(v3,v1){var v2=e.getComponent("parallelAxis",v3);var Kz=m[v1];Z.set(Kz,v2);if(b7(v2)&&i.firstCategoryDimIndex==null){on.set(Kz,v2);i.firstCategoryDimIndex=v1}})}};function b7(e){return e.get("type")==="category"}function kL(m,on,i){i=i||{};var v3=i.byIndex;var k=i.stackedCoordDimension;var Kz=!!(m&&m.get("stack"));var v;var KB;var KA;var e;qg(on,function(KD,KC){if(xN(KD)){on[KC]=KD={name:KD}}if(Kz&&!KD.isExtraCoord){if(!v3&&!v&&KD.ordinalMeta){v=KD}if(!KB&&KD.type!=="ordinal"&&KD.type!=="time"&&(!k||k===KD.coordDim)){KB=KD}}});if(KB&&!v3&&!v){v3=true}if(KB){KA="__\0ecstackresult";e="__\0ecstackedover";if(v){v.createInvertedIndices=true}var v1=KB.coordDim;var Z=KB.type;var v2=0;qg(on,function(KC){if(KC.coordDim===v1){v2++}});on.push({name:KA,coordDim:v1,coordDimIndex:v2,type:Z,isExtraCoord:true,isCalculationCoord:true});v2++;on.push({name:e,coordDim:e,coordDimIndex:v2,type:Z,isExtraCoord:true,isCalculationCoord:true})}return{stackedDimension:KB&&KB.name,stackedByDimension:v&&v.name,isStackedByIndex:v3,stackedOverDimension:e,stackResultDimension:KA}}function mM(i,e){return !!e&&e===i.getCalculationInfo("stackedDimension")}function kk(i,e){return mM(i,e)?i.getCalculationInfo("stackResultDimension"):e}function b(e,m,i){i=i||{};if(!rA.isInstance(e)){e=rA.seriesDataToSource(e)}var k=m.get("coordinateSystem");var KB=fZ.get(k);var on=fj(m);var v;if(on){v=Gj(on.coordSysDims,function(KF){var KD={name:KF};var KE=on.axisMap.get(KF);if(KE){var KC=KE.get("type");KD.type=rV(KC)}return KD})}if(!v){v=(KB&&(KB.getDimensionsInfo?KB.getDimensionsInfo():KB.dimensions.slice()))||["x","y"]}var Z=Ad(e,{coordDimensions:v,generateCoord:i.generateCoord,encodeDefaulter:i.useEncodeDefaulter?tT(ok,v,m):null});var v3;var v2;on&&qg(Z,function(KC,KF){var KE=KC.coordDim;var KD=on.categoryAxisMap.get(KE);if(KD){if(v3==null){v3=KF}KC.ordinalMeta=KD.getOrdinalMeta()}if(KC.otherDims.itemName!=null){v2=true}});if(!v2&&v3!=null){Z[v3].otherDims.itemName=0}var KA=kL(m,Z);var v1=new y6(Z,m);v1.setCalculationInfo(KA);var Kz=(v3!=null&&Il(e))?function(KF,KE,KC,KD){return KD===v3?KC:this.defaultDimValueGetter(KF,KE,KC,KD)}:null;v1.hasItemOption=false;v1.initData(e,null,Kz);return v1}function Il(i){if(i.sourceFormat===f4){var e=vo(i.data||[]);return e!=null&&!IQ(zB(e))}}function vo(k){var e=0;while(e<k.length&&k[e]==null){e++}return k[e]}function dQ(e){this._setting=e||{};this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}dQ.prototype.parse=function(e){return e};dQ.prototype.getSetting=function(e){return this._setting[e]};dQ.prototype.contain=function(i){var e=this._extent;return i>=e[0]&&i<=e[1]};dQ.prototype.normalize=function(i){var e=this._extent;if(e[1]===e[0]){return 0.5}return(i-e[0])/(e[1]-e[0])};dQ.prototype.scale=function(i){var e=this._extent;return i*(e[1]-e[0])+e[0]};dQ.prototype.unionExtent=function(e){var i=this._extent;e[0]<i[0]&&(i[0]=e[0]);e[1]>i[1]&&(i[1]=e[1])};dQ.prototype.unionExtentFromData=function(e,i){this.unionExtent(e.getApproximateExtent(i))};dQ.prototype.getExtent=function(){return this._extent.slice()};dQ.prototype.setExtent=function(k,e){var i=this._extent;if(!isNaN(k)){i[0]=k}if(!isNaN(e)){i[1]=e}};dQ.prototype.isBlank=function(){return this._isBlank},dQ.prototype.setBlank=function(e){this._isBlank=e};dQ.prototype.getLabel=null;Cz(dQ);z0(dQ,{registerWhenExtend:true});function mH(e){this.categories=e.categories||[];this._needCollect=e.needCollect;this._deduplication=e.deduplication;this._map}mH.createByAxisModel=function(i){var k=i.option;var m=k.data;var e=m&&Gj(m,c5);return new mH({categories:e,needCollect:!e,deduplication:k.dedplication!==false})};var cu=mH.prototype;cu.getOrdinal=function(e){return rE(this).get(e)};cu.parseAndCollect=function(m){var e;var k=this._needCollect;if(typeof m!=="string"&&!k){return m}if(k&&!this._deduplication){e=this.categories.length;this.categories[e]=m;return e}var i=rE(this);e=i.get(m);if(e==null){if(k){e=this.categories.length;this.categories[e]=m;i.set(m,e)}else{e=NaN}}return e};function rE(e){return e._map||(e._map=EI(e.categories))}function c5(e){if(u7(e)&&e.value!=null){return e.value}else{return e+""}}var wd=dQ.prototype;var He=dQ.extend({type:"ordinal",init:function(e,i){if(!e||IQ(e)){e=new mH({categories:e})}this._ordinalMeta=e;this._extent=i||[0,e.categories.length-1]},parse:function(e){return typeof e==="string"?this._ordinalMeta.getOrdinal(e):Math.round(e)},contain:function(e){e=this.parse(e);return wd.contain.call(this,e)&&this._ordinalMeta.categories[e]!=null},normalize:function(e){return wd.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(wd.scale.call(this,e))},getTicks:function(){var i=[];var e=this._extent;var k=e[0];while(k<=e[1]){i.push(k);k++}return i},getLabel:function(e){if(!this.isBlank()){return this._ordinalMeta.categories[e]}},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,i){this.unionExtent(e.getApproximateExtent(i))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:Y,niceExtent:Y});He.create=function(){return new He()};var vR=HR;function Fk(on,e,v1,k){var v2={};var Z=on[1]-on[0];var i=v2.interval=ad(Z/e,true);if(v1!=null&&i<v1){i=v2.interval=v1}if(k!=null&&i>k){i=v2.interval=k}var v=v2.intervalPrecision=eF(i);var m=v2.niceTickExtent=[vR(Math.ceil(on[0]/i)*i,v),vR(Math.floor(on[1]/i)*i,v)];GA(m,on);return v2}function eF(e){return vt(e)+2}function hA(i,e,k){i[e]=Math.max(Math.min(i[e],k[1]),k[0])}function GA(e,i){!isFinite(e[0])&&(e[0]=i[0]);!isFinite(e[1])&&(e[1]=i[1]);hA(e,0,i);hA(e,1,i);if(e[0]>e[1]){e[0]=e[1]}}var If=HR;var Ex=dQ.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(k,e){var i=this._extent;if(!isNaN(k)){i[0]=parseFloat(k)}if(!isNaN(e)){i[1]=parseFloat(e)}},unionExtent:function(e){var i=this._extent;e[0]<i[0]&&(i[0]=e[0]);e[1]>i[1]&&(i[1]=e[1]);Ex.prototype.setExtent.call(this,i[0],i[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e;this._niceExtent=this._extent.slice();this._intervalPrecision=eF(e)},getTicks:function(i){var k=this._interval;var v1=this._extent;var m=this._niceExtent;var v2=this._intervalPrecision;var on=[];if(!k){return on}var Z=10000;if(v1[0]<m[0]){if(i){on.push(If(m[0]-k,v2))}else{on.push(v1[0])}}var v=m[0];while(v<=m[1]){on.push(v);v=If(v+k,v2);if(v===on[on.length-1]){break}if(on.length>Z){return[]}}var e=on.length?on[on.length-1]:m[1];if(v1[1]>e){if(i){on.push(If(e+k,v2))}else{on.push(v1[1])}}return on},getMinorTicks:function(e){var v3=this.getTicks(true);var Z=[];var KA=this.getExtent();for(var on=1;on<v3.length;on++){var v1=v3[on];var v=v3[on-1];var v2=0;var KB=[];var m=v1-v;var k=m/e;while(v2<e-1){var Kz=HR(v+(v2+1)*k);if(Kz>KA[0]&&Kz<KA[1]){KB.push(Kz)}v2++}Z.push(KB)}return Z},getLabel:function(k,i){if(k==null){return""}var e=i&&i.precision;if(e==null){e=vt(k)||0}else{if(e==="auto"){e=this._intervalPrecision}}k=If(k,e,true);return kU(k)},niceTicks:function(Z,k,i){Z=Z||5;var v=this._extent;var m=v[1]-v[0];if(!isFinite(m)){return}if(m<0){m=-m;v.reverse()}var e=Fk(v,Z,k,i);this._intervalPrecision=e.intervalPrecision;this._interval=e.interval;this._niceExtent=e.niceTickExtent},niceExtent:function(k){var v=this._extent;if(v[0]===v[1]){if(v[0]!==0){var e=v[0];if(!k.fixMax){v[1]+=e/2;v[0]-=e/2}else{v[0]-=e/2}}else{v[1]=1}}var m=v[1]-v[0];if(!isFinite(m)){v[0]=0;v[1]=1}this.niceTicks(k.splitNumber,k.minInterval,k.maxInterval);var i=this._interval;if(!k.fixMin){v[0]=If(Math.floor(v[0]/i)*i)}if(!k.fixMax){v[1]=If(Math.ceil(v[1]/i)*i)}}});Ex.create=function(){return new Ex()};var ir="__ec_stack_";var EJ=0.5;var mD=typeof Float32Array!=="undefined"?Float32Array:Array;function a7(e){return e.get("stack")||ir+e.seriesIndex}function ln(e){return e.dim+e.index}function pj(k){var Z=[];var v=k.axis;var m="axis0";if(v.type!=="category"){return}var on=v.getBandWidth();for(var v1=0;v1<k.count||0;v1++){Z.push(Fg({bandWidth:on,axisKey:m,stackId:ir+v1},k))}var e=o9(Z);var v3=[];for(var v1=0;v1<k.count;v1++){var v2=e[m][ir+v1];v2.offsetCenter=v2.offset+v2.width/2;v3.push(v2)}return v3}function pb(i,e){var k=[];e.eachSeriesByType(i,function(m){if(sb(m)&&!ms(m)){k.push(m)}});return k}function wq(i){var on={};qg(i,function(Kz){var KD=Kz.coordinateSystem;var v2=KD.getBaseAxis();if(v2.type!=="time"&&v2.type!=="value"){return}var KA=Kz.getData();var KF=v2.dim+"_"+v2.index;var KC=KA.mapDimension(v2.dim);for(var KB=0,v3=KA.count();KB<v3;++KB){var KE=KA.get(KC,KB);if(!on[KF]){on[KF]=[KE]}else{on[KF].push(KE)}}});var Z=[];for(var v in on){if(on.hasOwnProperty(v)){var e=on[v];if(e){e.sort(function(v3,v2){return v3-v2});var m=null;for(var k=1;k<e.length;++k){var v1=e[k]-e[k-1];if(v1>0){m=m===null?v1:Math.min(m,v1)}}Z[v]=m}}}return Z}function zq(e){var k=wq(e);var i=[];qg(e,function(KA){var KE=KA.coordinateSystem;var Z=KE.getBaseAxis();var v3=Z.getExtent();var KB;if(Z.type==="category"){KB=Z.getBandWidth()}else{if(Z.type==="value"||Z.type==="time"){var KG=Z.dim+"_"+Z.index;var KD=k[KG];var Kz=Math.abs(v3[1]-v3[0]);var v2=Z.scale.getExtent();var v=Math.abs(v2[1]-v2[0]);KB=KD?Kz/v*KD:Kz}else{var KC=KA.getData();KB=Math.abs(v3[1]-v3[0])/KC.count()}}var KH=BD(KA.get("barWidth"),KB);var m=BD(KA.get("barMaxWidth"),KB);var v1=BD(KA.get("barMinWidth")||1,KB);var KF=KA.get("barGap");var on=KA.get("barCategoryGap");i.push({bandWidth:KB,barWidth:KH,barMaxWidth:m,barMinWidth:v1,barGap:KF,barCategoryGap:on,axisKey:ln(Z),stackId:a7(KA)})});return o9(i)}function o9(k){var i={};qg(k,function(KB,KA){var Z=KB.axisKey;var v3=KB.bandWidth;var KC=i[Z]||{bandWidth:v3,remainedWidth:v3,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var v=KC.stacks;i[Z]=KC;var v2=KB.stackId;if(!v[v2]){KC.autoWidthCount++}v[v2]=v[v2]||{width:0,maxWidth:0};var KD=KB.barWidth;if(KD&&!v[v2].width){v[v2].width=KD;KD=Math.min(KC.remainedWidth,KD);KC.remainedWidth-=KD}var m=KB.barMaxWidth;m&&(v[v2].maxWidth=m);var v1=KB.barMinWidth;v1&&(v[v2].minWidth=v1);var Kz=KB.barGap;(Kz!=null)&&(KC.gap=Kz);var on=KB.barCategoryGap;(on!=null)&&(KC.categoryGap=on)});var e={};qg(i,function(KD,Z){e[Z]={};var m=KD.stacks;var v1=KD.bandWidth;var v=BD(KD.categoryGap,v1);var KA=BD(KD.gap,1);var on=KD.remainedWidth;var KB=KD.autoWidthCount;var Kz=(on-v)/(KB+(KB-1)*KA);Kz=Math.max(Kz,0);qg(m,function(KF){var KG=KF.maxWidth;var KE=KF.minWidth;if(!KF.width){var KH=Kz;if(KG&&KG<KH){KH=Math.min(KG,on)}if(KE&&KE>KH){KH=KE}if(KH!==Kz){KF.width=KH;on-=KH+KA*KH;KB--}}else{var KH=KF.width;if(KG){KH=Math.min(KH,KG)}if(KE){KH=Math.max(KH,KE)}KF.width=KH;on-=KH+KA*KH;KB--}});Kz=(on-v)/(KB+(KB-1)*KA);Kz=Math.max(Kz,0);var v3=0;var KC;qg(m,function(KF,KE){if(!KF.width){KF.width=Kz}KC=KF;v3+=KF.width*(1+KA)});if(KC){v3-=KC.width*KA}var v2=-v3/2;qg(m,function(KF,KE){e[Z][KE]=e[Z][KE]||{bandWidth:v1,offset:v2,width:KF.width};v2+=KF.width*(1+KA)})});return e}function GF(m,k,i){if(m&&k){var e=m[ln(k)];if(e!=null&&i!=null){e=e[a7(i)]}return e}}function bL(i,e){var k=pb(i,e);var m=zq(k);var v={};qg(k,function(KI){var KT=KI.getData();var KH=KI.coordinateSystem;var KC=KH.getBaseAxis();var v3=a7(KI);var KD=m[ln(KC)][v3];var Kz=KD.offset;var v2=KD.width;var KM=KH.getOtherAxis(KC);var Z=KI.get("barMinHeight")||0;v[v3]=v[v3]||[];KT.setLayout({bandWidth:KD.bandWidth,offset:Kz,size:v2});var on=KT.mapDimension(KM.dim);var KE=KT.mapDimension(KC.dim);var KP=mM(KT,on);var KO=KM.isHorizontal();var v1=dp(KC,KM,KP);for(var KF=0,KN=KT.count();KF<KN;KF++){var KK=KT.get(on,KF);var KQ=KT.get(KE,KF);var KS=KK>=0?"p":"n";var KR=v1;if(KP){if(!v[v3][KQ]){v[v3][KQ]={p:v1,n:v1}}KR=v[v3][KQ][KS]}var KB;var KA;var KJ;var KG;if(KO){var KL=KH.dataToPoint([KK,KQ]);KB=KR;KA=KL[1]+Kz;KJ=KL[0]-v1;KG=v2;if(Math.abs(KJ)<Z){KJ=(KJ<0?-1:1)*Z}if(!isNaN(KJ)){KP&&(v[v3][KQ][KS]+=KJ)}}else{var KL=KH.dataToPoint([KQ,KK]);KB=KL[0]+Kz;KA=KR;KJ=v2;KG=KL[1]-v1;if(Math.abs(KG)<Z){KG=(KG<=0?-1:1)*Z}if(!isNaN(KG)){KP&&(v[v3][KQ][KS]+=KG)}}KT.setItemLayout(KF,{x:KB,y:KA,width:KJ,height:KG})}},this)}var JA={seriesType:"bar",plan:Gy(),reset:function(v){if(!sb(v)||!ms(v)){return}var Z=v.getData();var on=v.coordinateSystem;var i=on.grid.getRect();var k=on.getBaseAxis();var v3=on.getOtherAxis(k);var v1=Z.mapDimension(v3.dim);var KA=Z.mapDimension(k.dim);var m=v3.isHorizontal();var v2=m?0:1;var Kz=GF(zq([v]),k,v).width;if(!(Kz>EJ)){Kz=EJ}return{progress:e};function e(KE,KF){var KH=KE.count;var KD=new mD(KH*2);var KJ=new mD(KH*2);var KI=new mD(KH);var KK;var KG=[];var KB=[];var KL=0;var KC=0;while((KK=KE.next())!=null){KB[v2]=KF.get(v1,KK);KB[1-v2]=KF.get(KA,KK);KG=on.dataToPoint(KB,null,KG);KJ[KL]=m?i.x+i.width:KG[0];KD[KL++]=KG[0];KJ[KL]=m?KG[1]:i.y+i.height;KD[KL++]=KG[1];KI[KC++]=KK}KF.setLayout({largePoints:KD,largeDataIndices:KI,largeBackgroundPoints:KJ,barWidth:Kz,valueAxisStart:dp(k,v3,false),backgroundStart:m?i.x:i.y,valueAxisHorizontal:m})}}};function sb(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function ms(e){return e.pipelineContext&&e.pipelineContext.large}function dp(i,k,e){return k.toGlobalCoord(k.dataToCoord(k.type==="log"?1:0))}var kE=Ex.prototype;var DT=Math.ceil;var fE=Math.floor;var t7=1000;var tv=t7*60;var kq=tv*60;var yC=kq*24;var Ko=function(i,e,v,m){while(v<m){var k=v+m>>>1;if(i[k][1]<e){v=k+1}else{m=k}}return v};var AN=Ex.extend({type:"time",getLabel:function(k){var i=this._stepLvl;var e=new Date(k);return nO(i[0],e,this.getSetting("useUTC"))},niceExtent:function(i){var k=this._extent;if(k[0]===k[1]){k[0]-=yC;k[1]+=yC}if(k[1]===-Infinity&&k[0]===Infinity){var m=new Date();k[1]=+new Date(m.getFullYear(),m.getMonth(),m.getDate());k[0]=k[1]-yC}this.niceTicks(i.splitNumber,i.minInterval,i.maxInterval);var e=this._interval;if(!i.fixMin){k[0]=HR(fE(k[0]/e)*e)}if(!i.fixMax){k[1]=HR(DT(k[1]/e)*e)}},niceTicks:function(KA,KC,m){KA=KA||10;var KB=this._extent;var v3=KB[1]-KB[0];var v=v3/KA;if(KC!=null&&v<KC){v=KC}if(m!=null&&v>m){v=m}var v1=zY.length;var Kz=Ko(zY,v,0,v1);var e=zY[Math.min(Kz,v1-1)];var k=e[1];if(e[0]==="year"){var i=v3/k;var Z=ad(i/KA,true);k*=Z}var v2=this.getSetting("useUTC")?0:(new Date(+KB[0]||+KB[1])).getTimezoneOffset()*60*1000;var on=[Math.round(DT((KB[0]-v2)/k)*k+v2),Math.round(fE((KB[1]-v2)/k)*k+v2)];GA(on,KB);this._stepLvl=e;this._interval=k;this._niceExtent=on},parse:function(e){return +xu(e)}});qg(["contain","normalize"],function(e){AN.prototype[e]=function(i){return kE[e].call(this,this.parse(i))}});var zY=[["hh:mm:ss",t7],["hh:mm:ss",t7*5],["hh:mm:ss",t7*10],["hh:mm:ss",t7*15],["hh:mm:ss",t7*30],["hh:mm\nMM-dd",tv],["hh:mm\nMM-dd",tv*5],["hh:mm\nMM-dd",tv*10],["hh:mm\nMM-dd",tv*15],["hh:mm\nMM-dd",tv*30],["hh:mm\nMM-dd",kq],["hh:mm\nMM-dd",kq*2],["hh:mm\nMM-dd",kq*6],["hh:mm\nMM-dd",kq*12],["MM-dd\nyyyy",yC],["MM-dd\nyyyy",yC*2],["MM-dd\nyyyy",yC*3],["MM-dd\nyyyy",yC*4],["MM-dd\nyyyy",yC*5],["MM-dd\nyyyy",yC*6],["week",yC*7],["MM-dd\nyyyy",yC*10],["week",yC*14],["week",yC*21],["month",yC*31],["week",yC*42],["month",yC*62],["week",yC*70],["quarter",yC*95],["month",yC*31*4],["month",yC*31*5],["half-year",yC*380/2],["month",yC*31*8],["month",yC*31*10],["year",yC*380]];AN.create=function(e){return new AN({useUTC:e.ecModel.get("useUTC")})};var Hr=dQ.prototype;var ku=Ex.prototype;var lQ=vt;var fM=HR;var xE=Math.floor;var pX=Math.ceil;var dm=Math.pow;var H6=Math.log;var g9=dQ.extend({type:"log",base:10,$constructor:function(){dQ.apply(this,arguments);this._originalScale=new Ex()},getTicks:function(m){var i=this._originalScale;var k=this._extent;var e=i.getExtent();return Gj(ku.getTicks.call(this,m),function(Z){var v=HR(dm(this.base,Z));v=(Z===k[0]&&i.__fixMin)?CX(v,e[0]):v;v=(Z===k[1]&&i.__fixMax)?CX(v,e[1]):v;return v},this)},getMinorTicks:ku.getMinorTicks,getLabel:ku.getLabel,scale:function(e){e=Hr.scale.call(this,e);return dm(this.base,e)},setExtent:function(k,e){var i=this.base;k=H6(k)/H6(i);e=H6(e)/H6(i);ku.setExtent.call(this,k,e)},getExtent:function(){var m=this.base;var k=Hr.getExtent.call(this);k[0]=dm(m,k[0]);k[1]=dm(m,k[1]);var i=this._originalScale;var e=i.getExtent();i.__fixMin&&(k[0]=CX(k[0],e[0]));i.__fixMax&&(k[1]=CX(k[1],e[1]));return k},unionExtent:function(e){this._originalScale.unionExtent(e);var i=this.base;e[0]=H6(e[0])/H6(i);e[1]=H6(e[1])/H6(i);Hr.unionExtent.call(this,e)},unionExtentFromData:function(e,i){this.unionExtent(e.getApproximateExtent(i))},niceTicks:function(Z){Z=Z||10;var m=this._extent;var k=m[1]-m[0];if(k===Infinity||k<=0){return}var e=tk(k);var v=Z/k*e;if(v<=0.5){e*=10}while(!isNaN(e)&&Math.abs(e)<1&&Math.abs(e)>0){e*=10}var i=[HR(pX(m[0]/e)*e),HR(xE(m[1]/e)*e)];this._interval=e;this._niceExtent=i},niceExtent:function(i){ku.niceExtent.call(this,i);var e=this._originalScale;e.__fixMin=i.fixMin;e.__fixMax=i.fixMax}});qg(["contain","normalize"],function(e){g9.prototype[e]=function(i){i=H6(i)/H6(this.base);return Hr[e].call(this,i)}});g9.create=function(){return new g9()};function CX(i,e){return fM(i,lQ(e))}function HI(on,v2){var e=on.type;var v1=v2.getMin();var KD=v2.getMax();var v3=on.getExtent();var KB;var v;var KE;if(e==="ordinal"){KB=v2.getCategories().length}else{v=v2.get("boundaryGap");if(!IQ(v)){v=[v||0,v||0]}if(typeof v[0]==="boolean"){if(pm){console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.')}v=[0,0]}v[0]=BD(v[0],1);v[1]=BD(v[1],1);KE=(v3[1]-v3[0])||Math.abs(v3[0])}if(v1==="dataMin"){v1=v3[0]}else{if(typeof v1==="function"){v1=v1({min:v3[0],max:v3[1]})}}if(KD==="dataMax"){KD=v3[1]}else{if(typeof KD==="function"){KD=KD({min:v3[0],max:v3[1]})}}var Z=v1!=null;var KC=KD!=null;if(v1==null){v1=e==="ordinal"?(KB?0:NaN):v3[0]-v[0]*KE}if(KD==null){KD=e==="ordinal"?(KB?KB-1:NaN):v3[1]+v[1]*KE}(v1==null||!isFinite(v1))&&(v1=NaN);(KD==null||!isFinite(KD))&&(KD=NaN);on.setBlank(ml(v1)||ml(KD)||(e==="ordinal"&&!on.getOrdinalMeta().categories.length));if(v2.getNeedCrossZero()){if(v1>0&&KD>0&&!Z){v1=0}if(v1<0&&KD<0&&!KC){KD=0}}var KA=v2.ecModel;if(KA&&(e==="time")){var m=pb("bar",KA);var i;qg(m,function(KF){i|=KF.getBaseAxis()===v2.axis});if(i){var Kz=zq(m);var k=Ak(v1,KD,v2,Kz);v1=k.min;KD=k.max}}return{extent:[v1,KD],fixMin:Z,fixMax:KC}}function Ak(Z,KA,on,v1){var v=on.axis.getExtent();var v2=v[1]-v[0];var KB=GF(v1,on.axis);if(KB===undefined){return{min:Z,max:KA}}var e=Infinity;qg(KB,function(KC){e=Math.min(KC.offset,e)});var m=-Infinity;qg(KB,function(KC){m=Math.max(KC.offset+KC.width,m)});e=Math.abs(e);m=Math.abs(m);var k=e+m;var Kz=KA-Z;var i=(1-(e+m)/v2);var v3=((Kz/i)-Kz);KA+=v3*(m/k);Z-=v3*(e/k);return{min:Z,max:KA}}function oM(Z,m){var e=HI(Z,m);var v=e.extent;var on=m.get("splitNumber");if(Z.type==="log"){Z.base=m.get("logBase")}var i=Z.type;Z.setExtent(v[0],v[1]);Z.niceExtent({splitNumber:on,fixMin:e.fixMin,fixMax:e.fixMax,minInterval:(i==="interval"||i==="time")?m.get("minInterval"):null,maxInterval:(i==="interval"||i==="time")?m.get("maxInterval"):null});var k=m.get("interval");if(k!=null){Z.setInterval&&Z.setInterval(k)}}function om(i,e){e=e||i.get("type");if(e){switch(e){case"category":return new He(i.getOrdinalMeta?i.getOrdinalMeta():i.getCategories(),[Infinity,-Infinity]);case"value":return new Ex();default:return(dQ.getClass(e)||Ex).create(i)}}}function C1(k){var m=k.scale.getExtent();var i=m[0];var e=m[1];return !((i>0&&e>0)||(i<0&&e<0))}function mI(i){var e=i.getLabelModel().get("formatter");var k=i.type==="category"?i.scale.getExtent()[0]:null;if(typeof e==="string"){e=(function(m){return function(v){v=i.scale.getLabel(v);return m.replace("{value}",v!=null?v:"")}})(e);return e}else{if(typeof e==="function"){return function(v,m){if(k!=null){m=v-k}return e(oX(i,v),m)}}else{return function(m){return i.scale.getLabel(m)}}}}function oX(e,i){return e.type==="category"?e.scale.getLabel(i):i}function eW(Z){var KF=Z.model;var on=Z.scale;if(!KF.get("axisLabel.show")||on.isBlank()){return}var KB=Z.type==="category";var v2;var e;var v3=on.getExtent();if(KB){e=on.count()}else{v2=on.getTicks();e=v2.length}var KE=Z.getLabelModel();var KA=mI(Z);var KC;var k=1;if(e>40){k=Math.ceil(e/40)}for(var Kz=0;Kz<e;Kz+=k){var v1=v2?v2[Kz]:v3[0]+Kz;var KD=KA(v1);var v=KE.getTextRect(KD);var m=A2(v,KE.get("rotate")||0);KC?KC.union(m):(KC=m)}return KC}function A2(on,k){var e=k*Math.PI/180;var m=on.plain();var v2=m.width;var v=m.height;var v1=v2*Math.abs(Math.cos(e))+Math.abs(v*Math.sin(e));var i=v2*Math.abs(Math.sin(e))+Math.abs(v*Math.cos(e));var Z=new EG(m.x,m.y,v1,i);return Z}function q4(i){var e=i.get("interval");return e==null?"auto":e}function Dl(e){return e.type==="category"&&q4(e.getLabelModel())===0}var oz={getMin:function(e){var k=this.option;var i=(!e&&k.rangeStart!=null)?k.rangeStart:k.min;if(this.axis&&i!=null&&i!=="dataMin"&&typeof i!=="function"&&!ml(i)){i=this.axis.scale.parse(i)}return i},getMax:function(i){var k=this.option;var e=(!i&&k.rangeEnd!=null)?k.rangeEnd:k.max;if(this.axis&&e!=null&&e!=="dataMax"&&typeof e!=="function"&&!ml(e)){e=this.axis.scale.parse(e)}return e},getNeedCrossZero:function(){var e=this.option;return(e.rangeStart!=null||e.rangeEnd!=null)?false:!e.scale},getCoordSysModel:Y,setRange:function(i,e){this.option.rangeStart=i;this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};var tx=JJ({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(v,k){var i=k.cx;var Z=k.cy;var m=k.width/2;var e=k.height/2;v.moveTo(i,Z-e);v.lineTo(i+m,Z+e);v.lineTo(i-m,Z+e);v.closePath()}});var kI=JJ({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(v,k){var i=k.cx;var Z=k.cy;var m=k.width/2;var e=k.height/2;v.moveTo(i,Z-e);v.lineTo(i+m,Z);v.lineTo(i,Z+e);v.lineTo(i-m,Z);v.closePath()}});var F2=JJ({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(KD,Z){var Kz=Z.x;var v2=Z.y;var KA=Z.width/5*3;var v=Math.max(KA,Z.height);var e=KA/2;var KB=e*e/(v-e);var k=v2-v+e+KB;var i=Math.asin(KB/e);var KC=Math.cos(i)*e;var v1=Math.sin(i);var on=Math.cos(i);var v3=e*0.6;var m=e*0.7;KD.moveTo(Kz-KC,k+KB);KD.arc(Kz,k,e,Math.PI-i,Math.PI*2+i);KD.bezierCurveTo(Kz+KC-v1*v3,k+KB+on*v3,Kz,v2-m,Kz,v2);KD.bezierCurveTo(Kz,v2-m,Kz-KC+v1*v3,k+KB+on*v3,Kz-KC,k+KB);KD.closePath()}});var jg=JJ({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(k,v){var i=v.height;var Z=v.width;var e=v.x;var on=v.y;var m=Z/3*2;k.moveTo(e,on);k.lineTo(e+m,on+i);k.lineTo(e,on+i/4*3);k.lineTo(e-m,on+i);k.lineTo(e,on);k.closePath()}});var Gp={line:Br,rect:GM,roundRect:GM,square:GM,circle:IS,diamond:kI,pin:F2,arrow:jg,triangle:tx};var ya={line:function(e,v,i,m,k){k.x1=e;k.y1=v+m/2;k.x2=e+i;k.y2=v+m/2},rect:function(e,v,i,m,k){k.x=e;k.y=v;k.width=i;k.height=m},roundRect:function(e,v,i,m,k){k.x=e;k.y=v;k.width=i;k.height=m;k.r=Math.min(i,m)/4},square:function(e,Z,i,v,k){var m=Math.min(i,v);k.x=e;k.y=Z;k.width=m;k.height=m},circle:function(e,v,i,m,k){k.cx=e+i/2;k.cy=v+m/2;k.r=Math.min(i,m)/2},diamond:function(e,v,i,m,k){k.cx=e+i/2;k.cy=v+m/2;k.width=i;k.height=m},pin:function(e,v,i,m,k){k.x=e+i/2;k.y=v+m/2;k.width=i;k.height=m},arrow:function(e,v,i,m,k){k.x=e+i/2;k.y=v+m/2;k.width=i;k.height=m},triangle:function(e,v,i,m,k){k.cx=e+i/2;k.cy=v+m/2;k.width=i;k.height=m}};var rP={};qg(Gp,function(i,e){rP[e]=new i()});var mP=JJ({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(i,m,v){var k=wp(i,m,v);var e=this.shape;if(e&&e.symbolType==="pin"&&m.textPosition==="inside"){k.y=v.y+v.height*0.4}return k},buildPath:function(e,i,k){var m=i.symbolType;if(m!=="none"){var v=rP[m];if(!v){m="rect";v=rP[m]}ya[m](i.x,i.y,i.width,i.height,v.shape);v.buildPath(e,v.shape,k)}}});function a4(i,m){if(this.type!=="image"){var k=this.style;var e=this.shape;if(e&&e.symbolType==="line"){k.stroke=i}else{if(this.__isEmptyBrush){k.stroke=i;k.fill=m||"#fff"}else{k.fill&&(k.fill=i);k.stroke&&(k.stroke=i)}}this.dirty(false)}}function vz(v2,on,Z,v1,m,i,v){var k=v2.indexOf("empty")===0;if(k){v2=v2.substr(5,1).toLowerCase()+v2.substr(6)}var e;if(v2.indexOf("image://")===0){e=IC(v2.slice(8),new EG(on,Z,v1,m),v?"center":"cover")}else{if(v2.indexOf("path://")===0){e=C5(v2.slice(7),{},new EG(on,Z,v1,m),v?"center":"cover")}else{e=new mP({shape:{symbolType:v2,x:on,y:Z,width:v1,height:m}})}}e.__isEmptyBrush=k;e.setColor=a4;e.setColor(i);return e}function Hq(e){return b(e.getSource(),e)}var nA={isDimensionStacked:mM,enableDataStack:kL,getStackedDimension:kk};function CL(k,i){var e=i;if(!fV.isInstance(i)){e=new fV(i);Iz(e,oz)}var m=om(e);m.setExtent(k[0],k[1]);oM(m,e);return m}function rI(e){Iz(e,oz)}var D5=(Object.freeze||Object)({createList:Hq,getLayoutRect:lL,dataStack:nA,createScale:CL,mixinAxisModelCommonMethods:rI,completeDimensions:JQ,createDimensions:Ad,createSymbol:vz});var mc=1e-8;function Fs(i,e){return Math.abs(i-e)<mc}function GS(v,e,v2){var k=0;var on=v[0];if(!on){return false}for(var m=1;m<v.length;m++){var Z=v[m];k+=nl(on[0],on[1],Z[0],Z[1],e,v2);on=Z}var v1=v[0];if(!Fs(on[0],v1[0])||!Fs(on[1],v1[1])){k+=nl(on[0],on[1],v1[0],v1[1],e,v2)}return k!==0}function xv(e,i,m){this.name=e;this.geometries=i;if(!m){var k=this.getBoundingRect();m=[k.x+k.width/2,k.y+k.height/2]}else{m=[m[0],m[1]]}this.center=m}xv.prototype={constructor:xv,properties:null,getBoundingRect:function(){var v=this._rect;if(v){return v}var v1=Number.MAX_VALUE;var on=[v1,v1];var v2=[-v1,-v1];var v3=[];var Z=[];var e=this.geometries;for(var m=0;m<e.length;m++){if(e[m].type!=="polygon"){continue}var k=e[m].exterior;pO(k,v3,Z);Dp(on,on,v3);F9(v2,v2,Z)}if(m===0){on[0]=on[1]=v2[0]=v2[1]=0}return(this._rect=new EG(on[0],on[1],v2[0]-on[0],v2[1]-on[1]))},contain:function(v3){var on=this.getBoundingRect();var Z=this.geometries;if(!on.contain(v3[0],v3[1])){return false}loopGeo:for(var v=0,m=Z.length;v<m;v++){if(Z[v].type!=="polygon"){continue}var v1=Z[v].exterior;var v2=Z[v].interiors;if(GS(v1,v3[0],v3[1])){for(var e=0;e<(v2?v2.length:0);e++){if(GS(v2[e])){continue loopGeo}}return true}}return false},transformTo:function(KB,Kz,m,KD){var KA=this.getBoundingRect();var e=KA.width/KA.height;if(!m){m=e*KD}else{if(!KD){KD=m/e}}var v3=new EG(KB,Kz,m,KD);var Z=KA.calculateTransform(v3);var v=this.geometries;for(var v1=0;v1<v.length;v1++){if(v[v1].type!=="polygon"){continue}var on=v[v1].exterior;var KC=v[v1].interiors;for(var k=0;k<on.length;k++){a5(on[k],on[k],Z)}for(var v2=0;v2<(KC?KC.length:0);v2++){for(var k=0;k<KC[v2].length;k++){a5(KC[v2][k],KC[v2][k],Z)}}}KA=this._rect;KA.copy(v3);this.center=[KA.x+KA.width/2,KA.y+KA.height/2]},cloneShallow:function(e){e==null&&(e=this.name);var i=new xv(e,this.geometries,this.center);i._rect=this._rect;i.transformTo=null;return i}};function d6(Kz){if(!Kz.UTF8Encoding){return Kz}var v2=Kz.UTF8Scale;if(v2==null){v2=1024}var e=Kz.features;for(var k=0;k<e.length;k++){var KA=e[k];var v=KA.geometry;var v1=v.coordinates;var Z=v.encodeOffsets;for(var m=0;m<v1.length;m++){var v3=v1[m];if(v.type==="Polygon"){v1[m]=EC(v3,Z[m],v2)}else{if(v.type==="MultiPolygon"){for(var i=0;i<v3.length;i++){var on=v3[i];v3[i]=EC(on,Z[m][i],v2)}}}}}Kz.UTF8Encoding=false;return Kz}function EC(v2,Z,v1){var v3=[];var m=Z[0];var k=Z[1];for(var e=0;e<v2.length;e+=2){var on=v2.charCodeAt(e)-64;var v=v2.charCodeAt(e+1)-64;on=(on>>1)^(-(on&1));v=(v>>1)^(-(v&1));on+=m;v+=k;m=on;k=v;v3.push([on/v1,v/v1])}return v3}var bW=function(e,i){d6(e);return Gj(sk(e.features,function(k){return k.geometry&&k.properties&&k.geometry.coordinates.length>0}),function(k){var m=k.properties;var on=k.geometry;var v1=on.coordinates;var v=[];if(on.type==="Polygon"){v.push({type:"polygon",exterior:v1[0],interiors:v1.slice(1)})}if(on.type==="MultiPolygon"){qg(v1,function(v2){if(v2[0]){v.push({type:"polygon",exterior:v2[0],interiors:v2.slice(1)})}})}var Z=new xv(m[i||"name"],v,m.cp);Z.properties=m;return Z})};var io=gc();function zP(e){return e.type==="category"?IJ(e):y8(e)}function nr(e,i){return e.type==="category"?GK(e,i):{ticks:e.scale.getTicks()}}function IJ(i){var k=i.getLabelModel();var e=lf(i,k);return(!k.get("show")||i.scale.isBlank())?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}function lf(k,Z){var m=mZ(k,"labels");var i=q4(Z);var e=qL(m,i);if(e){return e}var on;var v;if(Hb(i)){on=qy(k,i)}else{v=i==="auto"?eZ(k):i;on=rT(k,v)}return Ae(m,i,{labels:on,labelCategoryInterval:v})}function GK(m,on){var Z=mZ(m,"ticks");var v1=q4(on);var i=qL(Z,v1);if(i){return i}var v;var e;if(!on.get("show")||m.scale.isBlank()){v=[]}if(Hb(v1)){v=qy(m,v1,true)}else{if(v1==="auto"){var k=lf(m,m.getLabelModel());e=k.labelCategoryInterval;v=Gj(k.labels,function(v2){return v2.tickValue})}else{e=v1;v=rT(m,e,true)}}return Ae(Z,v1,{ticks:v,tickCategoryInterval:e})}function y8(i){var k=i.scale.getTicks();var e=mI(i);return{labels:Gj(k,function(v,m){return{formattedLabel:e(v,m),rawLabel:i.scale.getLabel(v),tickValue:v}})}}function mZ(e,i){return io(e)[i]||(io(e)[i]=[])}function qL(e,m){for(var k=0;k<e.length;k++){if(e[k].key===m){return e[k].value}}}function Ae(e,i,k){e.push({key:i,value:k});return k}function eZ(i){var e=io(i).autoInterval;return e!=null?e:(io(i).autoInterval=i.calculateCategoryInterval())}function gy(k){var KJ=lg(k);var on=mI(k);var KF=(KJ.axisRotate-KJ.labelRotate)/180*Math.PI;var KL=k.scale;var KG=KL.getExtent();var e=KL.count();if(KG[1]-KG[0]<1){return 0}var v1=1;if(e>40){v1=Math.max(1,Math.floor(e/40))}var v3=KG[0];var v=k.dataToCoord(v3+1)-k.dataToCoord(v3);var Z=Math.abs(v*Math.cos(KF));var KD=Math.abs(v*Math.sin(KF));var KK=0;var m=0;for(;v3<=KG[1];v3+=v1){var KE=0;var KC=0;var i=IA(on(v3),KJ.font,"center","top");KE=i.width*1.3;KC=i.height*1.3;KK=Math.max(KK,KE,7);m=Math.max(m,KC,7)}var KA=KK/Z;var KH=m/KD;isNaN(KA)&&(KA=Infinity);isNaN(KH)&&(KH=Infinity);var KI=Math.max(0,Math.floor(Math.min(KA,KH)));var KB=io(k.model);var v2=k.getExtent();var Kz=KB.lastAutoInterval;var KM=KB.lastTickCount;if(Kz!=null&&KM!=null&&Math.abs(Kz-KI)<=1&&Math.abs(KM-e)<=1&&Kz>KI&&KB.axisExtend0===v2[0]&&KB.axisExtend1===v2[1]){KI=Kz}else{KB.lastTickCount=e;KB.lastAutoInterval=KI;KB.axisExtend0=v2[0];KB.axisExtend1=v2[1]}return KI}function lg(e){var i=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():(e.isHorizontal&&!e.isHorizontal())?90:0,labelRotate:i.get("rotate")||0,font:i.getFont()}}function rT(k,v3,v){var v2=mI(k);var KC=k.scale;var KB=KC.getExtent();var KD=k.getLabelModel();var KE=[];var i=Math.max((v3||0)+1,1);var on=KB[0];var e=KC.count();if(on!==0&&i>1&&e/i>2){on=Math.round(Math.ceil(on/i)*i)}var m=Dl(k);var KA=KD.get("showMinLabel")||m;var v1=KD.get("showMaxLabel")||m;if(KA&&on!==KB[0]){Kz(KB[0])}var Z=on;for(;Z<=KB[1];Z+=i){Kz(Z)}if(v1&&Z-i!==KB[1]){Kz(KB[1])}function Kz(KF){KE.push(v?KF:{formattedLabel:v2(KF),rawLabel:KC.getLabel(KF),tickValue:KF})}return KE}function qy(v,k,i){var Z=v.scale;var m=mI(v);var e=[];qg(Z.getTicks(),function(on){var v1=Z.getLabel(on);if(k(on,v1)){e.push(i?on:{formattedLabel:m(on),rawLabel:v1,tickValue:on})}});return e}var gn=[0,1];var DO=function(i,k,e){this.dim=i;this.scale=k;this._extent=e||[0,0];this.inverse=false;this.onBand=false};DO.prototype={constructor:DO,contain:function(m){var k=this._extent;var i=Math.min(k[0],k[1]);var e=Math.max(k[0],k[1]);return m>=i&&m<=e},containData:function(e){return this.scale.contain(e)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return zQ(e||this.scale.getExtent(),this._extent)},setExtent:function(k,e){var i=this._extent;i[0]=k;i[1]=e},dataToCoord:function(i,m){var e=this._extent;var k=this.scale;i=k.normalize(i);if(this.onBand&&k.type==="ordinal"){e=e.slice();Fn(e,k.count())}return GV(i,gn,e,m)},coordToData:function(v,m){var i=this._extent;var k=this.scale;if(this.onBand&&k.type==="ordinal"){i=i.slice();Fn(i,k.count())}var e=GV(v,i,gn,m);return this.scale.scale(e)},pointToData:function(e,i){},getTicksCoords:function(k){k=k||{};var Z=k.tickModel||this.getTickModel();var e=nr(this,Z);var m=e.ticks;var i=Gj(m,function(on){return{coord:this.dataToCoord(on),tickValue:on}},this);var v=Z.get("alignWithLabel");Hm(this,i,v,k.clamp);return i},getMinorTicksCoords:function(){if(this.scale.type==="ordinal"){return[]}var k=this.model.getModel("minorTick");var m=k.get("splitNumber");if(!(m>0&&m<100)){m=5}var i=this.scale.getMinorTicks(m);var e=Gj(i,function(v){return Gj(v,function(Z){return{coord:this.dataToCoord(Z),tickValue:Z}},this)},this);return e},getViewLabels:function(){return zP(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var m=this._extent;var k=this.scale.getExtent();var e=k[1]-k[0]+(this.onBand?1:0);e===0&&(e=1);var i=Math.abs(m[1]-m[0]);return Math.abs(i)/e},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return gy(this)}};function Fn(m,i){var k=m[1]-m[0];var e=i;var v=k/e/2;m[0]+=v;m[1]-=v}function Hm(k,Kz,e,on){var v3=Kz.length;if(!k.onBand||e||!v3){return}var m=k.getExtent();var KA;var v2;if(v3===1){Kz[0].coord=m[0];KA=Kz[1]={coord:m[0]}}else{var v1=Kz[v3-1].tickValue-Kz[0].tickValue;var i=(Kz[v3-1].coord-Kz[0].coord)/v1;qg(Kz,function(KC){KC.coord-=i/2});var KB=k.scale.getExtent();v2=1+KB[1]-Kz[v3-1].tickValue;KA={coord:Kz[v3-1].coord+i*v2};Kz.push(KA)}var v=m[0]>m[1];if(Z(Kz[0].coord,m[0])){on?(Kz[0].coord=m[0]):Kz.shift()}if(on&&Z(m[0],Kz[0].coord)){Kz.unshift({coord:m[0]})}if(Z(m[1],KA.coord)){on?(KA.coord=m[1]):Kz.pop()}if(on&&Z(KA.coord,m[1])){Kz.push({coord:m[1]})}function Z(KD,KC){KD=HR(KD);KC=HR(KC);return v?KD>KC:KD<KC}}var lb=bW;var lW={};qg(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(e){lW[e]=yT[e]});var vm={};qg(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(e){vm[e]=zV[e]});oW.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(k,e){if(pm){var i=k.coordinateSystem;if(i!=="polar"&&i!=="cartesian2d"){throw new Error("Line not support coordinateSystem besides cartesian and polar")}}return b(this.getSource(),this,{useEncodeDefaulter:true})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,clip:true,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:false,smooth:false,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:true,showAllSymbol:"auto",connectNulls:false,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity}});function eh(on,m){var v=on.mapDimension("defaultedLabel",true);var e=v.length;if(e===1){return jL(on,m,v[0])}else{if(e){var Z=[];for(var k=0;k<v.length;k++){var v1=jL(on,m,v[k]);Z.push(v1)}return Z.join(" ")}}}function mG(k,e,i){D4.call(this);this.updateData(k,e,i)}var FA=mG.prototype;var HD=mG.getSymbolSize=function(k,e){var i=k.getItemVisual(e,"symbolSize");return i instanceof Array?i.slice():[+i,+i]};function og(e){return[e[0]/2,e[1]/2]}function Ap(i,e){this.parent.drift(i,e)}FA._createSymbol=function(on,Z,k,v,i){this.removeAll();var m=Z.getItemVisual(k,"color");var e=vz(on,-1,-1,2,2,m,i);e.attr({z2:100,culling:true,scale:og(v)});e.drift=Ap;this._symbolType=on;this.add(e)};FA.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)};FA.getSymbolPath=function(){return this.childAt(0)};FA.getScale=function(){return this.childAt(0).scale};FA.highlight=function(){this.childAt(0).trigger("emphasis")};FA.downplay=function(){this.childAt(0).trigger("normal")};FA.setZ=function(i,k){var e=this.childAt(0);e.zlevel=i;e.z=k};FA.setDraggable=function(i){var e=this.childAt(0);e.draggable=i;e.cursor=i?"move":e.cursor};FA.updateData=function(m,v3,v2){this.silent=false;var Kz=m.getItemVisual(v3,"symbol")||"circle";var k=m.hostModel;var i=HD(m,v3);var Z=Kz!==this._symbolType;if(Z){var v=m.getItemVisual(v3,"symbolKeepAspect");this._createSymbol(Kz,m,v3,i,v)}else{var e=this.childAt(0);e.silent=false;pZ(e,{scale:og(i)},k,v3)}this._updateCommon(m,v3,i,v2);if(Z){var e=this.childAt(0);var on=v2&&v2.fadeIn;var v1={scale:e.scale.slice()};on&&(v1.style={opacity:e.style.opacity});e.scale=[0,0];on&&(e.style.opacity=0);kl(e,v1,k,v3)}this._seriesModel=k};var uv=["itemStyle"];var ih=["emphasis","itemStyle"];var dX=["label"];var DN=["emphasis","label"];FA._updateCommon=function(KK,KA,KI,Kz){var KJ=this.childAt(0);var KB=KK.hostModel;var KD=KK.getItemVisual(KA,"color");if(KJ.type!=="image"){KJ.useStyle({strokeNoScale:true})}else{KJ.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null})}var v2=Kz&&Kz.itemStyle;var k=Kz&&Kz.hoverItemStyle;var KC=Kz&&Kz.symbolOffset;var v3=Kz&&Kz.labelModel;var KH=Kz&&Kz.hoverLabelModel;var v=Kz&&Kz.hoverAnimation;var e=Kz&&Kz.cursorStyle;if(!Kz||KK.hasItemOption){var KE=(Kz&&Kz.itemModel)?Kz.itemModel:KK.getItemModel(KA);v2=KE.getModel(uv).getItemStyle(["color"]);k=KE.getModel(ih).getItemStyle();KC=KE.getShallow("symbolOffset");v3=KE.getModel(dX);KH=KE.getModel(DN);v=KE.getShallow("hoverAnimation");e=KE.getShallow("cursor")}else{k=cc({},k)}var KF=KJ.style;var Z=KK.getItemVisual(KA,"symbolRotate");KJ.attr("rotation",(Z||0)*Math.PI/180||0);if(KC){KJ.attr("position",[BD(KC[0],KI[0]),BD(KC[1],KI[1])])}e&&KJ.attr("cursor",e);KJ.setColor(KD,Kz&&Kz.symbolInnerColor);KJ.setStyle(v2);var m=KK.getItemVisual(KA,"opacity");if(m!=null){KF.opacity=m}var v1=KK.getItemVisual(KA,"liftZ");var i=KJ.__z2Origin;if(v1!=null){if(i==null){KJ.__z2Origin=KJ.z2;KJ.z2+=v1}}else{if(i!=null){KJ.z2=i;KJ.__z2Origin=null}}var KG=Kz&&Kz.useNameLabel;Dz(KF,k,v3,KH,{labelFetcher:KB,labelDataIndex:KA,defaultText:on,isRectText:true,autoColor:KD});function on(KL,KM){return KG?KK.getName(KL):eh(KK,KL)}KJ.__symbolOriginalScale=og(KI);KJ.hoverStyle=k;KJ.highDownOnUpdate=(v&&KB.isAnimationEnabled())?wg:null;z3(KJ)};function wg(v,e){if(this.incremental||this.useHoverLayer){return}if(e==="emphasis"){var m=this.__symbolOriginalScale;var i=m[1]/m[0];var k={scale:[Math.max(m[0]*1.1,m[0]+3),Math.max(m[1]*1.1,m[1]+3*i)]};this.animateTo(k,400,"elasticOut")}else{if(e==="normal"){this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}}}FA.fadeOut=function(i,k){var e=this.childAt(0);this.silent=e.silent=true;!(k&&k.keepLabel)&&(e.style.text=null);pZ(e,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,i)};nm(mG,D4);function Hf(e){this.group=new D4();this._symbolCtor=e||mG}var zu=Hf.prototype;function yf(m,i,e,k){return i&&!isNaN(i[0])&&!isNaN(i[1])&&!(k.isIgnore&&k.isIgnore(e))&&!(k.clipShape&&!k.clipShape.contain(i[0],i[1]))&&m.getItemVisual(e,"symbol")!=="none"}zu.updateData=function(v,k){k=G8(k);var Z=this.group;var e=v.hostModel;var on=this._data;var m=this._symbolCtor;var i=yy(v);if(!on){Z.removeAll()}v.diff(on).add(function(v2){var v1=v.getItemLayout(v2);if(yf(v,v1,v2,k)){var v3=new m(v,v2,i);v3.attr("position",v1);v.setItemGraphicEl(v2,v3);Z.add(v3)}}).update(function(v3,v2){var Kz=on.getItemGraphicEl(v2);var v1=v.getItemLayout(v3);if(!yf(v,v1,v3,k)){Z.remove(Kz);return}if(!Kz){Kz=new m(v,v3);Kz.attr("position",v1)}else{Kz.updateData(v,v3,i);pZ(Kz,{position:v1},e)}Z.add(Kz);v.setItemGraphicEl(v3,Kz)}).remove(function(v1){var v2=on.getItemGraphicEl(v1);v2&&v2.fadeOut(function(){Z.remove(v2)})}).execute();this._data=v};zu.isPersistent=function(){return true};zu.updateLayout=function(){var e=this._data;if(e){e.eachItemGraphicEl(function(m,k){var i=e.getItemLayout(k);m.attr("position",i)})}};zu.incrementalPrepareUpdate=function(e){this._seriesScope=yy(e);this._data=null;this.group.removeAll()};zu.incrementalUpdate=function(on,Z,m){m=G8(m);function k(v1){if(!v1.isGroup){v1.incremental=v1.useHoverLayer=true}}for(var i=on.start;i<on.end;i++){var e=Z.getItemLayout(i);if(yf(Z,e,i,m)){var v=new this._symbolCtor(Z,i,this._seriesScope);v.traverse(k);v.attr("position",e);this.group.add(v);Z.setItemGraphicEl(i,v)}}};function G8(e){if(e!=null&&!u7(e)){e={isIgnore:e}}return e||{}}zu.remove=function(e){var k=this.group;var i=this._data;if(i&&e){i.eachItemGraphicEl(function(m){m.fadeOut(function(){k.remove(m)})})}else{k.removeAll()}};function yy(i){var e=i.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}function yP(v,Z,on){var i=v.getBaseAxis();var KB=v.getOtherAxis(i);var m=mz(KB,on);var k=i.dim;var v1=KB.dim;var v3=Z.mapDimension(v1);var KC=Z.mapDimension(k);var e=v1==="x"||v1==="radius"?1:0;var KA=Gj(v.dimensions,function(KD){return Z.mapDimension(KD)});var v2;var Kz=Z.getCalculationInfo("stackResultDimension");if(v2|=mM(Z,KA[0])){KA[0]=Kz}if(v2|=mM(Z,KA[1])){KA[1]=Kz}return{dataDimsForPoint:KA,valueStart:m,valueAxisDim:v1,baseAxisDim:k,stacked:!!v2,valueDim:v3,baseDim:KC,baseDataOffset:e,stackedOverDimension:Z.getCalculationInfo("stackedOverDimension")}}function mz(m,e){var k=0;var i=m.scale.getExtent();if(e==="start"){k=i[0]}else{if(e==="end"){k=i[1]}else{if(i[0]>0){k=i[0]}else{if(i[1]<0){k=i[1]}}}}return k}function aq(i,v,on,e){var Z=NaN;if(i.stacked){Z=on.get(on.getCalculationInfo("stackedOverDimension"),e)}if(isNaN(Z)){Z=i.valueStart}var m=i.baseDataOffset;var k=[];k[m]=on.get(i.baseDim,e);k[1-m]=Z;return v.dataToPoint(k)}function iY(k,i){var e=[];i.diff(k).add(function(m){e.push({cmd:"+",idx:m})}).update(function(v,m){e.push({cmd:"=",idx:m,idx1:v})}).remove(function(m){e.push({cmd:"-",idx:m})}).execute();return e}var xZ=function(KT,KC,KM,KB,KQ,KS,v2,KJ){var KD=iY(KT,KC);var KE=[];var v1=[];var Z=[];var KR=[];var KL=[];var KH=[];var k=[];var on=yP(KQ,KC,v2);var v=yP(KS,KT,KJ);for(var KN=0;KN<KD.length;KN++){var KK=KD[KN];var KP=true;switch(KK.cmd){case"=":var KO=KT.getItemLayout(KK.idx);var KI=KC.getItemLayout(KK.idx1);if(isNaN(KO[0])||isNaN(KO[1])){KO=KI.slice()}KE.push(KO);v1.push(KI);Z.push(KM[KK.idx]);KR.push(KB[KK.idx1]);k.push(KC.getRawIndex(KK.idx1));break;case"+":var KF=KK.idx;KE.push(KQ.dataToPoint([KC.get(on.dataDimsForPoint[0],KF),KC.get(on.dataDimsForPoint[1],KF)]));v1.push(KC.getItemLayout(KF).slice());Z.push(aq(on,KQ,KC,KF));KR.push(KB[KF]);k.push(KC.getRawIndex(KF));break;case"-":var KF=KK.idx;var KA=KT.getRawIndex(KF);if(KA!==KF){KE.push(KT.getItemLayout(KF));v1.push(KS.dataToPoint([KT.get(v.dataDimsForPoint[0],KF),KT.get(v.dataDimsForPoint[1],KF)]));Z.push(KM[KF]);KR.push(aq(v,KS,KT,KF));k.push(KA)}else{KP=false}}if(KP){KL.push(KK);KH.push(KH.length)}}KH.sort(function(KU,i){return k[KU]-k[i]});var KG=[];var Kz=[];var v3=[];var e=[];var m=[];for(var KN=0;KN<KH.length;KN++){var KF=KH[KN];KG[KN]=KE[KF];Kz[KN]=v1[KF];v3[KN]=Z[KF];e[KN]=KR[KF];m[KN]=KL[KF]}return{current:KG,next:Kz,stackedOnCurrent:v3,stackedOnNext:e,status:m}};var gZ=Dp;var jS=F9;var xd=CY;var BP=Ar;var Je=[];var Gd=[];var Gc=[];function DM(e){return isNaN(e[0])||isNaN(e[1])}function wL(Kz,v3,k,v,v2,Z,v1,m,i,on,e){if(on==="none"||!on){return dU.apply(this,arguments)}else{return sG.apply(this,arguments)}}function sG(KC,KF,m,KH,KA,KB,i,v,v2,v3,e){var on=0;var v1=m;for(var KD=0;KD<KH;KD++){var Kz=KF[v1];if(v1>=KA||v1<0){break}if(DM(Kz)){if(e){v1+=KB;continue}break}if(v1===m){KC[KB>0?"moveTo":"lineTo"](Kz[0],Kz[1])}else{if(v2>0){var Z=KF[on];var KE=v3==="y"?1:0;var KG=(Kz[KE]-Z[KE])*v2;BP(Gd,Z);Gd[KE]=Z[KE]+KG;BP(Gc,Kz);Gc[KE]=Kz[KE]-KG;KC.bezierCurveTo(Gd[0],Gd[1],Gc[0],Gc[1],Kz[0],Kz[1])}else{KC.lineTo(Kz[0],Kz[1])}}on=v1;v1+=KB}return KD}function dU(KE,KH,v,KI,KC,KD,m,Z,Kz,KA,i){var v2=0;var v3=v;for(var KF=0;KF<KI;KF++){var KB=KH[v3];if(v3>=KC||v3<0){break}if(DM(KB)){if(i){v3+=KD;continue}break}if(v3===v){KE[KD>0?"moveTo":"lineTo"](KB[0],KB[1]);BP(Gd,KB)}else{if(Kz>0){var KK=v3+KD;var e=KH[KK];if(i){while(e&&DM(KH[KK])){KK+=KD;e=KH[KK]}}var KJ=0.5;var v1=KH[v2];var e=KH[KK];if(!e||DM(e)){BP(Gc,KB)}else{if(DM(e)&&!i){e=KB}DJ(Je,e,v1);var KL;var on;if(KA==="x"||KA==="y"){var KG=KA==="x"?0:1;KL=Math.abs(KB[KG]-v1[KG]);on=Math.abs(KB[KG]-e[KG])}else{KL=FX(KB,v1);on=FX(KB,e)}KJ=on/(on+KL);xd(Gc,KB,Je,-Kz*(1-KJ))}gZ(Gd,Gd,Z);jS(Gd,Gd,m);gZ(Gc,Gc,Z);jS(Gc,Gc,m);KE.bezierCurveTo(Gd[0],Gd[1],Gc[0],Gc[1],KB[0],KB[1]);xd(Gd,KB,Je,Kz*KJ)}else{KE.lineTo(KB[0],KB[1])}}v2=v3;v3+=KD}return KF}function k0(Z,m){var v=[Infinity,Infinity];var e=[-Infinity,-Infinity];if(m){for(var k=0;k<Z.length;k++){var on=Z[k];if(on[0]<v[0]){v[0]=on[0]}if(on[1]<v[1]){v[1]=on[1]}if(on[0]>e[0]){e[0]=on[0]}if(on[1]>e[1]){e[1]=on[1]}}}return{min:m?v:e,max:m?e:v}}var jm=nh.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:true,smoothMonotone:null,connectNulls:false},style:{fill:null,stroke:"#000"},brush:oe(nh.prototype.brush),buildPath:function(k,m){var on=m.points;var Z=0;var v=on.length;var e=k0(on,m.smoothConstraint);if(m.connectNulls){for(;v>0;v--){if(!DM(on[v-1])){break}}for(;Z<v;Z++){if(!DM(on[Z])){break}}}while(Z<v){Z+=wL(k,on,Z,v,v,1,e.min,e.max,m.smooth,m.smoothMonotone,m.connectNulls)+1}}});var jO=nh.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:true,smoothMonotone:null,connectNulls:false},brush:oe(nh.prototype.brush),buildPath:function(KA,on){var v3=on.points;var Z=on.stackedOnPoints;var v=0;var v2=v3.length;var v1=on.smoothMonotone;var Kz=k0(v3,on.smoothConstraint);var e=k0(Z,on.smoothConstraint);if(on.connectNulls){for(;v2>0;v2--){if(!DM(v3[v2-1])){break}}for(;v<v2;v++){if(!DM(v3[v])){break}}}while(v<v2){var m=wL(KA,v3,v,v2,v2,1,Kz.min,Kz.max,on.smooth,v1,on.connectNulls);wL(KA,Z,v+m-1,m,v2,-1,e.min,e.max,on.stackedOnSmooth,v1,on.connectNulls);v+=m+1;KA.closePath()}}});function nd(k,v,i){var v1=k.getArea();var v2=k.getBaseAxis().isHorizontal();var v3=v1.x;var on=v1.y;var e=v1.width;var Kz=v1.height;var m=i.get("lineStyle.width")||2;v3-=m/2;on-=m/2;e+=m;Kz+=m;v3=Math.floor(v3);e=Math.round(e);var Z=new GM({shape:{x:v3,y:on,width:e,height:Kz}});if(v){Z.shape[v2?"width":"height"]=0;kl(Z,{shape:{width:e,height:Kz}},i)}return Z}function cC(v,m,e){var i=v.getArea();var k=new uW({shape:{cx:HR(v.cx,1),cy:HR(v.cy,1),r0:HR(i.r0,1),r:HR(i.r,1),startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});if(m){k.shape.endAngle=i.startAngle;kl(k,{shape:{endAngle:i.endAngle}},e)}return k}function g6(i,k,e){if(!i){return null}else{if(i.type==="polar"){return cC(i,k,e)}else{if(i.type==="cartesian2d"){return nd(i,k,e)}}}return null}function yK(k,e){if(k.length!==e.length){return}for(var m=0;m<k.length;m++){var Z=k[m];var v=e[m];if(Z[0]!==v[0]||Z[1]!==v[1]){return}}return true}function q3(m,i){var Z=[];var k=[];var v=[];var e=[];pO(m,Z,k);pO(i,v,e);return Math.max(Math.abs(Z[0]-v[0]),Math.abs(Z[1]-v[1]),Math.abs(k[0]-e[0]),Math.abs(k[1]-e[1]))}function BH(e){return typeof(e)==="number"?e:(e?0.5:0)}function Fu(m,Z,k){if(!k.valueDim){return[]}var v=[];for(var i=0,e=Z.count();i<e;i++){v.push(aq(k,m,Z,i))}return v}function bf(v2,Z,m){var k=Z.getBaseAxis();var v1=k.dim==="x"||k.dim==="radius"?0:1;var e=[];for(var on=0;on<v2.length-1;on++){var KB=v2[on+1];var KA=v2[on];e.push(KA);var v=[];switch(m){case"end":v[v1]=KB[v1];v[1-v1]=KA[1-v1];e.push(v);break;case"middle":var Kz=(KA[v1]+KB[v1])/2;var v3=[];v[v1]=v3[v1]=Kz;v[1-v1]=KA[1-v1];v3[1-v1]=KB[1-v1];e.push(v);e.push(v3);break;default:v[v1]=KA[v1];v[1-v1]=KB[1-v1];e.push(v)}}v2[on]&&e.push(v2[on]);return e}function cB(KH,v2){var KC=KH.getVisual("visualMeta");if(!KC||!KC.length||!KH.count()){return}if(v2.type!=="cartesian2d"){if(pm){console.warn("Visual map on line style is only supported on cartesian2d.")}return}var KB;var KG;for(var KD=KC.length-1;KD>=0;KD--){var Kz=KC[KD].dimension;var v3=KH.dimensions[Kz];var v1=KH.getDimensionInfo(v3);KB=v1&&v1.coordDim;if(KB==="x"||KB==="y"){KG=KC[KD];break}}if(!KG){if(pm){console.warn("Visual map on line style only support x or y dimension.")}return}var Z=v2.getAxis(KB);var on=Gj(KG.stops,function(i){return{coord:Z.toGlobalCoord(Z.dataToCoord(i.value)),color:i.color}});var k=on.length;var KF=KG.outerColors.slice();if(k&&on[0].coord>on[k-1].coord){on.reverse();KF.reverse()}var e=10;var KA=on[0].coord-e;var KE=on[k-1].coord+e;var m=KE-KA;if(m<0.001){return"transparent"}qg(on,function(i){i.offset=(i.coord-KA)/m});on.push({offset:k?on[k-1].offset:0.5,color:KF[1]||"transparent"});on.unshift({offset:k?on[0].offset:0.5,color:KF[0]||"transparent"});var v=new v6(0,0,0,0,on,true);v[KB]=KA;v[KB+"2"]=KE;return v}function fd(k,on,m){var i=k.get("showAllSymbol");var e=i==="auto";if(i&&!e){return}var v1=m.getAxesByScale("ordinal")[0];if(!v1){return}if(e&&h9(v1,on)){return}var v=on.mapDimension(v1.dim);var Z={};qg(v1.getViewLabels(),function(v2){Z[v2.tickValue]=1});return function(v2){return !Z.hasOwnProperty(on.get(v,v2))}}function h9(Z,v){var on=Z.getExtent();var k=Math.abs(on[1]-on[0])/Z.scale.count();isNaN(k)&&(k=0);var i=v.count();var m=Math.max(1,Math.round(i/5));for(var e=0;e<i;e+=m){if(mG.getSymbolSize(v,e)[Z.isHorizontal()?1:0]*1.5>k){return false}}return true}function Kn(m,Z,i){if(m.type==="cartesian2d"){var on=m.getBaseAxis().isHorizontal();var v=nd(m,Z,i);if(!i.get("clip",true)){var k=v.shape;var e=Math.max(k.width,k.height);if(on){k.y-=e;k.height+=e*2}else{k.x-=e;k.width+=e*2}}return v}else{return cC(m,Z,i)}}dW.extend({type:"line",init:function(){var i=new D4();var e=new Hf();this.group.add(e.group);this._symbolDraw=e;this._lineGroup=i},render:function(KI,KR,KE){var v1=KI.coordinateSystem;var v2=this.group;var KQ=KI.getData();var KJ=KI.getModel("lineStyle");var KC=KI.getModel("areaStyle");var KL=KQ.mapArray(KQ.getItemLayout);var KN=v1.type==="polar";var v3=this._coordSys;var KM=this._symbolDraw;var KH=this._polyline;var KA=this._polygon;var KK=this._lineGroup;var i=KI.get("animation");var k=!KC.isEmpty();var KB=KC.get("origin");var m=yP(v1,KQ,KB);var Z=Fu(v1,KQ,m);var Kz=KI.get("showSymbol");var KD=Kz&&!KN&&fd(KI,KQ,v1);var KP=this._data;KP&&KP.eachItemGraphicEl(function(KT,KS){if(KT.__temp){v2.remove(KT);KP.setItemGraphicEl(KS,null)}});if(!Kz){KM.remove()}v2.add(KK);var on=!KN&&KI.get("step");var KG;if(v1&&v1.getArea&&KI.get("clip",true)){KG=v1.getArea();if(KG.width!=null){KG.x-=0.1;KG.y-=0.1;KG.width+=0.2;KG.height+=0.2}else{if(KG.r0){KG.r0-=0.5;KG.r1+=0.5}}}this._clipShapeForSymbol=KG;if(!(KH&&v3.type===v1.type&&on===this._step)){Kz&&KM.updateData(KQ,{isIgnore:KD,clipShape:KG});if(on){KL=bf(KL,v1,on);Z=bf(Z,v1,on)}KH=this._newPolyline(KL,v1,i);if(k){KA=this._newPolygon(KL,Z,v1,i)}KK.setClipPath(Kn(v1,true,KI))}else{if(k&&!KA){KA=this._newPolygon(KL,Z,v1,i)}else{if(KA&&!k){KK.remove(KA);KA=this._polygon=null}}KK.setClipPath(Kn(v1,false,KI));Kz&&KM.updateData(KQ,{isIgnore:KD,clipShape:KG});KQ.eachItemGraphicEl(function(KS){KS.stopAnimation(true)});if(!yK(this._stackedOnPoints,Z)||!yK(this._points,KL)){if(i){this._updateAnimation(KQ,Z,v1,KE,on,KB)}else{if(on){KL=bf(KL,v1,on);Z=bf(Z,v1,on)}KH.setShape({points:KL});KA&&KA.setShape({points:KL,stackedOnPoints:Z})}}}var v=cB(KQ,v1)||KQ.getVisual("color");KH.useStyle(Fg(KJ.getLineStyle(),{fill:"none",stroke:v,lineJoin:"bevel"}));var KF=KI.get("smooth");KF=BH(KI.get("smooth"));KH.setShape({smooth:KF,smoothMonotone:KI.get("smoothMonotone"),connectNulls:KI.get("connectNulls")});if(KA){var KO=KQ.getCalculationInfo("stackedOnSeries");var e=0;KA.useStyle(Fg(KC.getAreaStyle(),{fill:v,opacity:0.7,lineJoin:"bevel"}));if(KO){e=BH(KO.get("smooth"))}KA.setShape({smooth:KF,stackedOnSmooth:e,smoothMonotone:KI.get("smoothMonotone"),connectNulls:KI.get("connectNulls")})}this._data=KQ;this._coordSys=v1;this._stackedOnPoints=Z;this._points=KL;this._step=on;this._valueOrigin=KB},dispose:function(){},highlight:function(i,e,m,v1){var Z=i.getData();var k=yQ(Z,v1);if(!(k instanceof Array)&&k!=null&&k>=0){var v=Z.getItemGraphicEl(k);if(!v){var on=Z.getItemLayout(k);if(!on){return}if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(on[0],on[1])){return}v=new mG(Z,k);v.position=on;v.setZ(i.get("zlevel"),i.get("z"));v.ignore=isNaN(on[0])||isNaN(on[1]);v.__temp=true;Z.setItemGraphicEl(k,v);v.stopSymbolAnimation(true);this.group.add(v)}v.highlight()}else{dW.prototype.highlight.call(this,i,e,m,v1)}},downplay:function(i,e,m,on){var Z=i.getData();var k=yQ(Z,on);if(k!=null&&k>=0){var v=Z.getItemGraphicEl(k);if(v){if(v.__temp){Z.setItemGraphicEl(k,null);this.group.remove(v)}else{v.downplay()}}}else{dW.prototype.downplay.call(this,i,e,m,on)}},_newPolyline:function(i){var e=this._polyline;if(e){this._lineGroup.remove(e)}e=new jm({shape:{points:i},silent:true,z2:10});this._lineGroup.add(e);this._polyline=e;return e},_newPolygon:function(k,e){var i=this._polygon;if(i){this._lineGroup.remove(i)}i=new jO({shape:{points:k,stackedOnPoints:e},silent:true});this._lineGroup.add(i);this._polygon=i;return i},_updateAnimation:function(KI,k,v,KA,Z,v3){var KB=this._polyline;var v1=this._polygon;var KD=KI.hostModel;var Kz=xZ(this._data,KI,this._stackedOnPoints,k,this._coordSys,v,this._valueOrigin,v3);var KF=Kz.current;var KE=Kz.stackedOnCurrent;var KC=Kz.next;var m=Kz.stackedOnNext;if(Z){KF=bf(Kz.current,v,Z);KE=bf(Kz.stackedOnCurrent,v,Z);KC=bf(Kz.next,v,Z);m=bf(Kz.stackedOnNext,v,Z)}if(q3(KF,KC)>3000||(v1&&q3(KE,m)>3000)){KB.setShape({points:KC});if(v1){v1.setShape({points:KC,stackedOnPoints:m})}return}KB.shape.__points=Kz.current;KB.shape.points=KF;pZ(KB,{shape:{points:KC}},KD);if(v1){v1.setShape({points:KF,stackedOnPoints:KE});pZ(v1,{shape:{points:KC,stackedOnPoints:m}},KD)}var v2=[];var on=Kz.status;for(var KH=0;KH<on.length;KH++){var KG=on[KH].cmd;if(KG==="="){var e=KI.getItemGraphicEl(on[KH].idx1);if(e){v2.push({el:e,ptIdx:KH})}}}if(KB.animators&&KB.animators.length){KB.animators[0].during(function(){for(var KJ=0;KJ<v2.length;KJ++){var KK=v2[KJ].el;KK.attr("position",KB.shape.__points[v2[KJ].ptIdx])}})}},remove:function(e){var i=this.group;var k=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(true);k&&k.eachItemGraphicEl(function(v,m){if(v.__temp){i.remove(v);k.setItemGraphicEl(m,null)}});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var ng=function(e,i,k){return{seriesType:e,performRawSeries:true,reset:function(v1,KA,KB){var v3=v1.getData();var KG=v1.get("symbol");var on=v1.get("symbolSize");var Kz=v1.get("symbolKeepAspect");var KD=v1.get("symbolRotate");var v=Hb(KG);var KE=Hb(on);var KC=Hb(KD);var Z=v||KE||KC;var v2=(!v&&KG)?KG:i;var m=!KE?on:null;v3.setVisual({legendSymbol:k||v2,symbol:v2,symbolSize:m,symbolKeepAspect:Kz,symbolRotate:KD});if(KA.isSeriesFiltered(v1)){return}function KF(KK,KN){if(Z){var KJ=v1.getRawValue(KN);var KI=v1.getDataParams(KN);v&&KK.setItemVisual(KN,"symbol",KG(KJ,KI));KE&&KK.setItemVisual(KN,"symbolSize",on(KJ,KI));KC&&KK.setItemVisual(KN,"symbolRotate",KD(KJ,KI))}if(KK.hasItemOption){var KP=KK.getItemModel(KN);var KL=KP.getShallow("symbol",true);var KH=KP.getShallow("symbolSize",true);var KM=KP.getShallow("symbolRotate",true);var KO=KP.getShallow("symbolKeepAspect",true);if(KL!=null){KK.setItemVisual(KN,"symbol",KL)}if(KH!=null){KK.setItemVisual(KN,"symbolSize",KH)}if(KM!=null){KK.setItemVisual(KN,"symbolRotate",KM)}if(KO!=null){KK.setItemVisual(KN,"symbolKeepAspect",KO)}}}return{dataEach:(v3.hasItemOption||Z)?KF:null}}}};var rN=function(e){return{seriesType:e,plan:Gy(),reset:function(m){var Z=m.getData();var v=m.coordinateSystem;var v3=m.pipelineContext;var k=v3.large;if(!v){return}var v2=Gj(v.dimensions,function(Kz){return Z.mapDimension(Kz)}).slice(0,2);var v1=v2.length;var on=Z.getCalculationInfo("stackResultDimension");if(mM(Z,v2[0])){v2[0]=on}if(mM(Z,v2[1])){v2[1]=on}function i(KB,KD){var Kz=KB.end-KB.start;var KJ=k&&new Float32Array(Kz*v1);for(var KE=KB.start,KC=0,KF=[],KA=[];KE<KB.end;KE++){var KI;if(v1===1){var KH=KD.get(v2[0],KE);KI=!isNaN(KH)&&v.dataToPoint(KH,null,KA)}else{var KH=KF[0]=KD.get(v2[0],KE);var KG=KF[1]=KD.get(v2[1],KE);KI=!isNaN(KH)&&!isNaN(KG)&&v.dataToPoint(KF,null,KA)}if(k){KJ[KC++]=KI?KI[0]:NaN;KJ[KC++]=KI?KI[1]:NaN}else{KD.setItemLayout(KE,(KI&&KI.slice())||[NaN,NaN])}}k&&KD.setLayout("symbolPoints",KJ)}return v1&&{progress:i}}}};var qY={average:function(v){var k=0;var m=0;for(var e=0;e<v.length;e++){if(!isNaN(v[e])){k+=v[e];m++}}return m===0?NaN:k/m},sum:function(m){var k=0;for(var e=0;e<m.length;e++){k+=m[e]||0}return k},max:function(m){var e=-Infinity;for(var k=0;k<m.length;k++){m[k]>e&&(e=m[k])}return isFinite(e)?e:NaN},min:function(m){var k=Infinity;for(var e=0;e<m.length;e++){m[e]<k&&(k=m[e])}return isFinite(k)?k:NaN},nearest:function(e){return e[0]}};var Gh=function(i,e){return Math.round(i.length/2)};var y5=function(e){return{seriesType:e,modifyOutputEnd:true,reset:function(k,on,v1){var v=k.getData();var Z=k.get("sampling");var m=k.coordinateSystem;if(m.type==="cartesian2d"&&Z){var i=m.getBaseAxis();var Kz=m.getOtherAxis(i);var KA=i.getExtent();var KB=Math.abs(KA[1]-KA[0]);var v2=Math.round(v.count()/KB);if(v2>1){var v3;if(typeof Z==="string"){v3=qY[Z]}else{if(typeof Z==="function"){v3=Z}}if(v3){k.setData(v.downSample(v.mapDimension(Kz.dim),1/v2,v3,Gh))}}}}}};function GC(e){return this._axes[e]}var b4=function(e){this._axes={};this._dimList=[];this.name=e||""};b4.prototype={constructor:b4,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return Gj(this._dimList,GC,this)},getAxesByScale:function(e){e=e.toLowerCase();return sk(this.getAxes(),function(i){return i.scale.type===e})},addAxis:function(e){var i=e.dim;this._axes[i]=e;this._dimList.push(i)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(m,v1){var e=this._dimList;var k=m instanceof Array?[]:{};for(var v=0;v<e.length;v++){var on=e[v];var Z=this._axes[on];k[on]=Z[v1](m[on])}return k}};function Da(e){b4.call(this,e)}Da.prototype={constructor:Da,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var k=this.getAxis("x");var i=this.getAxis("y");return k.contain(k.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(v,e,k){var m=this.getAxis("x");var i=this.getAxis("y");k=k||[];k[0]=m.toGlobalCoord(m.dataToCoord(v[0]));k[1]=i.toGlobalCoord(i.dataToCoord(v[1]));return k},clampData:function(Z,k){var v=this.getAxis("x").scale;var m=this.getAxis("y").scale;var v1=v.getExtent();var i=m.getExtent();var e=v.parse(Z[0]);var on=m.parse(Z[1]);k=k||[];k[0]=Math.min(Math.max(Math.min(v1[0],v1[1]),e),Math.max(v1[0],v1[1]));k[1]=Math.min(Math.max(Math.min(i[0],i[1]),on),Math.max(i[0],i[1]));return k},pointToData:function(e,k){var m=this.getAxis("x");var i=this.getAxis("y");k=k||[];k[0]=m.coordToData(m.toLocalCoord(e[0]));k[1]=i.coordToData(i.toLocalCoord(e[1]));return k},getOtherAxis:function(e){return this.getAxis(e.dim==="x"?"y":"x")},getArea:function(){var k=this.getAxis("x").getGlobalExtent();var m=this.getAxis("y").getGlobalExtent();var i=Math.min(k[0],k[1]);var on=Math.min(m[0],m[1]);var v=Math.max(k[0],k[1])-i;var e=Math.max(m[0],m[1])-on;var Z=new EG(i,on,v,e);return Z}};nm(Da,b4);var EW=function(m,v,k,i,e){DO.call(this,m,v,k);this.type=i||"value";this.position=e||"bottom"};EW.prototype={constructor:EW,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var e=this.position;return e==="top"||e==="bottom"},getGlobalExtent:function(i){var e=this.getExtent();e[0]=this.toGlobalCoord(e[0]);e[1]=this.toGlobalCoord(e[1]);i&&e[0]>e[1]&&e.reverse();return e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(e,i){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),i)},toLocalCoord:null,toGlobalCoord:null};nm(EW,DO);var DA={show:true,zlevel:0,z:0,inverse:false,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:false,triggerEvent:false,tooltip:{show:false},axisPointer:{},axisLine:{show:true,onZero:true,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:true,inside:false,length:5,lineStyle:{width:1}},axisLabel:{show:true,inside:false,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:true,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var bT={};bT.categoryAxis=xF({boundaryGap:true,deduplication:null,splitLine:{show:false},axisTick:{alignWithLabel:false,interval:"auto"},axisLabel:{interval:"auto"}},DA);bT.valueAxis=xF({boundaryGap:[0,0],splitNumber:5,minorTick:{show:false,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:false,lineStyle:{color:"#eee",width:1}}},DA);bT.timeAxis=Fg({scale:true,min:"dataMin",max:"dataMax"},bT.valueAxis);bT.logAxis=Fg({scale:true,logBase:10},bT.valueAxis);var Kr=["value","category","time","log"];var nM=function(m,e,i,k){qg(Kr,function(v){e.extend({type:m+"Axis."+v,mergeDefaultAndTheme:function(on,Z){var v2=this.layoutMode;var v3=v2?hD(on):{};var v1=Z.getTheme();xF(on,v1.get(v+"Axis"));xF(on,this.getDefaultOption());on.type=i(m,on);if(v2){hP(on,v3,v2)}},optionUpdated:function(){var Z=this.option;if(Z.type==="category"){this.__ordinalMeta=mH.createByAxisModel(this)}},getCategories:function(on){var Z=this.option;if(Z.type==="category"){if(on){return Z.data}return this.__ordinalMeta.categories}},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:ae([{},bT[v+"Axis"],k],true)})});aO.registerSubTypeDefaulter(m+"Axis",tT(i,m))};var dz=aO.extend({type:"cartesian2dAxis",axis:null,init:function(){dz.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){dz.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){dz.superApply(this,"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function v9(i,e){return e.type||(e.data?"category":"value")}xF(dz.prototype,oz);var aN={offset:0};nM("x",dz,v9,aN);nM("y",dz,v9,aN);aO.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:false,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:false,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});function Bb(i,k,e){return i.getCoordSysModel()===k}function rc(k,e,i){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(k,e,i);this.model=k}var GE=rc.prototype;GE.type="grid";GE.axisPointerEnabled=true;GE.getRect=function(){return this._rect};GE.update=function(e,k){var i=this._axesMap;this._updateScale(e,this.model);qg(i.x,function(v){oM(v.scale,v.model)});qg(i.y,function(v){oM(v.scale,v.model)});var m={};qg(i.x,function(v){tS(i,"y",v,m)});qg(i.y,function(v){tS(i,"x",v,m)});this.resize(this.model,k)};function tS(Z,k,i,on){i.getAxesOnZeroOf=function(){return m?[m]:[]};var v1=Z[k];var m;var Kz=i.model;var v=Kz.get("axisLine.onZero");var e=Kz.get("axisLine.onZeroAxisIndex");if(!v){return}if(e!=null){if(Jz(v1[e])){m=v1[e]}}else{for(var v3 in v1){if(v1.hasOwnProperty(v3)&&Jz(v1[v3])&&!on[v2(v1[v3])]){m=v1[v3];break}}}if(m){on[v2(m)]=true}function v2(KA){return KA.dim+"_"+KA.index}}function Jz(e){return e&&e.type!=="category"&&e.type!=="time"&&C1(e)}GE.resize=function(v,k,e){var i=lL(v.getBoxLayoutParams(),{width:k.getWidth(),height:k.getHeight()});this._rect=i;var m=this._axesList;Z();if(!e&&v.get("containLabel")){qg(m,function(v1){if(!v1.model.get("axisLabel.inside")){var on=eW(v1);if(on){var v3=v1.isHorizontal()?"height":"width";var v2=v1.model.get("axisLabel.margin");i[v3]-=on[v3]+v2;if(v1.position==="top"){i.y+=on.height+v2}else{if(v1.position==="left"){i.x+=on.width+v2}}}}});Z()}function Z(){qg(m,function(v2){var v3=v2.isHorizontal();var v1=v3?[0,i.width]:[0,i.height];var on=v2.inverse?1:0;v2.setExtent(v1[on],v1[1-on]);Hp(v2,v3?i.x:i.y)})}};GE.getAxis=function(e,k){var m=this._axesMap[e];if(m!=null){if(k==null){for(var i in m){if(m.hasOwnProperty(i)){return m[i]}}}return m[k]}};GE.getAxes=function(){return this._axesList.slice()};GE.getCartesian=function(e,Z){if(e!=null&&Z!=null){var v="x"+e+"y"+Z;return this._coordsMap[v]}if(u7(e)){Z=e.yAxisIndex;e=e.xAxisIndex}for(var m=0,k=this._coordsList;m<k.length;m++){if(k[m].getAxis("x").index===e||k[m].getAxis("y").index===Z){return k[m]}}};GE.getCartesians=function(){return this._coordsList.slice()};GE.convertToPixel=function(e,m,i){var k=this._findConvertTarget(e,m);return k.cartesian?k.cartesian.dataToPoint(i):k.axis?k.axis.toGlobalCoord(k.axis.dataToCoord(i)):null};GE.convertFromPixel=function(e,m,i){var k=this._findConvertTarget(e,m);return k.cartesian?k.cartesian.pointToData(i):k.axis?k.axis.coordToData(k.axis.toLocalCoord(i)):null};GE._findConvertTarget=function(v1,i){var m=i.seriesModel;var v=i.xAxisModel||(m&&m.getReferringComponents("xAxis")[0]);var v2=i.yAxisModel||(m&&m.getReferringComponents("yAxis")[0]);var v3=i.gridModel;var Z=this._coordsList;var on;var k;if(m){on=m.coordinateSystem;fc(Z,on)<0&&(on=null)}else{if(v&&v2){on=this.getCartesian(v.componentIndex,v2.componentIndex)}else{if(v){k=this.getAxis("x",v.componentIndex)}else{if(v2){k=this.getAxis("y",v2.componentIndex)}else{if(v3){var e=v3.coordinateSystem;if(e===this){on=this._coordsList[0]}}}}}}return{cartesian:on,axis:k}};GE.containPoint=function(e){var i=this._coordsList[0];if(i){return i.containPoint(e)}};GE._initCartesian=function(Z,i,v){var m={left:false,right:false,top:false,bottom:false};var k={x:{},y:{}};var on={x:0,y:0};i.eachComponent("xAxis",e("x"),this);i.eachComponent("yAxis",e("y"),this);if(!on.x||!on.y){this._axesMap={};this._axesList=[];return}this._axesMap=k;qg(k.x,function(v2,v1){qg(k.y,function(v3,KA){var Kz="x"+v1+"y"+KA;var KB=new Da(Kz);KB.grid=this;KB.model=Z;this._coordsMap[Kz]=KB;this._coordsList.push(KB);KB.addAxis(v2);KB.addAxis(v3)},this)},this);function e(v1){return function(KA,v2){if(!Bb(KA,Z,i)){return}var Kz=KA.get("position");if(v1==="x"){if(Kz!=="top"&&Kz!=="bottom"){Kz=m.bottom?"top":"bottom"}}else{if(Kz!=="left"&&Kz!=="right"){Kz=m.left?"right":"left"}}m[Kz]=true;var KB=new EW(v1,om(KA),[0,0],KA.get("type"),Kz);var v3=KB.type==="category";KB.onBand=v3&&KA.get("boundaryGap");KB.inverse=KA.get("inverse");KA.axis=KB;KB.model=KA;KB.grid=this;KB.index=v2;this._axesList.push(KB);k[v1][v2]=KB;on[v1]++}}};GE._updateScale=function(e,i){qg(this._axesList,function(m){m.scale.setExtent(Infinity,-Infinity)});e.eachSeries(function(v){if(zp(v)){var v1=mf(v,e);var Z=v1[0];var on=v1[1];if(!Bb(Z,i,e)||!Bb(on,i,e)){return}var Kz=this.getCartesian(Z.componentIndex,on.componentIndex);var v3=v.getData();var v2=Kz.getAxis("x");var m=Kz.getAxis("y");if(v3.type==="list"){k(v3,v2,v);k(v3,m,v)}}},this);function k(Z,v,m){qg(Z.mapDimension(v.dim,true),function(on){v.scale.unionExtentFromData(Z,kk(Z,on))})}};GE.getTooltipAxes=function(i){var k=[];var e=[];qg(this.getCartesians(),function(Z){var v=(i!=null&&i!=="auto")?Z.getAxis(i):Z.getBaseAxis();var m=Z.getOtherAxis(v);fc(k,v)<0&&k.push(v);fc(e,m)<0&&e.push(m)});return{baseAxes:k,otherAxes:e}};function Hp(k,e){var m=k.getExtent();var i=m[0]+m[1];k.toGlobalCoord=k.dim==="x"?function(v){return v+e}:function(v){return i-v+e};k.toLocalCoord=k.dim==="x"?function(v){return v-e}:function(v){return i-v+e}}var re=["xAxis","yAxis"];function mf(i,e){return Gj(re,function(k){var m=i.getReferringComponents(k)[0];if(pm){if(!m){throw new Error(k+' "'+g1(i.get(k+"Index"),i.get(k+"Id"),0)+'" not found')}}return m})}function zp(e){return e.get("coordinateSystem")==="cartesian2d"}rc.create=function(e,i){var k=[];e.eachComponent("grid",function(Z,m){var v=new rc(Z,e,i);v.name="grid_"+m;v.resize(Z,i,true);Z.coordinateSystem=v;k.push(v)});e.eachSeries(function(m){if(!zp(m)){return}var v2=mf(m,e);var v=v2[0];var on=v2[1];var v1=v.getCoordSysModel();if(pm){if(!v1){throw new Error('Grid "'+g1(v.get("gridIndex"),v.get("gridId"),0)+'" not found')}if(v.getCoordSysModel()!==on.getCoordSysModel()){throw new Error("xAxis and yAxis must use the same grid")}}var Z=v1.coordinateSystem;m.coordinateSystem=Z.getCartesian(v.componentIndex,on.componentIndex)});return k};rc.dimensions=rc.prototype.dimensions=Da.prototype.dimensions;fZ.register("cartesian2d",rc);var Am=Math.PI;var dt=function(k,i){this.opt=i;this.axisModel=k;Fg(i,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:true});this.group=new D4();var e=new D4({position:i.position.slice(),rotation:i.rotation});e.updateTransform();this._transform=e.transform;this._dumbGroup=e};dt.prototype={constructor:dt,hasBuilder:function(e){return !!yi[e]},add:function(e){yi[e].call(this)},getGroup:function(){return this.group}};var yi={axisLine:function(){var e=this.opt;var v2=this.axisModel;if(!v2.get("axisLine.show")){return}var KA=this.axisModel.axis.getExtent();var v=this._transform;var v1=[KA[0],0];var Z=[KA[1],0];if(v){a5(v1,v1,v);a5(Z,Z,v)}var m=cc({lineCap:"round"},v2.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new Br({anid:"line",subPixelOptimize:true,shape:{x1:v1[0],y1:v1[1],x2:Z[0],y2:Z[1]},style:m,strokeContainThreshold:e.strokeContainThreshold||5,silent:true,z2:1}));var v3=v2.get("axisLine.symbol");var k=v2.get("axisLine.symbolSize");var on=v2.get("axisLine.symbolOffset")||0;if(typeof on==="number"){on=[on,on]}if(v3!=null){if(typeof v3==="string"){v3=[v3,v3]}if(typeof k==="string"||typeof k==="number"){k=[k,k]}var i=k[0];var Kz=k[1];qg([{rotate:e.rotation+Math.PI/2,offset:on[0],r:0},{rotate:e.rotation-Math.PI/2,offset:on[1],r:Math.sqrt((v1[0]-Z[0])*(v1[0]-Z[0])+(v1[1]-Z[1])*(v1[1]-Z[1]))}],function(KB,KC){if(v3[KC]!=="none"&&v3[KC]!=null){var KE=vz(v3[KC],-i/2,-Kz/2,i,Kz,m.stroke,true);var KD=KB.r+KB.offset;var KF=[v1[0]+KD*Math.cos(e.rotation),v1[1]-KD*Math.sin(e.rotation)];KE.attr({rotation:KB.rotate,position:KF,silent:true,z2:11});this.group.add(KE)}},this)}},axisTickLabel:function(){var m=this.axisModel;var k=this.opt;var e=fy(this,m,k);var i=wA(this,m,k);IO(m,i,e);oj(this,m,k)},axisName:function(){var i=this.opt;var Z=this.axisModel;var KK=g1(i.axisName,Z.get("name"));if(!KK){return}var KC=Z.get("nameLocation");var v3=i.nameDirection;var v=Z.getModel("nameTextStyle");var KA=Z.get("nameGap")||0;var v1=this.axisModel.axis.getExtent();var v2=v1[0]>v1[1]?-1:1;var k=[KC==="start"?v1[0]-v2*KA:KC==="end"?v1[1]+v2*KA:(v1[0]+v1[1])/2,oZ(KC)?i.labelOffset+v3*KA:0];var m;var on=Z.get("nameRotate");if(on!=null){on=on*Am/180}var KF;if(oZ(KC)){m=oI(i.rotation,on!=null?on:i.rotation,v3)}else{m=oo(i,KC,on||0,v1);KF=i.axisNameAvailableWidth;if(KF!=null){KF=Math.abs(KF/Math.sin(m.rotation));!isFinite(KF)&&(KF=null)}}var Kz=v.getFont();var KJ=Z.get("nameTruncate",true)||{};var e=KJ.ellipsis;var KD=g1(i.nameTruncateMaxWidth,KJ.maxWidth,KF);var KH=(e!=null&&KD!=null)?hN(KK,KD,Kz,e,{minChar:2,placeholder:KJ.placeholder}):KK;var KG=Z.get("tooltip",true);var KE=Z.mainType;var KI={componentType:KE,name:KK,$vars:["name"]};KI[KE+"Index"]=Z.componentIndex;var KB=new jv({anid:"name",__fullText:KK,__truncatedText:KH,position:k,rotation:m.rotation,silent:Ik(Z),z2:1,tooltip:(KG&&KG.show)?cc({content:KK,formatter:function(){return KK},formatterParams:KI},KG):null});ql(KB.style,v,{text:KH,textFont:Kz,textFill:v.getTextColor()||Z.get("axisLine.lineStyle.color"),textAlign:v.get("align")||m.textAlign,textVerticalAlign:v.get("verticalAlign")||m.textVerticalAlign});if(Z.get("triggerEvent")){KB.eventData=xH(Z);KB.eventData.targetType="axisName";KB.eventData.name=KK}this._dumbGroup.add(KB);KB.updateTransform();this.group.add(KB);KB.decomposeTransform()}};var xH=dt.makeAxisEventDataBase=function(e){var i={componentType:e.mainType,componentIndex:e.componentIndex};i[e.mainType+"Index"]=e.componentIndex;return i};var oI=dt.innerTextLayout=function(Z,i,v){var m=sM(i-Z);var k;var e;if(we(m)){e=v>0?"top":"bottom";k="center"}else{if(we(m-Am)){e=v>0?"bottom":"top";k="center"}else{e="middle";if(m>0&&m<Am){k=v>0?"right":"left"}else{k=v>0?"left":"right"}}}return{rotation:m,textAlign:k,textVerticalAlign:e}};function oo(i,v2,v,v1){var m=sM(v-i.rotation);var k;var on;var Z=v1[0]>v1[1];var e=(v2==="start"&&!Z)||(v2!=="start"&&Z);if(we(m-Am/2)){on=e?"bottom":"top";k="center"}else{if(we(m-Am*1.5)){on=e?"top":"bottom";k="center"}else{on="middle";if(m<Am*1.5&&m>Am/2){k=e?"left":"right"}else{k=e?"right":"left"}}}return{rotation:m,textAlign:k,textVerticalAlign:on}}var Ik=dt.isLabelSilent=function(i){var e=i.get("tooltip");return i.get("silent")||!(i.get("triggerEvent")||(e&&e.show))};function IO(Kz,KA,e){if(Dl(Kz.axis)){return}var KB=Kz.get("axisLabel.showMinLabel");var v3=Kz.get("axisLabel.showMaxLabel");KA=KA||[];e=e||[];var v=KA[0];var v1=KA[1];var v2=KA[KA.length-1];var Z=KA[KA.length-2];var i=e[0];var on=e[1];var m=e[e.length-1];var k=e[e.length-2];if(KB===false){tY(v);tY(i)}else{if(Bo(v,v1)){if(KB){tY(v1);tY(on)}else{tY(v);tY(i)}}}if(v3===false){tY(v2);tY(m)}else{if(Bo(Z,v2)){if(v3){tY(Z);tY(k)}else{tY(v2);tY(m)}}}}function tY(e){e&&(e.ignore=true)}function Bo(Z,m,i){var v=Z&&Z.getBoundingRect().clone();var e=m&&m.getBoundingRect().clone();if(!v||!e){return}var k=mF([]);k5(k,k,-Z.rotation);v.applyTransform(n([],k,Z.getLocalTransform()));e.applyTransform(n([],k,m.getLocalTransform()));return v.intersect(e)}function oZ(e){return e==="middle"||e==="center"}function hx(on,v1,v,v2,Kz){var k=[];var KA=[];var v3=[];for(var Z=0;Z<on.length;Z++){var e=on[Z].coord;KA[0]=e;KA[1]=0;v3[0]=e;v3[1]=v;if(v1){a5(KA,KA,v1);a5(v3,v3,v1)}var m=new Br({anid:Kz+"_"+on[Z].tickValue,subPixelOptimize:true,shape:{x1:KA[0],y1:KA[1],x2:v3[0],y2:v3[1]},style:v2,z2:2,silent:true});k.push(m)}return k}function fy(on,v3,e){var k=v3.axis;var Kz=v3.getModel("axisTick");if(!Kz.get("show")||k.scale.isBlank()){return}var v1=Kz.getModel("lineStyle");var m=e.tickDirection*Kz.get("length");var v2=k.getTicksCoords();var Z=hx(v2,on._transform,m,Fg(v1.getLineStyle(),{stroke:v3.get("axisLine.lineStyle.color")}),"ticks");for(var v=0;v<Z.length;v++){on.group.add(Z[v])}return Z}function oj(Kz,KC,e){var m=KC.axis;var v3=KC.getModel("minorTick");if(!v3.get("show")||m.scale.isBlank()){return}var on=m.getMinorTicksCoords();if(!on.length){return}var KA=v3.getModel("lineStyle");var v1=e.tickDirection*v3.get("length");var v=Fg(KA.getLineStyle(),Fg(KC.getModel("axisTick").getLineStyle(),{stroke:KC.get("axisLine.lineStyle.color")}));for(var v2=0;v2<on.length;v2++){var KB=hx(on[v2],Kz._transform,v1,v,"minorticks_"+v2);for(var Z=0;Z<KB.length;Z++){Kz.group.add(KB[Z])}}}function wA(Z,Kz,e){var i=Kz.axis;var v2=g1(e.axisLabelShow,Kz.get("axisLabel.show"));if(!v2||i.scale.isBlank()){return}var KC=Kz.getModel("axisLabel");var v1=KC.get("margin");var k=i.getViewLabels();var KA=(g1(e.labelRotate,KC.get("rotate"))||0)*Am/180;var KB=oI(e.rotation,KA,e.labelDirection);var v=Kz.getCategories&&Kz.getCategories(true);var v3=[];var m=Ik(Kz);var on=Kz.get("triggerEvent");qg(k,function(KE,KI){var KG=KE.tickValue;var KH=KE.formattedLabel;var KF=KE.rawLabel;var KK=KC;if(v&&v[KG]&&v[KG].textStyle){KK=new fV(v[KG].textStyle,KC,Kz.ecModel)}var KL=KK.getTextColor()||Kz.get("axisLine.lineStyle.color");var KD=i.dataToCoord(KG);var KJ=[KD,e.labelOffset+e.labelDirection*v1];var KM=new jv({anid:"label_"+KG,position:KJ,rotation:KB.rotation,silent:m,z2:10});ql(KM.style,KK,{text:KH,textAlign:KK.getShallow("align",true)||KB.textAlign,textVerticalAlign:KK.getShallow("verticalAlign",true)||KK.getShallow("baseline",true)||KB.textVerticalAlign,textFill:typeof KL==="function"?KL(i.type==="category"?KF:i.type==="value"?KG+"":KG,KI):KL});if(on){KM.eventData=xH(Kz);KM.eventData.targetType="axisLabel";KM.eventData.value=KF}Z._dumbGroup.add(KM);KM.updateTransform();v3.push(KM);Z.group.add(KM);KM.decomposeTransform()});return v3}var p8=qg;var vM=tT;function iW(i,k){var e={axesInfo:{},seriesInvolved:false,coordSysAxesInfo:{},coordSysMap:{}};ff(e,i,k);e.seriesInvolved&&Jx(e,i);return e}function ff(i,e,v){var m=e.getComponent("tooltip");var on=e.getComponent("axisPointer");var Z=on.get("link",true)||[];var k=[];p8(v.getCoordinateSystems(),function(KB){if(!KB.axisPointerEnabled){return}var v3=IM(KB.model);var Kz=i.coordSysAxesInfo[v3]={};i.coordSysMap[v3]=KB;var KA=KB.model;var KC=KA.getModel("tooltip",m);p8(KB.getAxes(),vM(v1,false,null));if(KB.getTooltipAxes&&m&&KC.get("show")){var KE=KC.get("trigger")==="axis";var KD=KC.get("axisPointer.type")==="cross";var v2=KB.getTooltipAxes(KC.get("axisPointer.axis"));if(KE||KD){p8(v2.baseAxes,vM(v1,KD?"cross":true,KE))}if(KD){p8(v2.otherAxes,vM(v1,"cross",false))}}function v1(KG,KI,KH){var KM=KH.model.getModel("axisPointer",on);var KP=KM.get("show");if(!KP||(KP==="auto"&&!KG&&!fh(KM))){return}if(KI==null){KI=KM.get("triggerTooltip")}KM=KG?ox(KH,KC,on,e,KG,KI):KM;var KJ=KM.get("snap");var KO=IM(KH.model);var KL=KI||KJ||KH.type==="category";var KK=i.axesInfo[KO]={key:KO,axis:KH,coordSys:KB,axisPointerModel:KM,triggerTooltip:KI,involveSeries:KL,snap:KJ,useHandle:fh(KM),seriesModels:[]};Kz[KO]=KK;i.seriesInvolved|=KL;var KN=Ha(Z,KH);if(KN!=null){var KF=k[KN]||(k[KN]={axesInfo:{}});KF.axesInfo[KO]=KK;KF.mapper=Z[KN].mapper;KK.linkGroup=KF}}})}function ox(i,Z,v,v1,e,k){var m=Z.getModel("axisPointer");var on={};p8(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(KA){on[KA]=E5(m.get(KA))});on.snap=i.type!=="category"&&!!k;if(m.get("type")==="cross"){on.type="line"}var Kz=on.label||(on.label={});Kz.show==null&&(Kz.show=false);if(e==="cross"){var v3=m.get("label.show");Kz.show=v3!=null?v3:true;if(!k){var v2=on.lineStyle=m.get("crossStyle");v2&&Fg(Kz,v2.textStyle)}}return i.model.getModel("axisPointer",new fV(on,v,v1))}function Jx(i,e){e.eachSeries(function(k){var v=k.coordinateSystem;var m=k.get("tooltip.trigger",true);var Z=k.get("tooltip.show",true);if(!v||m==="none"||m===false||m==="item"||Z===false||k.get("axisPointer.show",true)===false){return}p8(i.coordSysAxesInfo[IM(v.model)],function(on){var v1=on.axis;if(v.getAxis(v1.dim)===v1){on.seriesModels.push(k);on.seriesDataCount==null&&(on.seriesDataCount=0);on.seriesDataCount+=k.getData().count()}})},this)}function Ha(on,m){var k=m.model;var Z=m.dim;for(var e=0;e<on.length;e++){var v=on[e]||{};if(rl(v[Z+"AxisId"],k.id)||rl(v[Z+"AxisIndex"],k.componentIndex)||rl(v[Z+"AxisName"],k.name)){return e}}}function rl(i,e){return i==="all"||(IQ(i)&&fc(i,e)>=0)||i===e}function ro(v1){var i=Fw(v1);if(!i){return}var Z=i.axisPointerModel;var e=i.axis.scale;var v=Z.option;var k=Z.get("status");var on=Z.get("value");if(on!=null){on=e.parse(on)}var m=fh(Z);if(k==null){v.status=m?"show":"hide"}var v2=e.getExtent().slice();v2[0]>v2[1]&&v2.reverse();if(on==null||on>v2[1]){on=v2[1]}if(on<v2[0]){on=v2[0]}v.value=on;if(m){v.status=i.axis.scale.isBlank()?"hide":"show"}}function Fw(e){var i=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return i&&i.axesInfo[IM(e)]}function tW(i){var e=Fw(i);return e&&e.axisPointerModel}function fh(e){return !!e.get("handle.show")}function IM(e){return e.type+"||"+e.id}var gv=rL({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(i,e,k,m){this.axisPointerClass&&ro(i);gv.superApply(this,"render",arguments);Gm(this,i,e,k,m,true)},updateAxisPointer:function(i,e,k,v,m){Gm(this,i,e,k,v,false)},remove:function(e,k){var i=this._axisPointer;i&&i.remove(k);gv.superApply(this,"remove",arguments)},dispose:function(e,i){mW(this,i);gv.superApply(this,"dispose",arguments)}});function Gm(v,i,e,k,Z,v1){var on=gv.getAxisPointerClass(v.axisPointerClass);if(!on){return}var m=tW(i);m?(v._axisPointer||(v._axisPointer=new on())).render(i,m,k,v1):mW(v,k)}function mW(m,e,k){var i=m._axisPointer;i&&i.dispose(e,k);m._axisPointer=null}var Dk=[];gv.registerAxisPointerClass=function(i,e){if(pm){if(Dk[i]){throw new Error("axisPointer "+i+" exists")}}Dk[i]=e};gv.getAxisPointerClass=function(e){return e&&Dk[e]};function eE(v3,Kz,k){k=k||{};var i=v3.coordinateSystem;var v=Kz.axis;var KG={};var v2=v.getAxesOnZeroOf()[0];var e=v.position;var KA=v2?"onZero":e;var KC=v.dim;var m=i.getRect();var KB=[m.x,m.x+m.width,m.y,m.y+m.height];var KD={left:0,right:1,top:0,bottom:1,onZero:2};var Z=Kz.get("offset")||0;var KE=KC==="x"?[KB[2]-Z,KB[3]+Z]:[KB[0]-Z,KB[1]+Z];if(v2){var v1=v2.toGlobalCoord(v2.dataToCoord(0));KE[KD.onZero]=Math.max(Math.min(v1,KE[1]),KE[0])}KG.position=[KC==="y"?KE[KD[KA]]:KB[0],KC==="x"?KE[KD[KA]]:KB[3]];KG.rotation=Math.PI/2*(KC==="x"?0:1);var on={top:-1,bottom:1,left:-1,right:1};KG.labelDirection=KG.tickDirection=KG.nameDirection=on[e];KG.labelOffset=v2?KE[KD[e]]-KE[KD.onZero]:0;if(Kz.get("axisTick.inside")){KG.tickDirection=-KG.tickDirection}if(g1(k.labelInside,Kz.get("axisLabel.inside"))){KG.labelDirection=-KG.labelDirection}var KF=Kz.get("axisLabel.rotate");KG.labelRotate=KA==="top"?-KF:KF;KG.z2=1;return KG}function bD(KJ,KD,on,Z){var k=on.axis;if(k.scale.isBlank()){return}var KI=on.getModel("splitArea");var KC=KI.getModel("areaStyle");var e=KC.get("color");var KM=Z.coordinateSystem.getRect();var KB=k.getTicksCoords({tickModel:KI,clamp:true});if(!KB.length){return}var v=e.length;var KL=KJ.__splitAreaColors;var KN=EI();var m=0;if(KL){for(var KK=0;KK<KB.length;KK++){var KH=KL.get(KB[KK].tickValue);if(KH!=null){m=(KH+(v-1)*KK)%v;break}}}var KF=k.toGlobalCoord(KB[0].coord);var KA=KC.getAreaStyle();e=IQ(e)?e:[e];for(var KK=1;KK<KB.length;KK++){var v3=k.toGlobalCoord(KB[KK].coord);var Kz;var v2;var KG;var KE;if(k.isHorizontal()){Kz=KF;v2=KM.y;KG=v3-Kz;KE=KM.height;KF=Kz+KG}else{Kz=KM.x;v2=KF;KG=KM.width;KE=v3-v2;KF=v2+KE}var v1=KB[KK-1].tickValue;v1!=null&&KN.set(v1,m);KD.add(new GM({anid:v1!=null?"area_"+v1:null,shape:{x:Kz,y:v2,width:KG,height:KE},style:Fg({fill:e[m]},KA),silent:true}));m=(m+1)%v}KJ.__splitAreaColors=KN}function Ds(e){e.__splitAreaColors=null}var Ie=["axisLine","axisTickLabel","axisName"];var ko=["splitArea","splitLine","minorSplitLine"];var pi=gv.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(i,e,m,v1){this.group.removeAll();var k=this._axisGroup;this._axisGroup=new D4();this.group.add(this._axisGroup);if(!i.get("show")){return}var Z=i.getCoordSysModel();var v=eE(Z,i);var on=new dt(i,v);qg(Ie,on.add,on);this._axisGroup.add(on.getGroup());qg(ko,function(v2){if(i.get(v2+".show")){this["_"+v2](i,Z)}},this);F(k,this._axisGroup,i);pi.superCall(this,"render",i,e,m,v1)},remove:function(){Ds(this)},_splitLine:function(KC,KF){var v=KC.axis;if(v.scale.isBlank()){return}var m=KC.getModel("splitLine");var v3=m.getModel("lineStyle");var KG=v3.get("color");KG=IQ(KG)?KG:[KG];var e=KF.coordinateSystem.getRect();var Kz=v.isHorizontal();var KE=0;var v2=v.getTicksCoords({tickModel:m});var KD=[];var KB=[];var v1=v3.getLineStyle();for(var on=0;on<v2.length;on++){var k=v.toGlobalCoord(v2[on].coord);if(Kz){KD[0]=k;KD[1]=e.y;KB[0]=k;KB[1]=e.y+e.height}else{KD[0]=e.x;KD[1]=k;KB[0]=e.x+e.width;KB[1]=k}var KA=(KE++)%KG.length;var Z=v2[on].tickValue;this._axisGroup.add(new Br({anid:Z!=null?"line_"+v2[on].tickValue:null,subPixelOptimize:true,shape:{x1:KD[0],y1:KD[1],x2:KB[0],y2:KB[1]},style:Fg({stroke:KG[KA]},v1),silent:true}))}},_minorSplitLine:function(KC,KE){var v=KC.axis;var Z=KC.getModel("minorSplitLine");var Kz=Z.getModel("lineStyle");var e=KE.coordinateSystem.getRect();var KA=v.isHorizontal();var v1=v.getMinorTicksCoords();if(!v1.length){return}var KD=[];var KB=[];var v3=Kz.getLineStyle();for(var v2=0;v2<v1.length;v2++){for(var on=0;on<v1[v2].length;on++){var m=v.toGlobalCoord(v1[v2][on].coord);if(KA){KD[0]=m;KD[1]=e.y;KB[0]=m;KB[1]=e.y+e.height}else{KD[0]=e.x;KD[1]=m;KB[0]=e.x+e.width;KB[1]=m}this._axisGroup.add(new Br({anid:"minor_line_"+v1[v2][on].tickValue,subPixelOptimize:true,shape:{x1:KD[0],y1:KD[1],x2:KB[0],y2:KB[1]},style:v3,silent:true}))}}},_splitArea:function(e,i){bD(this,this._axisGroup,e,i)}});pi.extend({type:"xAxis"});pi.extend({type:"yAxis"});rL({type:"grid",render:function(i,e){this.group.removeAll();if(i.get("show")){this.group.add(new GM({shape:i.coordinateSystem.getRect(),style:Fg({fill:i.get("backgroundColor")},i.getItemStyle()),silent:true,z2:-1}))}}});AO(function(e){if(e.xAxis&&e.yAxis&&!e.grid){e.grid={}}});H(ng("line","circle","line"));qz(rN("line"));ex(D2.PROCESSOR.STATISTIC,y5("line"));var yp=oW.extend({type:"series.__base_bar__",getInitialData:function(i,e){return b(this.getSource(),this,{useEncodeDefaulter:true})},getMarkerPosition:function(v){var k=this.coordinateSystem;if(k){var Z=k.dataToPoint(k.clampData(v));var m=this.getData();var on=m.getLayout("offset");var i=m.getLayout("size");var e=k.getBaseAxis().isHorizontal()?0:1;Z[e]+=on+i/2;return Z}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,barMinHeight:0,barMinAngle:0,large:false,largeThreshold:400,progressive:3000,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});yp.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return this.get("large")?this.get("progressive"):false},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold");var i=this.get("largeThreshold");if(i>e){e=i}return e},defaultOption:{clip:true,roundCap:false,showBackground:false,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});function GP(e,i,v1,m,k,Z,on){var v2=v1.getModel("label");var v=v1.getModel("emphasis.label");Dz(e,i,v2,v,{labelFetcher:k,labelDataIndex:Z,defaultText:eh(k.getData(),Z),isRectText:true,autoColor:m});np(e);np(i)}function np(i,e){if(i.textPosition==="outside"){i.textPosition=e}}var zf=Ax([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var JG={getBarItemStyle:function(k){var i=zf(this,k);if(this.getBorderLineDash){var e=this.getBorderLineDash();e&&(i.lineDash=e)}return i}};var bb=JJ({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:true},buildPath:function(KD,Kz){var KB=Kz.cx;var KA=Kz.cy;var Z=Math.max(Kz.r0||0,0);var e=Math.max(Kz.r,0);var v=(e-Z)*0.5;var k=Z+v;var v3=Kz.startAngle;var m=Kz.endAngle;var i=Kz.clockwise;var v2=Math.cos(v3);var v1=Math.sin(v3);var KE=Math.cos(m);var KC=Math.sin(m);var on=i?m-v3<Math.PI*2:v3-m<Math.PI*2;if(on){KD.moveTo(v2*Z+KB,v1*Z+KA);KD.arc(v2*k+KB,v1*k+KA,v,-Math.PI+v3,v3,!i)}KD.arc(KB,KA,e,v3,m,!i);KD.moveTo(KE*e+KB,KC*e+KA);KD.arc(KE*k+KB,KC*k+KA,v,m-Math.PI*2,m-Math.PI,!i);if(Z!==0){KD.arc(KB,KA,Z,m,v3,i);KD.moveTo(v2*Z+KB,KC*Z+KA)}KD.closePath()}});var Ci=["itemStyle","barBorderWidth"];var zz=[0,0];cc(fV.prototype,JG);function ak(v,m){var e=v.getArea&&v.getArea();if(v.type==="cartesian2d"){var k=v.getBaseAxis();if(k.type!=="category"||!k.onBand){var i=m.getLayout("bandWidth");if(k.isHorizontal()){e.x-=i;e.width+=i*2}else{e.y-=i;e.height+=i*2}}}return e}DH({type:"bar",render:function(i,e,k){this._updateDrawMode(i);var m=i.get("coordinateSystem");if(m==="cartesian2d"||m==="polar"){this._isLargeDraw?this._renderLarge(i,e,k):this._renderNormal(i,e,k)}else{if(pm){console.warn("Only cartesian2d and polar supported for bar.")}}return this.group},incrementalPrepareRender:function(i,e,k){this._clear();this._updateDrawMode(i)},incrementalRender:function(m,i,e,k){this._incrementalRenderLarge(m,i)},_updateDrawMode:function(i){var e=i.pipelineContext.large;if(this._isLargeDraw==null||e^this._isLargeDraw){this._isLargeDraw=e;this._clear()}},_renderNormal:function(KB,KK,v3){var Z=this.group;var KJ=KB.getData();var KI=this._data;var KD=KB.coordinateSystem;var v2=KD.getBaseAxis();var v1;if(KD.type==="cartesian2d"){v1=v2.isHorizontal()}else{if(KD.type==="polar"){v1=v2.dim==="angle"}}var v=KB.isAnimationEnabled()?KB:null;var e=KB.get("clip",true);var on=ak(KD,KJ);Z.removeClipPath();var KA=KB.get("roundCap",true);var Kz=KB.get("showBackground",true);var KC=KB.getModel("backgroundStyle");var KG=KC.get("barBorderRadius")||0;var m=[];var k=this._backgroundEls||[];var KF=function(i){var KM=lO[KD.type](KJ,i);var KL=G0(KD,v1,KM);KL.useStyle(KC.getBarItemStyle());if(KD.type==="cartesian2d"){KL.setShape("r",KG)}m[i]=KL;return KL};KJ.diff(KI).add(function(KL){var KN=KJ.getItemModel(KL);var KO=lO[KD.type](KJ,KL,KN);if(Kz){KF(KL)}if(!KJ.hasValue(KL)){return}if(e){var i=A1[KD.type](on,KO);if(i){Z.remove(KM);return}}var KM=ay[KD.type](KL,KO,v1,v,false,KA);KJ.setItemGraphicEl(KL,KM);Z.add(KM);Dm(KM,KJ,KL,KN,KO,KB,v1,KD.type==="polar")}).update(function(KR,KP){var KS=KJ.getItemModel(KR);var KN=lO[KD.type](KJ,KR,KS);if(Kz){var KL;if(k.length===0){KL=KF(KP)}else{KL=k[KP];KL.useStyle(KC.getBarItemStyle());if(KD.type==="cartesian2d"){KL.setShape("r",KG)}m[KR]=KL}var i=lO[KD.type](KJ,KR);var KO=Ao(v1,i,KD);pZ(KL,{shape:KO},v,KR)}var KM=KI.getItemGraphicEl(KP);if(!KJ.hasValue(KR)){Z.remove(KM);return}if(e){var KQ=A1[KD.type](on,KN);if(KQ){Z.remove(KM);return}}if(KM){pZ(KM,{shape:KN},v,KR)}else{KM=ay[KD.type](KR,KN,v1,v,true,KA)}KJ.setItemGraphicEl(KR,KM);Z.add(KM);Dm(KM,KJ,KR,KS,KN,KB,v1,KD.type==="polar")}).remove(function(i){var KL=KI.getItemGraphicEl(i);if(KD.type==="cartesian2d"){KL&&sD(i,v,KL)}else{KL&&vw(i,v,KL)}}).execute();var KH=this._backgroundGroup||(this._backgroundGroup=new D4());KH.removeAll();for(var KE=0;KE<m.length;++KE){KH.add(m[KE])}Z.add(KH);this._backgroundEls=m;this._data=KJ},_renderLarge:function(i,e,k){this._clear();JI(i,this.group);var m=i.get("clip",true)?g6(i.coordinateSystem,false,i):null;if(m){this.group.setClipPath(m)}else{this.group.removeClipPath()}},_incrementalRenderLarge:function(i,e){this._removeBackground();JI(e,this.group,true)},dispose:Y,remove:function(e){this._clear(e)},_clear:function(e){var k=this.group;var i=this._data;if(e&&e.get("animation")&&i&&!this._isLargeDraw){this._removeBackground();this._backgroundEls=[];i.eachItemGraphicEl(function(m){if(m.type==="sector"){vw(m.dataIndex,e,m)}else{sD(m.dataIndex,e,m)}})}else{k.removeAll()}this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup);this._backgroundGroup=null}});var CD=Math.max;var kd=Math.min;var A1={cartesian2d:function(v1,m){var k=m.width<0?-1:1;var v2=m.height<0?-1:1;if(k<0){m.x+=m.width;m.width=-m.width}if(v2<0){m.y+=m.height;m.height=-m.height}var on=CD(m.x,v1.x);var e=kd(m.x+m.width,v1.x+v1.width);var v=CD(m.y,v1.y);var Z=kd(m.y+m.height,v1.y+v1.height);m.x=on;m.y=v;m.width=e-on;m.height=Z-v;var i=m.width<0||m.height<0;if(k<0){m.x+=m.width;m.width=-m.width}if(v2<0){m.y+=m.height;m.height=-m.height}return i},polar:function(k,Z){var i=Z.r0<=Z.r?1:-1;if(i<0){var v=Z.r;Z.r=Z.r0;Z.r0=v}var v=kd(Z.r,k.r);var m=CD(Z.r0,k.r0);Z.r=v;Z.r0=m;var e=v-m<0;if(i<0){var v=Z.r;Z.r=Z.r0;Z.r0=v}return e}};var ay={cartesian2d:function(on,i,Z,k,v2){var v=new GM({shape:cc({},i),z2:1});v.name="item";if(k){var v1=v.shape;var m=Z?"height":"width";var e={};v1[m]=0;e[m]=i[m];zV[v2?"updateProps":"initProps"](v,{shape:e},k,on)}return v},polar:function(v2,v,m,Z,KA,v3){var e=v.startAngle<v.endAngle;var on=(!m&&v3)?bb:uW;var k=new on({shape:Fg({clockwise:e},v),z2:1});k.name="item";if(Z){var Kz=k.shape;var v1=m?"r":"endAngle";var i={};Kz[v1]=m?0:v.startAngle;i[v1]=v[v1];zV[KA?"updateProps":"initProps"](k,{shape:i},Z,v2)}return k}};function sD(i,e,k){k.style.text=null;pZ(k,{shape:{width:0}},e,i,function(){k.parent&&k.parent.remove(k)})}function vw(i,e,k){k.style.text=null;pZ(k,{shape:{r:k.shape.r0}},e,i,function(){k.parent&&k.parent.remove(k)})}var lO={cartesian2d:function(Z,e,k){var v=Z.getItemLayout(e);var on=k?w1(k,v):0;var m=v.width>0?1:-1;var i=v.height>0?1:-1;return{x:v.x+m*on/2,y:v.y+i*on/2,width:v.width-m*on,height:v.height-i*on}},polar:function(m,e,i){var k=m.getItemLayout(e);return{cx:k.cx,cy:k.cy,r0:k.r0,r:k.r,startAngle:k.startAngle,endAngle:k.endAngle}}};function jE(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function Dm(e,Z,Kz,KC,on,k,v3,KD){var m=Z.getItemVisual(Kz,"color");var v1=Z.getItemVisual(Kz,"opacity");var KB=Z.getVisual("borderColor");var v=KC.getModel("itemStyle");var i=KC.getModel("emphasis.itemStyle").getBarItemStyle();if(!KD){e.setShape("r",v.get("barBorderRadius")||0)}e.useStyle(Fg({stroke:jE(on)?"none":KB,fill:jE(on)?"none":m,opacity:v1},v.getBarItemStyle()));var KA=KC.getShallow("cursor");KA&&e.attr("cursor",KA);var v2=v3?(on.height>0?"bottom":"top"):(on.width>0?"left":"right");if(!KD){GP(e.style,i,KC,m,k,Kz,v2)}if(jE(on)){i.fill=i.stroke="none"}z3(e,i)}function w1(m,v){var i=m.get(Ci)||0;var k=isNaN(v.width)?Number.MAX_VALUE:Math.abs(v.width);var e=isNaN(v.height)?Number.MAX_VALUE:Math.abs(v.height);return Math.min(i,k,e)}var ap=nh.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,k){var Z=k.points;var on=this.__startPoint;var v=this.__baseDimIdx;for(var m=0;m<Z.length;m+=2){on[v]=Z[m+v];e.moveTo(on[0],on[1]);e.lineTo(Z[m],Z[m+1])}}});function JI(v,KA,v2){var on=v.getData();var i=[];var v1=on.getLayout("valueAxisHorizontal")?1:0;i[1-v1]=on.getLayout("valueAxisStart");var v3=on.getLayout("largeDataIndices");var KC=on.getLayout("barWidth");var KB=v.getModel("backgroundStyle");var m=v.get("showBackground",true);if(m){var Kz=on.getLayout("largeBackgroundPoints");var Z=[];Z[1-v1]=on.getLayout("backgroundStart");var e=new ap({shape:{points:Kz},incremental:!!v2,__startPoint:Z,__baseDimIdx:v1,__largeDataIndices:v3,__barWidth:KC,silent:true,z2:0});or(e,KB,on);KA.add(e)}var k=new ap({shape:{points:on.getLayout("largePoints")},incremental:!!v2,__startPoint:i,__baseDimIdx:v1,__largeDataIndices:v3,__barWidth:KC});KA.add(k);Iq(k,v,on);k.seriesIndex=v.seriesIndex;if(!v.get("silent")){k.on("mousedown",x2);k.on("mousemove",x2)}}var x2=fp(function(i){var k=this;var e=JY(k,i.offsetX,i.offsetY);k.dataIndex=e>=0?e:null},30,false);function JY(KG,v2,v1){var KC=KG.__baseDimIdx;var KB=1-KC;var KD=KG.shape.points;var k=KG.__largeDataIndices;var v3=Math.abs(KG.__barWidth/2);var KH=KG.__startPoint[KB];zz[0]=v2;zz[1]=v1;var Z=zz[KC];var e=zz[1-KC];var m=Z-v3;var on=Z+v3;for(var KE=0,KF=KD.length/2;KE<KF;KE++){var Kz=KE*2;var KA=KD[Kz+KC];var v=KD[Kz+KB];if(KA>=m&&KA<=on&&(KH<=v?(e>=KH&&e<=v):(e>=v&&e<=KH))){return k[KE]}}return -1}function Iq(i,e,m){var v=m.getVisual("borderColor")||m.getVisual("color");var k=e.getModel("itemStyle").getItemStyle(["color","borderColor"]);i.useStyle(k);i.style.fill=null;i.style.stroke=v;i.style.lineWidth=m.getLayout("barWidth")}function or(i,e,m){var v=e.get("borderColor")||e.get("color");var k=e.getItemStyle(["color","borderColor"]);i.useStyle(k);i.style.fill=null;i.style.stroke=v;i.style.lineWidth=m.getLayout("barWidth")}function Ao(e,k,v){var i;var m=v.type==="polar";if(m){i=v.getArea()}else{i=v.grid.getRect()}if(m){return{cx:i.cx,cy:i.cy,r0:e?i.r0:k.r0,r:e?i.r:k.r,startAngle:e?k.startAngle:0,endAngle:e?k.endAngle:Math.PI*2}}else{return{x:e?k.x:i.x,y:e?i.y:k.y,width:e?k.width:i.width,height:e?i.height:k.height}}}function G0(m,e,k){var i=m.type==="polar"?uW:GM;return new i({shape:Ao(e,k,m),silent:true,z2:0})}qz(D2.VISUAL.LAYOUT,tT(bL,"bar"));qz(D2.VISUAL.PROGRESSIVE_LAYOUT,JA);H({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}});var yU=function(e,i,Z){i=IQ(i)&&{coordDimensions:i}||cc({},i);var v=e.getSource();var k=Ad(v,i);var m=new y6(k,e);m.initData(v,Z);return m};var GZ={updateSelectedMap:function(e){this._targetList=IQ(e)?e.slice():[];this._selectTargetMap=yO(e||[],function(i,k){i.set(k.name,k);return i},EI())},select:function(e,m){var i=m!=null?this._targetList[m]:this._selectTargetMap.get(e);var k=this.get("selectedMode");if(k==="single"){this._selectTargetMap.each(function(v){v.selected=false})}i&&(i.selected=true)},unSelect:function(e,k){var i=k!=null?this._targetList[k]:this._selectTargetMap.get(e);i&&(i.selected=false)},toggleSelected:function(e,k){var i=k!=null?this._targetList[k]:this._selectTargetMap.get(e);if(i!=null){this[i.selected?"unSelect":"select"](e,k);return i.selected}},isSelected:function(e,k){var i=k!=null?this._targetList[k]:this._selectTargetMap.get(e);return i&&i.selected}};function d8(i,e){this.getAllNames=function(){var k=e();return k.mapArray(k.getName)};this.containName=function(k){var m=e();return m.indexOfName(k)>=0};this.indexOfName=function(k){var m=i();return m.indexOfName(k)};this.getItemVisual=function(v,m){var k=i();return k.getItemVisual(v,m)}}var AT=DZ({type:"series.pie",init:function(e){AT.superApply(this,"init",arguments);this.legendVisualProvider=new d8(k9(this.getData,this),k9(this.getRawData,this));this.updateSelectedMap(this._createSelectableList());this._defaultLabelLine(e)},mergeOption:function(e){AT.superCall(this,"mergeOption",e);this.updateSelectedMap(this._createSelectableList())},getInitialData:function(i,e){return yU(this,{coordDimensions:["value"],encodeDefaulter:tT(lH,this)})},_createSelectableList:function(){var m=this.getRawData();var Z=m.mapDimension("value");var v=[];for(var k=0,e=m.count();k<e;k++){v.push({name:m.getName(k),value:m.get(Z,k),selected:II(m,k,"selected")})}return v},getDataParams:function(i){var k=this.getData();var m=AT.superCall(this,"getDataParams",i);var e=[];k.each(k.mapDimension("value"),function(v){e.push(v)});m.percent=aB(e,i,k.hostModel.get("percentPrecision"));m.$vars.push("percent");return m},_defaultLabelLine:function(i){FC(i,"labelLine",["show"]);var e=i.labelLine;var k=i.emphasis.labelLine;e.show=e.show&&i.label.show;k.show=k.show&&i.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:true,percentPrecision:2,stillShowZeroSum:true,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:false,show:true,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:true,length:15,length2:15,smooth:false,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});Iz(AT,GZ);function yq(m,e,Z,v){var on=e.getData();var k=this.dataIndex;var i=on.getName(k);var v1=e.get("selectedOffset");v.dispatchAction({type:"pieToggleSelect",from:m,name:i,seriesId:e.id});on.each(function(v2){DP(on.getItemGraphicEl(v2),on.getItemLayout(v2),e.isSelected(on.getName(v2)),v1,Z)})}function DP(i,on,e,m,v1){var k=(on.startAngle+on.endAngle)/2;var v3=Math.cos(k);var v2=Math.sin(k);var v=e?m:0;var Z=[v3*v,v2*v];v1?i.animate().when(200,{position:Z}).start("bounceOut"):i.attr("position",Z)}function Kp(m,e){D4.call(this);var k=new uW({z2:2});var i=new BY();var v=new jv();this.add(k);this.add(i);this.add(v);this.updateData(m,e,true)}var pz=Kp.prototype;pz.updateData=function(v1,Kz,v3){var k=this.childAt(0);var v=this.childAt(1);var i=this.childAt(2);var m=v1.hostModel;var KD=v1.getItemModel(Kz);var v2=v1.getItemLayout(Kz);var KB=cc({},v2);KB.label=null;var on=m.getShallow("animationTypeUpdate");if(v3){k.setShape(KB);var e=m.getShallow("animationType");if(e==="scale"){k.shape.r=v2.r0;kl(k,{shape:{r:v2.r}},m,Kz)}else{k.shape.endAngle=v2.startAngle;pZ(k,{shape:{endAngle:v2.endAngle}},m,Kz)}}else{if(on==="expansion"){k.setShape(KB)}else{pZ(k,{shape:KB},m,Kz)}}var KA=v1.getItemVisual(Kz,"color");k.useStyle(Fg({lineJoin:"bevel",fill:KA},KD.getModel("itemStyle").getItemStyle()));k.hoverStyle=KD.getModel("emphasis.itemStyle").getItemStyle();var KC=KD.getShallow("cursor");KC&&k.attr("cursor",KC);DP(this,v1.getItemLayout(Kz),m.isSelected(v1.getName(Kz)),m.get("selectedOffset"),m.get("animation"));var Z=!v3&&on==="transition";this._updateLabel(v1,Kz,Z);this.highDownOnUpdate=!m.get("silent")?function(KG,KE){var KF=m.isAnimationEnabled()&&KD.get("hoverAnimation");if(KE==="emphasis"){v.ignore=v.hoverIgnore;i.ignore=i.hoverIgnore;if(KF){k.stopAnimation(true);k.animateTo({shape:{r:v2.r+m.get("hoverOffset")}},300,"elasticOut")}}else{v.ignore=v.normalIgnore;i.ignore=i.normalIgnore;if(KF){k.stopAnimation(true);k.animateTo({shape:{r:v2.r}},300,"elasticOut")}}}:null;z3(this)};pz._updateLabel=function(v2,KA,v1){var Z=this.childAt(1);var k=this.childAt(2);var m=v2.hostModel;var KC=v2.getItemModel(KA);var Kz=v2.getItemLayout(KA);var KF=Kz.label;var KB=v2.getItemVisual(KA,"color");if(!KF||isNaN(KF.x)||isNaN(KF.y)){k.ignore=k.normalIgnore=k.hoverIgnore=Z.ignore=Z.normalIgnore=Z.hoverIgnore=true;return}var on={points:KF.linePoints||[[KF.x,KF.y],[KF.x,KF.y],[KF.x,KF.y]]};var KE={x:KF.x,y:KF.y};if(v1){pZ(Z,{shape:on},m,KA);pZ(k,{style:KE},m,KA)}else{Z.attr({shape:on});k.attr({style:KE})}k.attr({rotation:KF.rotation,origin:[KF.x,KF.y],z2:10});var KD=KC.getModel("label");var v3=KC.getModel("emphasis.label");var v=KC.getModel("labelLine");var i=KC.getModel("emphasis.labelLine");var KB=v2.getItemVisual(KA,"color");Dz(k.style,k.hoverStyle={},KD,v3,{labelFetcher:v2.hostModel,labelDataIndex:KA,defaultText:KF.text,autoColor:KB,useInsideStyle:!!KF.inside},{textAlign:KF.textAlign,textVerticalAlign:KF.verticalAlign,opacity:v2.getItemVisual(KA,"opacity")});k.ignore=k.normalIgnore=!KD.get("show");k.hoverIgnore=!v3.get("show");Z.ignore=Z.normalIgnore=!v.get("show");Z.hoverIgnore=!i.get("show");Z.setStyle({stroke:KB,opacity:v2.getItemVisual(KA,"opacity")});Z.setStyle(v.getModel("lineStyle").getLineStyle());Z.hoverStyle=i.getModel("lineStyle").getLineStyle();var e=v.get("smooth");if(e&&e===true){e=0.4}Z.setShape({smooth:e})};nm(Kp,D4);var EY=dW.extend({type:"pie",init:function(){var e=new D4();this._sectorGroup=e},render:function(m,v1,v3,KB){if(KB&&(KB.from===this.uid)){return}var Z=m.getData();var on=this._data;var KD=this.group;var v2=v1.get("animation");var KE=!on;var k=m.get("animationType");var v=m.get("animationTypeUpdate");var i=tT(yq,this.uid,m,v2,v3);var KA=m.get("selectedMode");Z.diff(on).add(function(KG){var KH=new Kp(Z,KG);if(KE&&k!=="scale"){KH.eachChild(function(KI){KI.stopAnimation(true)})}KA&&KH.on("click",i);Z.setItemGraphicEl(KG,KH);KD.add(KH)}).update(function(KI,KH){var KG=on.getItemGraphicEl(KH);if(!KE&&v!=="transition"){KG.eachChild(function(KJ){KJ.stopAnimation(true)})}KG.updateData(Z,KI);KG.off("click");KA&&KG.on("click",i);KD.add(KG);Z.setItemGraphicEl(KI,KG)}).remove(function(KG){var KH=on.getItemGraphicEl(KG);KD.remove(KH)}).execute();if(v2&&Z.count()>0&&(KE?k!=="scale":v!=="transition")){var Kz=Z.getItemLayout(0);for(var KF=1;isNaN(Kz.startAngle)&&KF<Z.count();++KF){Kz=Z.getItemLayout(KF)}var e=Math.max(v3.getWidth(),v3.getHeight())/2;var KC=k9(KD.removeClipPath,KD);KD.setClipPath(this._createClipPath(Kz.cx,Kz.cy,e,Kz.startAngle,Kz.clockwise,KC,m,KE))}else{KD.removeClipPath()}this._data=Z},dispose:function(){},_createClipPath:function(Z,k,e,on,i,v,m,v3){var v1=new uW({shape:{cx:Z,cy:k,r0:0,r:e,startAngle:on,endAngle:on,clockwise:i}});var v2=v3?kl:pZ;v2(v1,{shape:{endAngle:on+(i?1:-1)*Math.PI*2}},m,v);return v1},containPoint:function(i,v){var on=v.getData();var Z=on.getItemLayout(0);if(Z){var m=i[0]-Z.cx;var k=i[1]-Z.cy;var e=Math.sqrt(m*m+k*k);return e<=Z.r&&e>=Z.r0}}});var fn=function(e,i){qg(i,function(k){k.update="updateView";ce(k,function(Z,m){var v={};m.eachComponent({mainType:"series",subType:e,query:Z},function(on){if(on[k.method]){on[k.method](Z.name,Z.dataIndex)}var v1=on.getData();v1.each(function(v2){var v3=v1.getName(v2);v[v3]=on.isSelected(v3)||false})});return{name:Z.name,selected:v,seriesId:Z.seriesId}})})};var e9=function(e){return{getTargetSeries:function(i){var m={};var k=EI();i.eachSeriesByType(e,function(v){v.__paletteScope=m;k.set(v.uid,v)});return k},reset:function(k,i){var Z=k.getRawData();var v={};var m=k.getData();m.each(function(on){var v1=m.getRawIndex(on);v[v1]=on});Z.each(function(KB){var v2=v[KB];var v3=v2!=null&&m.getItemVisual(v2,"color",true);var on=v2!=null&&m.getItemVisual(v2,"borderColor",true);var Kz;if(!v3||!on){Kz=Z.getItemModel(KB)}if(!v3){var v1=Kz.get("itemStyle.color")||k.getColorFromPalette(Z.getName(KB)||(KB+""),k.__paletteScope,Z.count());if(v2!=null){m.setItemVisual(v2,"color",v1)}}if(!on){var KA=Kz.get("itemStyle.borderColor");if(v2!=null){m.setItemVisual(v2,"borderColor",KA)}}})}}};var gr=Math.PI/180;function mJ(KG,k,e,Kz,KB,KD,KA,KI,KC,Z){KG.sort(function(KK,i){return KK.y-i.y});function m(KN,i,KM,KL){for(var KK=KN;KK<i;KK++){if(KG[KK].y+KM>KC+KA){break}KG[KK].y+=KM;if(KK>KN&&KK+1<i&&KG[KK+1].y>KG[KK].y+KG[KK].height){v1(KK,KM/2);return}}v1(i-1,KM/2)}function v1(i,KL){for(var KK=i;KK>=0;KK--){if(KG[KK].y-KL<KC){break}KG[KK].y-=KL;if(KK>0&&KG[KK].y>KG[KK-1].y+KG[KK-1].height){break}}}function v2(KV,KW,KS,KQ,KK,KO){var KL=KO>0?KW?Number.MAX_VALUE:0:KW?Number.MAX_VALUE:0;for(var KU=0,KP=KV.length;KU<KP;KU++){if(KV[KU].labelAlignTo!=="none"){continue}var KR=Math.abs(KV[KU].y-KQ);var KN=KV[KU].len;var KM=KV[KU].len2;var KT=(KR<KK+KN)?Math.sqrt((KK+KN+KM)*(KK+KN+KM)-KR*KR):Math.abs(KV[KU].x-KS);if(KW&&KT>=KL){KT=KL-10}if(!KW&&KT<=KL){KT=KL+10}KV[KU].x=KS+KT*KO;KL=KT}}var v=0;var KJ;var KF=KG.length;var v3=[];var KH=[];for(var KE=0;KE<KF;KE++){if(KG[KE].position==="outer"&&KG[KE].labelAlignTo==="labelLine"){var on=KG[KE].x-Z;KG[KE].linePoints[1][0]+=on;KG[KE].x=Z}KJ=KG[KE].y-v;if(KJ<0){m(KE,KF,-KJ,KB)}v=KG[KE].y+KG[KE].height}if(KA-v<0){v1(KF-1,v-KA)}for(var KE=0;KE<KF;KE++){if(KG[KE].y>=e){KH.push(KG[KE])}else{v3.push(KG[KE])}}v2(v3,false,k,e,Kz,KB);v2(KH,true,k,e,Kz,KB)}function hQ(v3,Z,m,KA,KE,KB,KG,KC){var e=[];var v2=[];var k=Number.MAX_VALUE;var v=-Number.MAX_VALUE;for(var KF=0;KF<v3.length;KF++){if(B9(v3[KF])){continue}if(v3[KF].x<Z){k=Math.min(k,v3[KF].x);e.push(v3[KF])}else{v=Math.max(v,v3[KF].x);v2.push(v3[KF])}}mJ(v2,Z,m,KA,1,KE,KB,KG,KC,v);mJ(e,Z,m,KA,-1,KE,KB,KG,KC,k);for(var KF=0;KF<v3.length;KF++){var KH=v3[KF];if(B9(KH)){continue}var v1=KH.linePoints;if(v1){var KI=KH.labelAlignTo==="edge";var on=KH.textRect.width;var Kz;if(KI){if(KH.x<Z){Kz=v1[2][0]-KH.labelDistance-KG-KH.labelMargin}else{Kz=KG+KE-KH.labelMargin-v1[2][0]-KH.labelDistance}}else{if(KH.x<Z){Kz=KH.x-KG-KH.bleedMargin}else{Kz=KG+KE-KH.x-KH.bleedMargin}}if(Kz<KH.textRect.width){KH.text=a3(KH.text,Kz,KH.font);if(KH.labelAlignTo==="edge"){on=jN(KH.text,KH.font)}}var KD=v1[1][0]-v1[2][0];if(KI){if(KH.x<Z){v1[2][0]=KG+KH.labelMargin+on+KH.labelDistance}else{v1[2][0]=KG+KE-KH.labelMargin-on-KH.labelDistance}}else{if(KH.x<Z){v1[2][0]=KH.x+KH.labelDistance}else{v1[2][0]=KH.x-KH.labelDistance}v1[1][0]=v1[2][0]+KD}v1[1][1]=v1[2][1]=KH.y}}}function B9(e){return e.position==="center"}var H1=function(v,e,v1,i,KA,k){var on=v.getData();var v3=[];var Z;var m;var Kz=false;var v2=(v.get("minShowLabelAngle")||0)*gr;on.each(function(KT){var K5=on.getItemLayout(KT);var K0=on.getItemModel(KT);var KO=K0.getModel("label");var KB=KO.get("position")||K0.get("emphasis.label.position");var KK=KO.get("distanceToLabelLine");var KX=KO.get("alignTo");var KD=BD(KO.get("margin"),v1);var KI=KO.get("bleedMargin");var KU=KO.getFont();var KY=K0.getModel("labelLine");var KN=KY.get("length");KN=BD(KN,v1);var KF=KY.get("length2");KF=BD(KF,v1);if(K5.angle<v2){return}var KP=(K5.startAngle+K5.endAngle)/2;var KR=Math.cos(KP);var KQ=Math.sin(KP);var KW;var KV;var KM;var KJ;Z=K5.cx;m=K5.cy;var KS=v.getFormattedLabel(KT,"normal")||on.getName(KT);var KC=IA(KS,KU,KJ,"top");var KL=KB==="inside"||KB==="inner";if(KB==="center"){KW=K5.cx;KV=K5.cy;KJ="center"}else{var K4=(KL?(K5.r+K5.r0)/2*KR:K5.r*KR)+Z;var KH=(KL?(K5.r+K5.r0)/2*KQ:K5.r*KQ)+m;KW=K4+KR*3;KV=KH+KQ*3;if(!KL){var K3=K4+KR*(KN+e-K5.r);var KG=KH+KQ*(KN+e-K5.r);var K2=K3+((KR<0?-1:1)*KF);var KE=KG;if(KX==="edge"){KW=KR<0?KA+KD:KA+v1-KD}else{KW=K2+(KR<0?-KK:KK)}KV=KE;KM=[[K4,KH],[K3,KG],[K2,KE]]}KJ=KL?"center":(KX==="edge"?(KR>0?"right":"left"):(KR>0?"left":"right"))}var KZ;var K1=KO.get("rotate");if(typeof K1==="number"){KZ=K1*(Math.PI/180)}else{KZ=K1?(KR<0?-KP+Math.PI:-KP):0}Kz=!!KZ;K5.label={x:KW,y:KV,position:KB,height:KC.height,len:KN,len2:KF,linePoints:KM,textAlign:KJ,verticalAlign:"middle",rotation:KZ,inside:KL,labelDistance:KK,labelAlignTo:KX,labelMargin:KD,bleedMargin:KI,textRect:KC,text:KS,font:KU};if(!KL){v3.push(K5.label)}});if(!Kz&&v.get("avoidLabelOverlap")){hQ(v3,Z,m,e,v1,i,KA,k)}};var Jb=Math.PI*2;var zh=Math.PI/180;function xW(e,i){return lL(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}var bm=function(i,e,k,m){e.eachSeriesByType(i,function(KI){var KT=KI.getData();var v2=KT.mapDimension("value");var KO=xW(KI,k);var KS=KI.get("center");var v3=KI.get("radius");if(!IQ(v3)){v3=[0,v3]}if(!IQ(KS)){KS=[KS,KS]}var KL=BD(KO.width,k.getWidth());var KE=BD(KO.height,k.getHeight());var KD=Math.min(KL,KE);var on=BD(KS[0],KL)+KO.x;var Z=BD(KS[1],KE)+KO.y;var KP=BD(v3[0],KD/2);var KC=BD(v3[1],KD/2);var KN=-KI.get("startAngle")*zh;var KM=KI.get("minAngle")*zh;var KH=0;KT.each(v2,function(KU){!isNaN(KU)&&KH++});var v=KT.getSum(v2);var KG=Math.PI/(v||KH)*2;var KQ=KI.get("clockwise");var KK=KI.get("roseType");var Kz=KI.get("stillShowZeroSum");var KA=KT.getDataExtent(v2);KA[0]=0;var KJ=Jb;var v1=0;var KB=KN;var KF=KQ?1:-1;KT.each(v2,function(KW,KU){var KX;if(isNaN(KW)){KT.setItemLayout(KU,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:KQ,cx:on,cy:Z,r0:KP,r:KK?NaN:KC,viewRect:KO});return}if(KK!=="area"){KX=(v===0&&Kz)?KG:(KW*KG)}else{KX=Jb/KH}if(KX<KM){KX=KM;KJ-=KM}else{v1+=KW}var KV=KB+KF*KX;KT.setItemLayout(KU,{angle:KX,startAngle:KB,endAngle:KV,clockwise:KQ,cx:on,cy:Z,r0:KP,r:KK?GV(KW,KA,[KP,KC]):KC,viewRect:KO});KB=KV});if(KJ<Jb&&KH){if(KJ<=0.001){var KR=Jb/KH;KT.each(v2,function(KW,KU){if(!isNaN(KW)){var KV=KT.getItemLayout(KU);KV.angle=KR;KV.startAngle=KN+KF*KU*KR;KV.endAngle=KN+KF*(KU+1)*KR}})}else{KG=KJ/v1;KB=KN;KT.each(v2,function(KW,KU){if(!isNaN(KW)){var KV=KT.getItemLayout(KU);var KX=KV.angle===KM?KM:KW*KG;KV.startAngle=KB;KV.endAngle=KB+KF*KX;KB+=KF*KX}})}}H1(KI,KC,KO.width,KO.height,KO.x,KO.y)})};var Gb=function(e){return{seriesType:e,reset:function(m,i){var k=i.findComponents({mainType:"legend"});if(!k||!k.length){return}var v=m.getData();v.filterSelf(function(Z){var on=v.getName(Z);for(var v1=0;v1<k.length;v1++){if(!k[v1].isSelected(on)){return false}}return true})}}};fn("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);H(e9("pie"));qz(tT(bm,"pie"));ex(Gb("pie"));oW.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(i,e){return b(this.getSource(),this,{useEncodeDefaulter:true})},brushSelector:"point",getProgressive:function(){var e=this.option.progressive;if(e==null){return this.option.large?5000:this.get("progressive")}return e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;if(e==null){return this.option.large?10000:this.get("progressiveThreshold")}return e},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,symbolSize:10,large:false,largeThreshold:2000,itemStyle:{opacity:0.8},clip:true}});var gb=4;var j0=JJ({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(Kz,k){var on=k.points;var KA=k.size;var v1=this.symbolProxy;var Z=v1.shape;var v3=Kz.getContext?Kz.getContext():Kz;var v2=v3&&KA[0]<gb;if(v2){return}for(var e=0;e<on.length;){var v=on[e++];var m=on[e++];if(isNaN(v)||isNaN(m)){continue}if(this.softClipShape&&!this.softClipShape.contain(v,m)){continue}Z.x=v-KA[0]/2;Z.y=m-KA[1]/2;Z.width=KA[0];Z.height=KA[1];v1.buildPath(Kz,Z,true)}},afterBrush:function(k){var m=this.shape;var v1=m.points;var on=m.size;var v=on[0]<gb;if(!v){return}this.setTransform(k);for(var Z=0;Z<v1.length;){var e=v1[Z++];var v2=v1[Z++];if(isNaN(e)||isNaN(v2)){continue}if(this.softClipShape&&!this.softClipShape.contain(e,v2)){continue}k.fillRect(e-on[0]/2,v2-on[1]/2,on[0],on[1])}this.restoreTransform(k)},findDataIndex:function(on,Z){var v=this.shape;var Kz=v.points;var KA=v.size;var v2=Math.max(KA[0],4);var m=Math.max(KA[1],4);for(var v3=Kz.length/2-1;v3>=0;v3--){var k=v3*2;var e=Kz[k]-v2/2;var v1=Kz[k+1]-m/2;if(on>=e&&Z>=v1&&on<=e+v2&&Z<=v1+m){return v3}}return -1}});function uo(){this.group=new D4()}var rb=uo.prototype;rb.isPersistent=function(){return !this._incremental};rb.updateData=function(i,e){this.group.removeAll();var k=new j0({rectHover:true,cursor:"default"});k.setShape({points:i.getLayout("symbolPoints")});this._setCommon(k,i,false,e);this.group.add(k);this._incremental=null};rb.updateLayout=function(i){if(this._incremental){return}var e=i.getLayout("symbolPoints");this.group.eachChild(function(v){if(v.startIndex!=null){var k=(v.endIndex-v.startIndex)*2;var m=v.startIndex*4*2;e=new Float32Array(e.buffer,m,k)}v.setShape("points",e)})};rb.incrementalPrepareUpdate=function(e){this.group.removeAll();this._clearIncremental();if(e.count()>2000000){if(!this._incremental){this._incremental=new BB({silent:true})}this.group.add(this._incremental)}else{this._incremental=null}};rb.incrementalUpdate=function(k,i,e){var m;if(this._incremental){m=new j0();this._incremental.addDisplayable(m,true)}else{m=new j0({rectHover:true,cursor:"default",startIndex:k.start,endIndex:k.end});m.incremental=true;this.group.add(m)}m.setShape({points:i.getLayout("symbolPoints")});this._setCommon(m,i,!!this._incremental,e)};rb._setCommon=function(v1,Z,i,v){var on=Z.hostModel;v=v||{};var m=Z.getVisual("symbolSize");v1.setShape("size",(m instanceof Array)?m:[m,m]);v1.softClipShape=v.clipShape||null;v1.symbolProxy=vz(Z.getVisual("symbol"),0,0,0,0);v1.setColor=v1.symbolProxy.setColor;var e=v1.shape.size[0]<gb;v1.useStyle(on.getModel("itemStyle").getItemStyle(e?["color","shadowBlur","shadowColor"]:["color"]));var k=Z.getVisual("color");if(k){v1.setColor(k)}if(!i){v1.seriesIndex=on.seriesIndex;v1.on("mousemove",function(v3){v1.dataIndex=null;var v2=v1.findDataIndex(v3.offsetX,v3.offsetY);if(v2>=0){v1.dataIndex=v2+(v1.startIndex||0)}})}};rb.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};rb._clearIncremental=function(){var e=this._incremental;if(e){e.clearDisplaybles()}};DH({type:"scatter",render:function(i,e,m){var v=i.getData();var k=this._updateSymbolDraw(v,i);k.updateData(v,{clipShape:this._getClipShape(i)});this._finished=true},incrementalPrepareRender:function(i,e,m){var v=i.getData();var k=this._updateSymbolDraw(v,i);k.incrementalPrepareUpdate(v);this._finished=false},incrementalRender:function(k,i,e){this._symbolDraw.incrementalUpdate(k,i.getData(),{clipShape:this._getClipShape(i)});this._finished=k.end===i.getData().count()},updateTransform:function(i,e,m){var v=i.getData();this.group.dirty();if(!this._finished||v.count()>10000||!this._symbolDraw.isPersistent()){return{update:true}}else{var k=rN().reset(i);if(k.progress){k.progress({start:0,end:v.count()},v)}this._symbolDraw.updateLayout(v)}},_getClipShape:function(e){var k=e.coordinateSystem;var i=k&&k.getArea&&k.getArea();return e.get("clip",true)?i:null},_updateSymbolDraw:function(v,i){var k=this._symbolDraw;var m=i.pipelineContext;var e=m.large;if(!k||e!==this._isLargeDraw){k&&k.remove();k=this._symbolDraw=e?new uo():new Hf();this._isLargeDraw=e;this.group.removeAll()}this.group.add(k.group);return k},remove:function(e,i){this._symbolDraw&&this._symbolDraw.remove(true);this._symbolDraw=null},dispose:function(){}});H(ng("scatter","circle"));qz(rN("scatter"));function t4(i,k,e){DO.call(this,i,k,e);this.type="value";this.angle=0;this.name="";this.model}nm(t4,DO);function oH(k,e,i){this._model=k;this.dimensions=[];this._indicatorAxes=Gj(k.getIndicatorModels(),function(Z,m){var on="indicator_"+m;var v=new t4(on,(Z.get("axisType")==="log")?new g9():new Ex());v.name=Z.get("name");v.model=Z;Z.axis=v;this.dimensions.push(on);return v},this);this.resize(k,i);this.cx;this.cy;this.r;this.r0;this.startAngle}oH.prototype.getIndicatorAxes=function(){return this._indicatorAxes};oH.prototype.dataToPoint=function(k,i){var e=this._indicatorAxes[i];return this.coordToPoint(e.dataToCoord(k),i)};oH.prototype.coordToPoint=function(Z,k){var i=this._indicatorAxes[k];var m=i.angle;var e=this.cx+Z*Math.cos(m);var v=this.cy-Z*Math.sin(m);return[e,v]};oH.prototype.pointToData=function(Kz){var KA=Kz[0]-this.cx;var v3=Kz[1]-this.cy;var Z=Math.sqrt(KA*KA+v3*v3);KA/=Z;v3/=Z;var on=Math.atan2(-v3,KA);var v=Infinity;var k;var m=-1;for(var e=0;e<this._indicatorAxes.length;e++){var v2=this._indicatorAxes[e];var v1=Math.abs(on-v2.angle);if(v1<v){k=v2;m=e;v=v1}}return[m,+(k&&k.coordToData(Z))]};oH.prototype.resize=function(Z,v){var i=Z.get("center");var m=v.getWidth();var k=v.getHeight();var on=Math.min(m,k)/2;this.cx=BD(i[0],m);this.cy=BD(i[1],k);this.startAngle=Z.get("startAngle")*Math.PI/180;var e=Z.get("radius");if(typeof e==="string"||typeof e==="number"){e=[0,e]}this.r0=BD(e[0],on);this.r=BD(e[1],on);qg(this._indicatorAxes,function(v2,v1){v2.setExtent(this.r0,this.r);var v3=(this.startAngle+v1*Math.PI*2/this._indicatorAxes.length);v3=Math.atan2(Math.sin(v3),Math.cos(v3));v2.angle=v3},this)};oH.prototype.update=function(e,m){var k=this._indicatorAxes;var v=this._model;qg(k,function(on){on.scale.setExtent(Infinity,-Infinity)});e.eachSeriesByType("radar",function(v2,on){if(v2.get("coordinateSystem")!=="radar"||e.getComponent("radar",v2.get("radarIndex"))!==v){return}var v1=v2.getData();qg(k,function(v3){v3.scale.unionExtentFromData(v1,v1.mapDimension(v3.dim))})},this);var Z=v.get("splitNumber");function i(v1){var on=Math.pow(10,Math.floor(Math.log(v1)/Math.LN10));var v2=v1/on;if(v2===2){v2=5}else{v2*=2}return v2*on}qg(k,function(KC,KD){var KA=HI(KC.scale,KC.model).extent;oM(KC.scale,KC.model);var KE=KC.model;var v1=KC.scale;var KF=KE.getMin();var v2=KE.getMax();var on=v1.getInterval();if(KF!=null&&v2!=null){v1.setExtent(+KF,+v2);v1.setInterval((v2-KF)/Z)}else{if(KF!=null){var KB;do{KB=KF+on*Z;v1.setExtent(+KF,KB);v1.setInterval(on);on=i(on)}while(KB<KA[1]&&isFinite(KB)&&isFinite(KA[1]))}else{if(v2!=null){var Kz;do{Kz=v2-on*Z;v1.setExtent(Kz,+v2);v1.setInterval(on);on=i(on)}while(Kz>KA[0]&&isFinite(Kz)&&isFinite(KA[0]))}else{var v3=v1.getTicks().length-1;if(v3>Z){on=i(on)}var KB=Math.ceil(KA[1]/on)*on;var Kz=HR(KB-on*Z);v1.setExtent(Kz,KB);v1.setInterval(on)}}}})};oH.dimensions=[];oH.create=function(e,k){var i=[];e.eachComponent("radar",function(v){var m=new oH(v,e,k);i.push(m);v.coordinateSystem=m});e.eachSeriesByType("radar",function(m){if(m.get("coordinateSystem")==="radar"){m.coordinateSystem=i[m.get("radarIndex")||0]}});return i};fZ.register("radar",oH);var tn=bT.valueAxis;function Bm(i,e){return Fg({show:e},i)}var Jj=rg({type:"radar",optionUpdated:function(){var v=this.get("boundaryGap");var e=this.get("splitNumber");var Z=this.get("scale");var i=this.get("axisLine");var v2=this.get("axisTick");var KB=this.get("axisType");var k=this.get("axisLabel");var m=this.get("name");var KA=this.get("name.show");var v3=this.get("name.formatter");var v1=this.get("nameGap");var Kz=this.get("triggerEvent");var on=Gj(this.get("indicator")||[],function(KC){if(KC.max!=null&&KC.max>0&&!KC.min){KC.min=0}else{if(KC.min!=null&&KC.min<0&&!KC.max){KC.max=0}}var KF=m;if(KC.color!=null){KF=Fg({color:KC.color},m)}KC=xF(E5(KC),{boundaryGap:v,splitNumber:e,scale:Z,axisLine:i,axisTick:v2,axisType:KB,axisLabel:k,name:KC.text,nameLocation:"end",nameGap:v1,nameTextStyle:KF,triggerEvent:Kz},false);if(!KA){KC.name=""}if(typeof v3==="string"){var KE=KC.name;KC.name=v3.replace("{value}",KE!=null?KE:"")}else{if(typeof v3==="function"){KC.name=v3(KC.name,KC)}}var KD=cc(new fV(KC,null,this.ecModel),oz);KD.mainType="radar";KD.componentIndex=this.componentIndex;return KD},this);this.getIndicatorModels=function(){return on}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:true},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:false,shape:"polygon",axisLine:xF({lineStyle:{color:"#bbb"}},tn.axisLine),axisLabel:Bm(tn.axisLabel,false),axisTick:Bm(tn.axisTick,false),axisType:"interval",splitLine:Bm(tn.splitLine,true),splitArea:Bm(tn.splitArea,true),indicator:[]}});var GX=["axisLine","axisTickLabel","axisName"];rL({type:"radar",render:function(k,e,i){var m=this.group;m.removeAll();this._buildAxes(k);this._buildSplitLineAndArea(k)},_buildAxes:function(k){var i=k.coordinateSystem;var e=i.getIndicatorAxes();var m=Gj(e,function(v){var Z=new dt(v.model,{position:[i.cx,i.cy],rotation:v.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return Z});qg(m,function(v){qg(GX,v.add,v);this.group.add(v.getGroup())},this)},_buildSplitLineAndArea:function(v3){var KG=v3.coordinateSystem;var KM=KG.getIndicatorAxes();if(!KM.length){return}var e=v3.get("shape");var KQ=v3.getModel("splitLine");var KI=v3.getModel("splitArea");var KD=KQ.getModel("lineStyle");var KC=KI.getModel("areaStyle");var KL=KQ.get("show");var Z=KI.get("show");var v1=KD.get("color");var KN=KC.get("color");v1=IQ(v1)?v1:[v1];KN=IQ(KN)?KN:[KN];var KE=[];var KO=[];function KB(KS,KR,i){var KT=i%KR.length;KS[KT]=KS[KT]||[];return KT}if(e==="circle"){var KP=KM[0].getTicksCoords();var on=KG.cx;var k=KG.cy;for(var KK=0;KK<KP.length;KK++){if(KL){var v2=KB(KE,v1,KK);KE[v2].push(new IS({shape:{cx:on,cy:k,r:KP[KK].coord}}))}if(Z&&KK<KP.length-1){var v2=KB(KO,KN,KK);KO[v2].push(new tp({shape:{cx:on,cy:k,r0:KP[KK].coord,r:KP[KK+1].coord}}))}}}else{var KA;var v=Gj(KM,function(KS,i){var KR=KS.getTicksCoords();KA=KA==null?KR.length-1:Math.min(KR.length-1,KA);return Gj(KR,function(KT){return KG.coordToPoint(KT.coord,i)})});var KF=[];for(var KK=0;KK<=KA;KK++){var KJ=[];for(var KH=0;KH<KM.length;KH++){KJ.push(v[KH][KK])}if(KJ[0]){KJ.push(KJ[0].slice())}else{if(pm){console.error("Can't draw value axis "+KK)}}if(KL){var v2=KB(KE,v1,KK);KE[v2].push(new BY({shape:{points:KJ}}))}if(Z&&KF){var v2=KB(KO,KN,KK-1);KO[v2].push(new iO({shape:{points:KJ.concat(KF)}}))}KF=KJ.slice().reverse()}}var m=KD.getLineStyle();var Kz=KC.getAreaStyle();qg(KO,function(KR,i){this.group.add(so(KR,{style:Fg({stroke:"none",fill:KN[i%KN.length]},Kz),silent:true}))},this);qg(KE,function(KR,i){this.group.add(so(KR,{style:Fg({fill:"none",stroke:v1[i%v1.length]},m),silent:true}))},this)}});var p2=oW.extend({type:"series.radar",dependencies:["radar"],init:function(e){p2.superApply(this,"init",arguments);this.legendVisualProvider=new d8(k9(this.getData,this),k9(this.getRawData,this))},getInitialData:function(i,e){return yU(this,{generateCoord:"indicator_",generateCoordCount:Infinity})},formatTooltip:function(on,k,v1,v2){var v=this.getData();var m=this.coordinateSystem;var i=m.getIndicatorAxes();var e=this.getData().getName(on);var Z=v2==="html"?"<br/>":"\n";return nq(e===""?this.name:e)+Z+Gj(i,function(Kz,v3){var KA=v.get(v.mapDimension(Kz.dim),on);return nq(Kz.name+" : "+KA)}).join(Z)},getTooltipPosition:function(Z){if(Z!=null){var v1=this.getData();var v=this.coordinateSystem;var k=v1.getValues(Gj(v.dimensions,function(i){return v1.mapDimension(i)}),Z,true);for(var m=0,e=k.length;m<e;m++){if(!isNaN(k[m])){var on=v.getIndicatorAxes();return v.coordToPoint(on[m].dataToCoord(k[m]),m)}}}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:true,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});function st(e){if(!IQ(e)){e=[+e,+e]}return e}DH({type:"radar",render:function(m,v1,v2){var e=m.coordinateSystem;var v3=this.group;var Z=m.getData();var on=this._data;function i(KD,KA){var KE=KD.getItemVisual(KA,"symbol")||"circle";var KB=KD.getItemVisual(KA,"color");if(KE==="none"){return}var KC=st(KD.getItemVisual(KA,"symbolSize"));var Kz=vz(KE,-1,-1,2,2,KB);var KF=KD.getItemVisual(KA,"symbolRotate")||0;Kz.attr({style:{strokeNoScale:true},z2:100,scale:[KC[0]/2,KC[1]/2],rotation:KF*Math.PI/180||0});return Kz}function v(KC,KD,KF,KE,KA,KG){KF.removeAll();for(var KB=0;KB<KD.length-1;KB++){var Kz=i(KE,KA);if(Kz){Kz.__dimIdx=KB;if(KC[KB]){Kz.attr("position",KC[KB]);zV[KG?"initProps":"updateProps"](Kz,{position:KD[KB]},m,KA)}else{Kz.attr("position",KD[KB])}KF.add(Kz)}}}function k(Kz){return Gj(Kz,function(KA){return[e.cx,e.cy]})}Z.diff(on).add(function(Kz){var KC=Z.getItemLayout(Kz);if(!KC){return}var KB=new iO();var KA=new BY();var KE={shape:{points:KC}};KB.shape.points=k(KC);KA.shape.points=k(KC);kl(KB,KE,m,Kz);kl(KA,KE,m,Kz);var KF=new D4();var KD=new D4();KF.add(KA);KF.add(KB);KF.add(KD);v(KA.shape.points,KC,KD,Z,Kz,true);Z.setItemGraphicEl(Kz,KF)}).update(function(KC,KB){var KF=on.getItemGraphicEl(KB);var Kz=KF.childAt(0);var KA=KF.childAt(1);var KE=KF.childAt(2);var KD={shape:{points:Z.getItemLayout(KC)}};if(!KD.shape.points){return}v(Kz.shape.points,KD.shape.points,KE,Z,KC,false);pZ(Kz,KD,m);pZ(KA,KD,m);Z.setItemGraphicEl(KC,KF)}).remove(function(Kz){v3.remove(on.getItemGraphicEl(Kz))}).execute();Z.eachItemGraphicEl(function(KC,KL){var KM=Z.getItemModel(KL);var KJ=KC.childAt(0);var KI=KC.childAt(1);var KA=KC.childAt(2);var KD=Z.getItemVisual(KL,"color");v3.add(KC);KJ.useStyle(Fg(KM.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:KD}));KJ.hoverStyle=KM.getModel("emphasis.lineStyle").getLineStyle();var KK=KM.getModel("areaStyle");var KG=KM.getModel("emphasis.areaStyle");var KB=KK.isEmpty()&&KK.parentModel.isEmpty();var KH=KG.isEmpty()&&KG.parentModel.isEmpty();KH=KH&&KB;KI.ignore=KB;KI.useStyle(Fg(KK.getAreaStyle(),{fill:KD,opacity:0.7}));KI.hoverStyle=KG.getAreaStyle();var KF=KM.getModel("itemStyle").getItemStyle(["color"]);var Kz=KM.getModel("emphasis.itemStyle").getItemStyle();var KN=KM.getModel("label");var KE=KM.getModel("emphasis.label");KA.eachChild(function(KO){KO.setStyle(KF);KO.hoverStyle=E5(Kz);var KP=Z.get(Z.dimensions[KO.__dimIdx],KL);(KP==null||isNaN(KP))&&(KP="");Dz(KO.style,KO.hoverStyle,KN,KE,{labelFetcher:Z.hostModel,labelDataIndex:KL,labelDimIndex:KO.__dimIdx,defaultText:KP,autoColor:KD,isRectText:true})});KC.highDownOnUpdate=function(KP,KO){KI.attr("ignore",KO==="emphasis"?KH:KB)};z3(KC)});this._data=Z},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});var Ej=function(e){e.eachSeriesByType("radar",function(i){var v=i.getData();var m=[];var k=i.coordinateSystem;if(!k){return}var Z=k.getIndicatorAxes();qg(Z,function(v1,on){v.each(v.mapDimension(Z[on].dim),function(Kz,v3){m[v3]=m[v3]||[];var v2=k.dataToPoint(Kz,on);m[v3][on]=r4(v2)?v2:xc(k)})});v.each(function(on){var v1=sQ(m[on],function(v2){return r4(v2)})||xc(k);m[on].push(v1.slice());v.setItemLayout(on,m[on])})})};function r4(e){return !isNaN(e[0])&&!isNaN(e[1])}function xc(e){return[e.cx,e.cy]}var lo=function(k){var i=k.polar;if(i){if(!IQ(i)){i=[i]}var e=[];qg(i,function(v,m){if(v.indicator){if(v.type&&!v.shape){v.shape=v.type}k.radar=k.radar||[];if(!IQ(k.radar)){k.radar=[k.radar]}k.radar.push(v)}else{e.push(v)}});k.polar=e}qg(k.series,function(m){if(m&&m.type==="radar"&&m.polarIndex){m.radarIndex=m.polarIndex}})};H(e9("radar"));H(ng("radar","circle"));qz(Ej);ex(Gb("radar"));AO(lo);var hw=[126,25];var FO=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,0.7],[52,0.7],[56,7.7],[59,0.7],[64,0.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var B6=0;B6<FO.length;B6++){for(var Jr=0;Jr<FO[B6].length;Jr++){FO[B6][Jr][0]/=10.5;FO[B6][Jr][1]/=-10.5/0.75;FO[B6][Jr][0]+=hw[0];FO[B6][Jr][1]+=hw[1]}}var pB=function(e,i){if(e==="china"){i.push(new xv("",Gj(FO,function(k){return{type:"polygon",exterior:k}}),hw))}};var le={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};var bQ=function(e,m){if(e==="china"){var k=le[m.name];if(k){var i=m.center;i[0]+=k[0]/10.5;i[1]+=-k[1]/(10.5/0.75)}}};var ib={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};var JL=function(e,k){if(e==="world"){var m=ib[k.name];if(m){var i=k.center;i[0]=m[0];i[1]=m[1]}}};var FN=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var Ip=function(e,i){if(e==="china"&&i.name===""){i.geometries.push({type:"polygon",exterior:FN[0]})}};var im=gc();var bz={load:function(m,v,k){var i=im(v).parsed;if(i){return i}var v1=v.specialAreas||{};var on=v.geoJSON;var v2;try{v2=on?bW(on,k):[]}catch(Z){throw new Error("Invalid geoJson format\n"+Z.message)}pB(m,v2);qg(v2,function(e){var v3=e.name;bQ(m,e);JL(m,e);Ip(m,e);var Kz=v1[v3];if(Kz){e.transformTo(Kz.left,Kz.top,Kz.width,Kz.height)}});return(im(v).parsed={regions:v2,boundingRect:JR(v2)})}};function JR(v){var m;for(var k=0;k<v.length;k++){var e=v[k].getBoundingRect();m=m||e.clone();m.union(e)}return m}var il=gc();var n2={load:function(e,k){var i=il(k).originRoot;if(i){return{root:i,boundingRect:il(k).boundingRect}}var m=su(k);il(k).originRoot=m.root;il(k).boundingRect=m.boundingRect;return m},makeGraphic:function(k,Z,v1){var on=il(Z);var v=on.rootMap||(on.rootMap=EI());var e=v.get(v1);if(e){return e}var m=on.originRoot;var i=on.boundingRect;if(!on.originRootHostKey){on.originRootHostKey=v1;e=m}else{e=su(Z,i).root}return v.set(v1,e)},removeGraphic:function(e,k,v){var m=il(k);var i=m.rootMap;i&&i.removeKey(v);if(v===m.originRootHostKey){m.originRootHostKey=null}}};function su(i,k){var m=i.svgXML;var KA;var v3;try{KA=m&&F6(m,{ignoreViewBox:true,ignoreRootClip:true})||{};v3=KA.root;bY(v3!=null)}catch(v1){throw new Error("Invalid svg format\n"+v1.message)}var Kz=KA.width;var on=KA.height;var Z=KA.viewBoxRect;if(!k){k=(Kz==null||on==null)?v3.getBoundingRect():new EG(0,0,0,0);if(Kz!=null){k.width=Kz}if(on!=null){k.height=on}}if(Z){var v=CG(Z,k.width,k.height);var v2=v3;v3=new D4();v3.add(v2);v2.scale=v.scale;v2.position=v.position}v3.setClipPath(new GM({shape:k.plain()}));return{root:v3,boundingRect:k}}var BQ={geoJSON:bz,svg:n2};var r={load:function(v,on,k){var v1=[];var Z=EI();var e=EI();var m;var i=rC(v);qg(i,function(v2){var v3=BQ[v2.type].load(v,v2,k);qg(v3.regions,function(KA){var KB=KA.name;if(on&&on.hasOwnProperty(KB)){KA=KA.cloneShallow(KB=on[KB])}v1.push(KA);Z.set(KB,KA);e.set(KB,KA.center)});var Kz=v3.boundingRect;if(Kz){m?m.union(Kz):(m=Kz.clone())}});return{regions:v1,regionsMap:Z,nameCoordMap:e,boundingRect:m||new EG(0,0,0,0)}},makeGraphic:nL("makeGraphic"),removeGraphic:nL("removeGraphic")};function nL(e){return function(m,v){var i=rC(m);var k=[];qg(i,function(Z){var on=BQ[Z.type][e];on&&k.push(on(m,Z,v))});return k}}function vA(e){if(pm){console.error("Map "+e+" not exists. The GeoJSON of the map must be provided.")}}function rC(i){var e=FU.retrieveMap(i)||[];if(pm){if(!e.length){vA(i)}}return e}var lX=oW.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:false,seriesGroup:[],getInitialData:function(v){var k=yU(this,{coordDimensions:["value"],encodeDefaulter:tT(lH,this)});var v1=k.mapDimension("value");var Kz=EI();var Z=[];var v2=[];for(var m=0,on=k.count();m<on;m++){var e=k.getName(m);Kz.set(e,true);Z.push({name:e,value:k.get(v1,m),selected:II(k,m,"selected")})}var v3=r.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);qg(v3.regions,function(KA){var i=KA.name;if(!Kz.get(i)){Z.push({name:i});v2.push(i)}});this.updateSelectedMap(Z);k.appendValues([],v2);return k},getHostGeoModel:function(){var e=this.option.geoIndex;return e!=null?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(e){var i=this.getData();return i.get(i.mapDimension("value"),e)},getRegionModel:function(i){var e=this.getData();return e.getItemModel(e.indexOfName(i))},formatTooltip:function(KA,m,KB,KC){var Z=this.getData();var on=kU(this.getRawValue(KA));var e=Z.getName(KA);var Kz=this.seriesGroup;var v1=[];for(var v=0;v<Kz.length;v++){var k=Kz[v].originalData.indexOfName(e);var v3=Z.mapDimension("value");if(!isNaN(Kz[v].originalData.get(v3,k))){v1.push(nq(Kz[v].name))}}var v2=KC==="html"?"<br/>":"\n";return v1.join(", ")+v2+nq(e+" : "+on)},getTooltipPosition:function(i){if(i!=null){var e=this.getData().getName(i);var m=this.coordinateSystem;var k=m.getRegion(e);return k&&m.dataToPoint(k.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:0.75,showLegendSymbol:true,dataRangeHoverLink:true,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:false,color:"#000"},itemStyle:{borderWidth:0.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},nameProperty:"name"}});Iz(lX,GZ);var jU="\0_ec_interaction_mutex";function h1(m,i,k){var e=a6(m);e[i]=k}function bv(v,k,m){var i=a6(v);var e=i[k];if(e===m){i[k]=null}}function jo(i,e){return !!a6(i)[e]}function a6(e){return e[jU]||(e[jU]={})}ce({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});function ai(v){this.pointerChecker;this._zr=v;this._opt={};var k=k9;var Z=k(GN,this);var on=k(vX,this);var m=k(Bg,this);var i=k(aL,this);var e=k(Js,this);Ij.call(this);this.setPointerChecker=function(v1){this.pointerChecker=v1};this.enable=function(v2,v1){this.disable();this._opt=Fg(E5(v1)||{},{zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:false,preventDefaultMouseMove:true});if(v2==null){v2=true}if(v2===true||(v2==="move"||v2==="pan")){v.on("mousedown",Z);v.on("mousemove",on);v.on("mouseup",m)}if(v2===true||(v2==="scale"||v2==="zoom")){v.on("mousewheel",i);v.on("pinch",e)}};this.disable=function(){v.off("mousedown",Z);v.off("mousemove",on);v.off("mouseup",m);v.off("mousewheel",i);v.off("pinch",e)};this.dispose=this.disable;this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}Iz(ai,Ij);function GN(k){if(ts(k)||(k.target&&k.target.draggable)){return}var i=k.offsetX;var m=k.offsetY;if(this.pointerChecker&&this.pointerChecker(k,i,m)){this._x=i;this._y=m;this._dragging=true}}function vX(on){if(!this._dragging||!cO("moveOnMouseMove",on,this._opt)||on.gestureEvent==="pinch"||jo(this._zr,"globalPan")){return}var i=on.offsetX;var v1=on.offsetY;var Z=this._x;var v=this._y;var m=i-Z;var k=v1-v;this._x=i;this._y=v1;this._opt.preventDefaultMouseMove&&I1(on.event);Hd(this,"pan","moveOnMouseMove",on,{dx:m,dy:k,oldX:Z,oldY:v,newX:i,newY:v1})}function Bg(i){if(!ts(i)){this._dragging=false}}function aL(on){var v=cO("zoomOnMouseWheel",on,this._opt);var v2=cO("moveOnMouseWheel",on,this._opt);var k=on.wheelDelta;var v3=Math.abs(k);var KA=on.offsetX;var Kz=on.offsetY;if(k===0||(!v&&!v2)){return}if(v){var v1=v3>3?1.4:v3>1?1.2:1.1;var m=k>0?v1:1/v1;kA(this,"zoom","zoomOnMouseWheel",on,{scale:m,originX:KA,originY:Kz})}if(v2){var Z=Math.abs(k);var i=(k>0?1:-1)*(Z>3?0.4:Z>1?0.15:0.05);kA(this,"scrollMove","moveOnMouseWheel",on,{scrollDelta:i,originX:KA,originY:Kz})}}function Js(i){if(jo(this._zr,"globalPan")){return}var k=i.pinchScale>1?1.1:1/1.1;kA(this,"zoom",null,i,{scale:k,originX:i.pinchX,originY:i.pinchY})}function kA(i,k,v,Z,m){if(i.pointerChecker&&i.pointerChecker(Z,m.originX,m.originY)){I1(Z.event);Hd(i,k,v,Z,m)}}function Hd(i,k,v,Z,m){m.isAvailableBehavior=k9(cO,null,v,Z);i.trigger(k,m)}function cO(m,v,k){var i=k[m];return !m||(i&&(!xN(i)||v.event[i+"Key"]))}function HW(v,i,e){var k=v.target;var m=k.position;m[0]+=i;m[1]+=e;k.dirty()}function Bu(KA,e,Kz,v2){var on=KA.target;var Z=KA.zoomLimit;var v1=on.position;var i=on.scale;var v=KA.zoom=KA.zoom||1;v*=e;if(Z){var k=Z.min||0;var v3=Z.max||Infinity;v=Math.max(Math.min(v3,v),k)}var m=v/KA.zoom;KA.zoom=v;v1[0]-=(Kz-v1[0])*(m-1);v1[1]-=(v2-v1[1])*(m-1);i[0]*=m;i[1]*=m;on.dirty()}var e7={axisPointer:1,tooltip:1,brush:1};function ER(Z,v,i){var k=v.getComponentByElement(Z.topTarget);var m=k&&k.coordinateSystem;return k&&k!==i&&!e7[k.mainType]&&(m&&m.model!==i)}function kC(i){var k=i.getItemStyle();var e=i.get("areaColor");if(e!=null){k.fill=e}return k}function fz(k,e,v,m,i){v.off("click");v.off("mousedown");if(e.get("selectedMode")){v.on("mousedown",function(){k._mouseDownFlag=true});v.on("click",function(v1){if(!k._mouseDownFlag){return}k._mouseDownFlag=false;var Z=v1.target;while(!Z.__regions){Z=Z.parent}if(!Z){return}var on={type:(e.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:Gj(Z.__regions,function(v2){return{name:v2.name,from:i.uid}})};on[e.mainType+"Id"]=e.id;m.dispatchAction(on);fw(e,v)})}}function fw(e,i){i.eachChild(function(k){qg(k.__regions,function(m){k.trigger(e.isSelected(m.name)?"emphasis":"normal")})})}function Eg(i,e){var k=new D4();this.uid=m1("ec_map_draw");this._controller=new ai(i.getZr());this._controllerHost={target:e?k:null};this.group=k;this._updateGroup=e;this._mouseDownFlag;this._mapName;this._initialized;k.add(this._regionsGroup=new D4());k.add(this._backgroundGroup=new D4())}Eg.prototype={constructor:Eg,draw:function(k,KJ,v3,m,KA){var v=k.mainType==="geo";var KH=k.getData&&k.getData();v&&KJ.eachComponent({mainType:"series",subType:"map"},function(KL){if(!KH&&KL.getHostGeoModel()===k){KH=KL.getData()}});var KK=k.coordinateSystem;this._updateBackground(KK);var KB=this._regionsGroup;var on=this.group;var KC=KK.getTransformInfo();var KE=!KB.childAt(0)||KA;var Kz;if(KE){on.transform=KC.roamTransform;on.decomposeTransform();on.dirty()}else{var KF=new bV();KF.transform=KC.roamTransform;KF.decomposeTransform();var i={scale:KF.scale,position:KF.position};Kz=KF.scale;pZ(on,i,k)}var KI=KC.rawScale;var KG=KC.rawPosition;KB.removeAll();var v2=["itemStyle"];var Z=["emphasis","itemStyle"];var e=["label"];var v1=["emphasis","label"];var KD=EI();qg(KK.regions,function(KQ){var KN=KD.get(KQ.name)||KD.set(KQ.name,new D4());var KY=new j9({segmentIgnoreThreshold:1,shape:{paths:[]}});KN.add(KY);var K4=k.getRegionModel(KQ.name)||k;var KM=K4.getModel(v2);var KL=K4.getModel(Z);var KU=kC(KM);var KO=kC(KL);var KW=K4.getModel(e);var K0=K4.getModel(v1);var K1;if(KH){K1=KH.indexOfName(KQ.name);var KR=KH.getItemVisual(K1,"color",true);if(KR){KU.fill=KR}}var KZ=function(K7){return[K7[0]*KI[0]+KG[0],K7[1]*KI[1]+KG[1]]};qg(KQ.geometries,function(La){if(La.type!=="polygon"){return}var K9=[];for(var K8=0;K8<La.exterior.length;++K8){K9.push(KZ(La.exterior[K8]))}KY.shape.paths.push(new iO({segmentIgnoreThreshold:1,shape:{points:K9}}));for(var K8=0;K8<(La.interiors?La.interiors.length:0);++K8){var Lb=La.interiors[K8];var K9=[];for(var K7=0;K7<Lb.length;++K7){K9.push(KZ(Lb[K7]))}KY.shape.paths.push(new iO({segmentIgnoreThreshold:1,shape:{points:K9}}))}});KY.setStyle(KU);KY.style.strokeNoScale=true;KY.culling=true;var K3=KW.get("show");var KP=K0.get("show");var KV=KH&&isNaN(KH.get(KH.mapDimension("value"),K1));var K5=KH&&KH.getItemLayout(K1);if((v||KV&&(K3||KP))||(K5&&K5.showLabel)){var KS=!v?K1:KQ.name;var K6;if(!KH||K1>=0){K6=k}var K2=new jv({position:KZ(KQ.center.slice()),scale:[1/on.scale[0],1/on.scale[1]],z2:10,silent:true});Dz(K2.style,K2.hoverStyle={},KW,K0,{labelFetcher:K6,labelDataIndex:KS,defaultText:KQ.name,useInsideStyle:false},{textAlign:"center",textVerticalAlign:"middle"});if(!KE){var KX=[1/Kz[0],1/Kz[1]];pZ(K2,{scale:KX},k)}KN.add(K2)}if(KH){KH.setItemGraphicEl(K1,KN)}else{var K4=k.getRegionModel(KQ.name);KY.eventData={componentType:"geo",componentIndex:k.componentIndex,geoIndex:k.componentIndex,name:KQ.name,region:(K4&&K4.option)||{}}}var KT=KN.__regions||(KN.__regions=[]);KT.push(KQ);KN.highDownSilentOnTouch=!!k.get("selectedMode");z3(KN,KO);KB.add(KN)});this._updateController(k,KJ,v3);fz(this,k,KB,v3,m);fw(k,KB)},remove:function(){this._regionsGroup.removeAll();this._backgroundGroup.removeAll();this._controller.dispose();this._mapName&&r.removeGraphic(this._mapName,this.uid);this._mapName=null;this._controllerHost={}},_updateBackground:function(i){var e=i.map;if(this._mapName!==e){qg(r.makeGraphic(e,this.uid),function(k){this._backgroundGroup.add(k)},this)}this._mapName=e},_updateController:function(i,e,v){var Z=i.coordinateSystem;var k=this._controller;var v1=this._controllerHost;v1.zoomLimit=i.get("scaleLimit");v1.zoom=Z.getZoom();k.enable(i.get("roam")||false);var on=i.mainType;function m(){var v2={type:"geoRoam",componentType:on};v2[on+"Id"]=i.id;return v2}k.off("pan").on("pan",function(v2){this._mouseDownFlag=false;HW(v1,v2.dx,v2.dy);v.dispatchAction(cc(m(),{dx:v2.dx,dy:v2.dy}))},this);k.off("zoom").on("zoom",function(v2){this._mouseDownFlag=false;Bu(v1,v2.scale,v2.originX,v2.originY);v.dispatchAction(cc(m(),{zoom:v2.scale,originX:v2.originX,originY:v2.originY}));if(this._updateGroup){var v3=this.group.scale;this._regionsGroup.traverse(function(Kz){if(Kz.type==="text"){Kz.attr("scale",[1/v3[0],1/v3[1]])}})}},this);k.setPointerChecker(function(v3,v2,Kz){return Z.getViewRectAfterRoam().contain(v2,Kz)&&!ER(v3,v,i)})}};var H4="__seriesMapHighDown";var Iy="__seriesMapCallKey";DH({type:"map",render:function(i,e,m,Z){if(Z&&Z.type==="mapToggleSelect"&&Z.from===this.uid){return}var v=this.group;v.removeAll();if(i.getHostGeoModel()){return}if(!(Z&&Z.type==="geoRoam"&&Z.componentType==="series"&&Z.seriesId===i.id)){if(i.needsDrawMap){var k=this._mapDraw||new Eg(m,true);v.add(k.group);k.draw(i,e,m,this,Z);this._mapDraw=k}else{this._mapDraw&&this._mapDraw.remove();this._mapDraw=null}}else{var k=this._mapDraw;k&&v.add(k.group)}i.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(i,e,m)},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null},_renderSymbols:function(i,e,k){var m=i.originalData;var v=this.group;m.each(m.mapDimension("value"),function(KB,KE){if(isNaN(KB)){return}var KK=m.getItemLayout(KE);if(!KK||!KK.point){return}var KF=KK.point;var v3=KK.offset;var v1=new IS({style:{fill:i.getData().getVisual("color")},shape:{cx:KF[0]+v3*9,cy:KF[1],r:3},silent:true,z2:8+(!v3?fB+1:0)});if(!v3){var KL=i.mainSeries.getData();var KM=m.getName(KE);var KJ=KL.indexOfName(KM);var KG=m.getItemModel(KE);var Kz=KG.getModel("label");var KI=KG.getModel("emphasis.label");var on=KL.getItemGraphicEl(KJ);var Z=kY(i.getFormattedLabel(KJ,"normal"),KM);var KH=kY(i.getFormattedLabel(KJ,"emphasis"),Z);var KC=on[H4];var KD=Math.random();if(!KC){KC=on[H4]={};var KA=tT(kP,true);var v2=tT(kP,false);on.on("mouseover",KA).on("mouseout",v2).on("emphasis",KA).on("normal",v2)}on[Iy]=KD;cc(KC,{recordVersion:KD,circle:v1,labelModel:Kz,hoverLabelModel:KI,emphasisText:KH,normalText:Z});br(KC,false)}v.add(v1)})}});function kP(i){var e=this[H4];if(e&&e.recordVersion===this[Iy]){br(e,i)}}function br(e,Z){var v=e.circle;var on=e.labelModel;var i=e.hoverLabelModel;var m=e.emphasisText;var k=e.normalText;if(Z){v.style.extendFrom(ql({},i,{text:i.get("show")?m:null},{isRectText:true,useInsideStyle:false},true));v.__mapOriginalZ2=v.z2;v.z2+=fB}else{ql(v.style,on,{text:on.get("show")?k:null,textPosition:on.getShallow("position")||"bottom"},{isRectText:true,useInsideStyle:false});v.dirty(false);if(v.__mapOriginalZ2!=null){v.z2=v.__mapOriginalZ2;v.__mapOriginalZ2=null}}}function bP(v1,v3,v){var i=v1.getZoom();var e=v1.getCenter();var KA=v3.zoom;var Kz=v1.dataToPoint(e);if(v3.dx!=null&&v3.dy!=null){Kz[0]-=v3.dx;Kz[1]-=v3.dy;var e=v1.pointToData(Kz);v1.setCenter(e)}if(KA!=null){if(v){var m=v.min||0;var v2=v.max||Infinity;KA=Math.max(Math.min(i*KA,v2),m)/i}v1.scale[0]*=KA;v1.scale[1]*=KA;var k=v1.position;var on=(v3.originX-k[0])*(KA-1);var Z=(v3.originY-k[1])*(KA-1);k[0]-=on;k[1]-=Z;v1.updateTransform();var e=v1.pointToData(Kz);v1.setCenter(e);v1.setZoom(KA*i)}return{center:v1.getCenter(),zoom:v1.getZoom()}}ce({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(k,e){var i=k.componentType||"series";e.eachComponent({mainType:i,query:k},function(m){var Z=m.coordinateSystem;if(Z.type!=="geo"){return}var v=bP(Z,k,m.get("scaleLimit"));m.setCenter&&m.setCenter(v.center);m.setZoom&&m.setZoom(v.zoom);if(i==="series"){qg(m.seriesGroup,function(on){on.setCenter(v.center);on.setZoom(v.zoom)})}})});var Bp=a5;function sX(){bV.call(this)}Iz(sX,bV);function Ei(e){this.name=e;this.zoomLimit;bV.call(this);this._roamTransformable=new sX();this._rawTransformable=new sX();this._center;this._zoom}Ei.prototype={constructor:Ei,type:"view",dimensions:["x","y"],setBoundingRect:function(i,m,k,e){this._rect=new EG(i,m,k,e);return this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(i,m,k,e){this.transformTo(i,m,k,e);this._viewRect=new EG(i,m,k,e)},transformTo:function(i,Z,m,e){var v=this.getBoundingRect();var k=this._rawTransformable;k.transform=v.calculateTransform(new EG(i,Z,m,e));k.decomposeTransform();this._updateTransform()},setCenter:function(e){if(!e){return}this._center=e;this._updateCenterAndZoom()},setZoom:function(i){i=i||1;var e=this.zoomLimit;if(e){if(e.max!=null){i=Math.min(e.max,i)}if(e.min!=null){i=Math.max(e.min,i)}}this._zoom=i;this._updateCenterAndZoom()},getDefaultCenter:function(){var i=this.getBoundingRect();var e=i.x+i.width/2;var k=i.y+i.height/2;return[e,k]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var m=this._rawTransformable.getLocalTransform();var i=this._roamTransformable;var v=this.getDefaultCenter();var e=this.getCenter();var k=this.getZoom();e=a5([],e,m);v=a5([],v,m);i.origin=e;i.position=[v[0]-e[0],v[1]-e[1]];i.scale=[k,k];this._updateTransform()},_updateTransform:function(){var e=this._roamTransformable;var i=this._rawTransformable;i.parent=e;e.updateTransform();i.updateTransform();Bj(this.transform||(this.transform=[]),i.transform||Ez());this._rawTransform=i.getLocalTransform();this.invTransform=this.invTransform||[];f7(this.invTransform,this.transform);this.decomposeTransform()},getTransformInfo:function(){var e=this._roamTransformable.transform;var i=this._rawTransformable;return{roamTransform:e?iL(e):Ez(),rawScale:iL(i.scale),rawPosition:iL(i.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();e.applyTransform(this.transform);return e},dataToPoint:function(m,k,i){var e=k?this._rawTransform:this.transform;i=i||[];return e?Bp(i,m,e):Ar(i,m)},pointToData:function(e){var i=this.invTransform;return i?Bp([],e,i):[e[0],e[1]]},convertToPixel:tT(hm,"dataToPoint"),convertFromPixel:tT(hm,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}};Iz(Ei,bV);function hm(k,e,Z,v){var i=Z.seriesModel;var m=i?i.coordinateSystem:null;return m===this?m[k](v):null}function AF(e,k,v,i){Ei.call(this,e);this.map=k;var m=r.load(k,v);this._nameCoordMap=m.nameCoordMap;this._regionsMap=m.regionsMap;this._invertLongitute=i==null?true:i;this.regions=m.regions;this._rect=m.boundingRect}AF.prototype={constructor:AF,type:"geo",dimensions:["lng","lat"],containCoord:function(m){var k=this.regions;for(var e=0;e<k.length;e++){if(k[e].contain(m)){return true}}return false},transformTo:function(i,v1,m,e){var v=this.getBoundingRect();var k=this._invertLongitute;v=v.clone();if(k){v.y=-v.y-v.height}var on=this._rawTransformable;on.transform=v.calculateTransform(new EG(i,v1,m,e));on.decomposeTransform();if(k){var Z=on.scale;Z[1]=-Z[1]}on.updateTransform();this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(m){var k=this.regions;for(var e=0;e<k.length;e++){if(k[e].contain(m)){return k[e]}}},addGeoCoord:function(e,i){this._nameCoordMap.set(e,i)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){return this._rect},dataToPoint:function(k,i,e){if(typeof k==="string"){k=this.getGeoCoord(k)}if(k){return Ei.prototype.dataToPoint.call(this,k,i,e)}},convertToPixel:tT(lr,"dataToPoint"),convertFromPixel:tT(lr,"pointToData")};Iz(AF,Ei);function lr(k,e,on,Z){var m=on.geoModel;var i=on.seriesModel;var v=m?m.coordinateSystem:i?(i.coordinateSystem||(i.getReferringComponents("geo")[0]||{}).coordinateSystem):null;return v===this?v[k](Z):null}function gK(v3,Kz){var m=v3.get("boundingCoords");if(m!=null){var Z=m[0];var v=m[1];if(isNaN(Z[0])||isNaN(Z[1])||isNaN(v[0])||isNaN(v[1])){if(pm){console.error("Invalid boundingCoords")}}else{this.setBoundingRect(Z[0],Z[1],v[0]-Z[0],v[1]-Z[1])}}var KA=this.getBoundingRect();var on;var i=v3.get("layoutCenter");var KC=v3.get("layoutSize");var v2=Kz.getWidth();var k=Kz.getHeight();var e=KA.width/KA.height*this.aspectScale;var KB=false;if(i&&KC){i=[BD(i[0],v2),BD(i[1],k)];KC=BD(KC,Math.min(v2,k));if(!isNaN(i[0])&&!isNaN(i[1])&&!isNaN(KC)){KB=true}else{if(pm){console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.")}}}var v1;if(KB){var v1={};if(e>1){v1.width=KC;v1.height=KC/e}else{v1.height=KC;v1.width=KC*e}v1.y=i[1]-v1.height/2;v1.x=i[0]-v1.width/2}else{on=v3.getBoxLayoutParams();on.aspect=e;v1=lL(on,{width:v2,height:k})}this.setViewRect(v1.x,v1.y,v1.width,v1.height);this.setCenter(v3.get("center"));this.setZoom(v3.get("zoom"))}function Aq(i,e){qg(e.get("geoCoord"),function(m,k){i.addGeoCoord(k,m)})}var iE={dimensions:AF.prototype.dimensions,create:function(e,m){var k=[];e.eachComponent("geo",function(v1,v){var on=v1.get("map");var Kz=v1.get("aspectScale");var v2=true;var Z=FU.retrieveMap(on);if(Z&&Z[0]&&Z[0].type==="svg"){Kz==null&&(Kz=1);v2=false}else{Kz==null&&(Kz=0.75)}var v3=new AF(on+v,on,v1.get("nameMap"),v2);v3.aspectScale=Kz;v3.zoomLimit=v1.get("scaleLimit");k.push(v3);Aq(v3,v1);v1.coordinateSystem=v3;v3.model=v1;v3.resize=gK;v3.resize(v1,m)});e.eachSeries(function(v){var on=v.get("coordinateSystem");if(on==="geo"){var Z=v.get("geoIndex")||0;v.coordinateSystem=k[Z]}});var i={};e.eachSeriesByType("map",function(v){if(!v.getHostGeoModel()){var Z=v.getMapType();i[Z]=i[Z]||[];i[Z].push(v)}});qg(i,function(v1,v){var on=Gj(v1,function(v2){return v2.get("nameMap")});var Z=new AF(v,v,ae(on));Z.zoomLimit=g1.apply(null,Gj(v1,function(v2){return v2.get("scaleLimit")}));k.push(Z);Z.resize=gK;Z.aspectScale=v1[0].get("aspectScale");Z.resize(v1[0],m);qg(v1,function(v2){v2.coordinateSystem=Z;Aq(Z,v2)})});return k},getFilledRegions:function(k,v,v1){var e=(k||[]).slice();var on=EI();for(var m=0;m<e.length;m++){on.set(e[m].name,e[m])}var Z=r.load(v,v1);qg(Z.regions,function(v2){var i=v2.name;!on.get(i)&&e.push({name:i})});return e}};yc("geo",iE);var I7=function(e){var i={};e.eachSeriesByType("map",function(Z){var m=Z.getMapType();if(Z.getHostGeoModel()||i[m]){return}var v={};qg(Z.seriesGroup,function(v1){var v2=v1.coordinateSystem;var on=v1.originalData;if(v1.get("showLegendSymbol")&&e.getComponent("legend")){on.each(on.mapDimension("value"),function(KB,Kz){var KA=on.getName(Kz);var KC=v2.getRegion(KA);if(!KC||isNaN(KB)){return}var KD=v[KA]||0;var v3=v2.dataToPoint(KC.center);v[KA]=KD+1;on.setItemLayout(Kz,{point:v3,offset:KD})})}});var k=Z.getData();k.each(function(on){var v1=k.getName(on);var v2=k.getItemLayout(on)||{};v2.showLabel=!v[v1];k.setItemLayout(on,v2)});i[m]=true})};var hu=function(e){e.eachSeriesByType("map",function(m){var v=m.get("color");var Z=m.getModel("itemStyle");var i=Z.get("areaColor");var k=Z.get("color")||v[m.seriesIndex%v.length];m.getData().setVisual({areaColor:i,color:k})})};function qN(e,k){var i={};qg(e,function(m){m.each(m.mapDimension("value"),function(on,v){var Z="ec-"+m.getName(v);i[Z]=i[Z]||[];if(!isNaN(on)){i[Z].push(on)}})});return e[0].map(e[0].mapDimension("value"),function(v3,Kz){var v1="ec-"+e[0].getName(Kz);var Z=0;var m=Infinity;var v2=-Infinity;var on=i[v1].length;for(var v=0;v<on;v++){m=Math.min(m,i[v1][v]);v2=Math.max(v2,i[v1][v]);Z+=i[v1][v]}var KA;if(k==="min"){KA=m}else{if(k==="max"){KA=v2}else{if(k==="average"){KA=Z/on}else{KA=Z}}}return on===0?NaN:KA})}var eO=function(e){var i={};e.eachSeriesByType("map",function(k){var v=k.getHostGeoModel();var m=v?"o"+v.id:"i"+k.getMapType();(i[m]=i[m]||[]).push(k)});qg(i,function(v,m){var Z=qN(Gj(v,function(on){return on.getData()}),v[0].get("mapValueCalculation"));for(var k=0;k<v.length;k++){v[k].originalData=v[k].getData()}for(var k=0;k<v.length;k++){v[k].seriesGroup=v;v[k].needsDrawMap=k===0&&!v[k].getHostGeoModel();v[k].setData(Z.cloneShallow());v[k].mainSeries=v[0]}})};var ll=function(e){var i=[];qg(e.series,function(k){if(k&&k.type==="map"){i.push(k);k.map=k.map||k.mapType;Fg(k,k.mapLocation)}})};qz(I7);H(hu);ex(D2.PROCESSOR.STATISTIC,eO);AO(ll);fn("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var p7=qg;var km="\0__link_datas";var uL="\0__link_mainData";function DG(k){var i=k.mainData;var e=k.datas;if(!e){e={main:i};k.datasAttr={main:"data"}}k.datas=k.mainData=null;jZ(i,e,k);p7(e,function(m){p7(i.TRANSFERABLE_METHODS,function(v){m.wrapMethod(v,tT(Ka,k))})});i.wrapMethod("cloneShallow",tT(rX,k));p7(i.CHANGABLE_METHODS,function(m){i.wrapMethod(m,tT(IL,k))});bY(e[i.dataType]===i)}function Ka(k,i){if(na(this)){var e=cc({},this[km]);e[this.dataType]=i;jZ(i,e,k)}else{j3(i,this.dataType,this[uL],k)}return i}function IL(i,e){i.struct&&i.struct.update(this);return e}function rX(i,e){p7(e[km],function(m,k){m!==e&&j3(m.cloneShallow(),k,e,i)});return e}function rk(i){var e=this[uL];return(i==null||e==null)?e:e[km][i]}function na(e){return e[uL]===e}function jZ(i,e,k){i[km]={};p7(e,function(v,m){j3(v,m,i,k)})}function j3(m,i,e,k){e[km][i]=m;m[uL]=e;m.dataType=i;if(k.struct){m[k.structAttr]=k.struct;k.struct[k.datasAttr[i]]=m}m.getLinkedData=rk}var ld=function(e,i){this.name=e||"";this.depth=0;this.height=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=i};ld.prototype={constructor:ld,isRemoved:function(){return this.dataIndex<0},eachNode:function(v,k,v1){if(typeof v==="function"){v1=k;k=v;v=null}v=v||{};if(xN(v)){v={order:v}}var e=v.order||"preorder";var on=this[v.attr||"children"];var m;e==="preorder"&&(m=k.call(v1,this));for(var Z=0;!m&&Z<on.length;Z++){on[Z].eachNode(v,k,v1)}e==="postorder"&&k.call(v1,this)},updateDepthAndHeight:function(m){var e=0;this.depth=m;for(var k=0;k<this.children.length;k++){var v=this.children[k];v.updateDepthAndHeight(m+1);if(v.height>e){e=v.height}}this.height=e+1},getNodeById:function(Z){if(this.getId()===Z){return this}for(var v=0,m=this.children,e=m.length;v<e;v++){var k=m[v].getNodeById(Z);if(k){return k}}},contains:function(Z){if(Z===this){return true}for(var v=0,m=this.children,e=m.length;v<e;v++){var k=m[v].contains(Z);if(k){return k}}},getAncestors:function(e){var i=[];var k=e?this:this.parentNode;while(k){i.push(k);k=k.parentNode}i.reverse();return i},getValue:function(i){var e=this.hostTree.data;return e.get(e.getDimension(i||"value"),this.dataIndex)},setLayout:function(i,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,i,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(k){if(this.dataIndex<0){return}var i=this.hostTree;var e=i.data.getItemModel(this.dataIndex);return e.getModel(k)},setVisual:function(e,i){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,i)},getVisual:function(i,e){return this.hostTree.data.getItemVisual(this.dataIndex,i,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(i){var e=i.parentNode;while(e){if(e===this){return true}e=e.parentNode}return false},isDescendantOf:function(e){return e!==this&&e.isAncestorOf(this)}};function oy(e){this.root;this.data;this._nodes=[];this.hostModel=e}oy.prototype={constructor:oy,type:"tree",eachNode:function(i,e,k){this.root.eachNode(i,e,k)},getNodeByDataIndex:function(i){var e=this.data.getRawIndex(i);return this._nodes[e]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){var v=this.data;var k=this._nodes;for(var m=0,e=k.length;m<e;m++){k[m].dataIndex=-1}for(var m=0,e=v.count();m<e;m++){k[v.getRawIndex(m)].dataIndex=m}},clearLayouts:function(){this.data.clearItemLayouts()}};oy.createTree=function(on,m,k){var v2=new oy(m);var v=[];var v1=1;i(on);function i(Kz,v3){var KD=Kz.value;v1=Math.max(v1,IQ(KD)?KD.length:1);v.push(Kz);var KC=new ld(Kz.name,v2);v3?bt(KC,v3):(v2.root=KC);v2._nodes.push(KC);var KB=Kz.children;if(KB){for(var KA=0;KA<KB.length;KA++){i(KB[KA],KC)}}}v2.root.updateDepthAndHeight(0);var e=Ad(v,{coordDimensions:["value"],dimensionsCount:v1});var Z=new y6(e,m);Z.initData(v);k&&k(Z);DG({mainData:Z,struct:v2,structAttr:"tree"});v2.update();return v2};function bt(k,i){var e=i.children;if(k.parentNode===i){return}e.push(k);k.parentNode=i}oW.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(m){var on={name:m.name,children:m.data};var v=m.leaves||{};var k=new fV(v,this,this.ecModel);var v2=oy.createTree(on,this,i);function i(v3){v3.wrapMethod("getItemModel",function(KA,Kz){var KB=v2.getNodeByDataIndex(Kz);if(!KB.children.length||!KB.isExpand){KA.parentModel=k}return KA})}var v1=0;v2.eachNode("preorder",function(v3){if(v3.depth>v1){v1=v3.depth}});var Z=m.expandAndCollapse;var e=(Z&&m.initialTreeDepth>=0)?m.initialTreeDepth:v1;v2.root.eachNode("preorder",function(Kz){var v3=Kz.hostTree.data.getRawDataItem(Kz.dataIndex);Kz.isExpand=(v3&&v3.collapsed!=null)?!v3.collapsed:Kz.depth<=e});return v2.data},getOrient:function(){var e=this.get("orient");if(e==="horizontal"){e="LR"}else{if(e==="vertical"){e="TB"}}return e},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},formatTooltip:function(m){var e=this.getData().tree;var i=e.root.children[0];var v=e.getNodeByDataIndex(m);var Z=v.getValue();var k=v.name;while(v&&(v!==i)){k=v.parentNode.name+"."+k;v=v.parentNode}return nq(k+((isNaN(Z)||Z==null)?"":" : "+Z))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:false,nodeScaleRatio:0.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:true,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:0.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:true,color:"#555"},leaves:{label:{show:true}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1000}});function oB(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var k=[e];var Z;var v;while(Z=k.pop()){v=Z.children;if(Z.isExpand&&v.length){var v1=v.length;for(var m=v1-1;m>=0;m--){var on=v[m];on.hierNode={defaultAncestor:null,ancestor:on,prelim:0,modifier:0,change:0,shift:0,i:m,thread:null};k.push(on)}}}}function E3(m,k){var i=m.isExpand?m.children:[];var v=m.parentNode.children;var e=m.hierNode.i?v[m.hierNode.i-1]:null;if(i.length){dR(m);var Z=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;if(e){m.hierNode.prelim=e.hierNode.prelim+k(m,e);m.hierNode.modifier=m.hierNode.prelim-Z}else{m.hierNode.prelim=Z}}else{if(e){m.hierNode.prelim=e.hierNode.prelim+k(m,e)}}m.parentNode.hierNode.defaultAncestor=Dw(m,e,m.parentNode.hierNode.defaultAncestor||v[0],k)}function am(e){var i=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:i},true);e.hierNode.modifier+=e.parentNode.hierNode.modifier}function D3(e){return arguments.length?e:Hc}function kM(e,k){var i={};e-=Math.PI/2;i.x=k*Math.cos(e);i.y=k*Math.sin(e);return i}function tg(e,i){return lL(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function dR(k){var i=k.children;var Z=i.length;var e=0;var v=0;while(--Z>=0){var m=i[Z];m.hierNode.prelim+=e;m.hierNode.modifier+=e;v+=m.hierNode.change;e+=m.hierNode.shift+v}}function Dw(m,k,v2,v){if(k){var Kz=m;var KB=m;var e=KB.parentNode.children[0];var v1=k;var KA=Kz.hierNode.modifier;var on=KB.hierNode.modifier;var v3=e.hierNode.modifier;var Z=v1.hierNode.modifier;while(v1=zT(v1),KB=Hh(KB),v1&&KB){Kz=zT(Kz);e=Hh(e);Kz.hierNode.ancestor=m;var i=v1.hierNode.prelim+Z-KB.hierNode.prelim-on+v(v1,KB);if(i>0){yZ(w2(v1,m,v2),m,i);on+=i;KA+=i}Z+=v1.hierNode.modifier;on+=KB.hierNode.modifier;KA+=Kz.hierNode.modifier;v3+=e.hierNode.modifier}if(v1&&!zT(Kz)){Kz.hierNode.thread=v1;Kz.hierNode.modifier+=Z-KA}if(KB&&!Hh(e)){e.hierNode.thread=KB;e.hierNode.modifier+=on-v3;v2=m}}return v2}function zT(i){var e=i.children;return e.length&&i.isExpand?e[e.length-1]:i.hierNode.thread}function Hh(i){var e=i.children;return e.length&&i.isExpand?e[0]:i.hierNode.thread}function w2(k,i,e){return k.hierNode.ancestor.parentNode===i.parentNode?k.hierNode.ancestor:e}function yZ(k,i,e){var m=e/(i.hierNode.i-k.hierNode.i);i.hierNode.change-=m;i.hierNode.shift+=e;i.hierNode.modifier+=e;i.hierNode.prelim+=e;k.hierNode.change+=m}function Hc(i,e){return i.parentNode===e.parentNode?1:2}var gk=JJ({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(KD,v2){var k=v2.childPoints;var KC=k.length;var v3=v2.parentPoint;var v1=k[0];var on=k[KC-1];if(KC===1){KD.moveTo(v3[0],v3[1]);KD.lineTo(v1[0],v1[1]);return}var v=v2.orient;var e=(v==="TB"||v==="BT")?0:1;var KB=1-e;var Kz=BD(v2.forkPosition,1);var m=[];m[e]=v3[e];m[KB]=v3[KB]+(on[KB]-v3[KB])*Kz;KD.moveTo(v3[0],v3[1]);KD.lineTo(m[0],m[1]);KD.moveTo(v1[0],v1[1]);m[e]=v1[e];KD.lineTo(m[0],m[1]);m[e]=on[e];KD.lineTo(m[0],m[1]);KD.lineTo(on[0],on[1]);for(var Z=1;Z<KC-1;Z++){var KA=k[Z];KD.moveTo(KA[0],KA[1]);m[e]=KA[e];KD.lineTo(m[0],m[1])}}});DH({type:"tree",init:function(e,i){this._oldTree;this._mainGroup=new D4();this._controller=new ai(i.getZr());this._controllerHost={target:this.group};this.group.add(this._mainGroup)},render:function(i,Z,on,v2){var k=i.getData();var e=i.layoutInfo;var v3=this._mainGroup;var v=i.get("layout");if(v==="radial"){v3.attr("position",[e.x+e.width/2,e.y+e.height/2])}else{v3.attr("position",[e.x,e.y])}this._updateViewCoordSys(i,e,v);this._updateController(i,Z,on);var m=this._data;var v1={expandAndCollapse:i.get("expandAndCollapse"),layout:v,edgeShape:i.get("edgeShape"),edgeForkPosition:i.get("edgeForkPosition"),orient:i.getOrient(),curvature:i.get("lineStyle.curveness"),symbolRotate:i.get("symbolRotate"),symbolOffset:i.get("symbolOffset"),hoverAnimation:i.get("hoverAnimation"),useNameLabel:true,fadeIn:true};k.diff(m).add(function(Kz){if(tQ(k,Kz)){hl(k,Kz,null,v3,i,v1)}}).update(function(KA,Kz){var KB=m.getItemGraphicEl(Kz);if(!tQ(k,KA)){KB&&fY(m,Kz,KB,v3,i,v1);return}hl(k,KA,KB,v3,i,v1)}).remove(function(Kz){var KA=m.getItemGraphicEl(Kz);if(KA){fY(m,Kz,KA,v3,i,v1)}}).execute();this._nodeScaleRatio=i.get("nodeScaleRatio");this._updateNodeAndLinkScale(i);if(v1.expandAndCollapse===true){k.eachItemGraphicEl(function(KA,Kz){KA.off("click").on("click",function(){on.dispatchAction({type:"treeExpandAndCollapse",seriesId:i.id,dataIndex:Kz})})})}this._data=k},_updateViewCoordSys:function(i){var on=i.getData();var v=[];on.each(function(v2){var v3=on.getItemLayout(v2);if(v3&&!isNaN(v3.x)&&!isNaN(v3.y)){v.push([+v3.x,+v3.y])}});var m=[];var e=[];pO(v,m,e);var v1=this._min;var k=this._max;if(e[0]-m[0]===0){m[0]=v1?v1[0]:m[0]-1;e[0]=k?k[0]:e[0]+1}if(e[1]-m[1]===0){m[1]=v1?v1[1]:m[1]-1;e[1]=k?k[1]:e[1]+1}var Z=i.coordinateSystem=new Ei();Z.zoomLimit=i.get("scaleLimit");Z.setBoundingRect(m[0],m[1],e[0]-m[0],e[1]-m[1]);Z.setCenter(i.get("center"));Z.setZoom(i.get("zoom"));this.group.attr({position:Z.position,scale:Z.scale});this._viewCoordSys=Z;this._min=m;this._max=e},_updateController:function(k,e,m){var i=this._controller;var Z=this._controllerHost;var v=this.group;i.setPointerChecker(function(v2,on,v3){var v1=v.getBoundingRect();v1.applyTransform(v.transform);return v1.contain(on,v3)&&!ER(v2,m,k)});i.enable(k.get("roam"));Z.zoomLimit=k.get("scaleLimit");Z.zoom=k.coordinateSystem.getZoom();i.off("pan").off("zoom").on("pan",function(on){HW(Z,on.dx,on.dy);m.dispatchAction({seriesId:k.id,type:"treeRoam",dx:on.dx,dy:on.dy})},this).on("zoom",function(on){Bu(Z,on.scale,on.originX,on.originY);m.dispatchAction({seriesId:k.id,type:"treeRoam",zoom:on.scale,originX:on.originX,originY:on.originY});this._updateNodeAndLinkScale(k)},this)},_updateNodeAndLinkScale:function(e){var m=e.getData();var i=this._getNodeGlobalScale(e);var k=[i,i];m.eachItemGraphicEl(function(Z,v){Z.attr("scale",k)})},_getNodeGlobalScale:function(k){var m=k.coordinateSystem;if(m.type!=="view"){return 1}var on=this._nodeScaleRatio;var i=m.scale;var e=(i&&i[0])||1;var Z=m.getZoom();var v=(Z-1)*on+1;return v/e},dispose:function(){this._controller&&this._controller.dispose();this._controllerHost={}},remove:function(){this._mainGroup.removeAll();this._data=null}});function tQ(k,e){var i=k.getItemLayout(e);return i&&!isNaN(i.x)&&!isNaN(i.y)&&k.getItemVisual(e,"symbol")!=="none"}function iS(k,i,e){e.itemModel=i;e.itemStyle=i.getModel("itemStyle").getItemStyle();e.hoverItemStyle=i.getModel("emphasis.itemStyle").getItemStyle();e.lineStyle=i.getModel("lineStyle").getLineStyle();e.labelModel=i.getModel("label");e.hoverLabelModel=i.getModel("emphasis.label");if(k.isExpand===false&&k.children.length!==0){e.symbolInnerColor=e.itemStyle.fill}else{e.symbolInnerColor="#fff"}return e}function hl(KN,KM,KI,Z,v3,v1){var KF=!KI;var KA=KN.tree.getNodeByDataIndex(KM);var KC=KA.getModel();var v1=iS(KA,KC,v1);var e=KN.tree.root;var Kz=KA.parentNode===e?KA:KA.parentNode||KA;var v=KN.getItemGraphicEl(Kz.dataIndex);var on=Kz.getLayout();var KL=v?{x:v.position[0],y:v.position[1],rawX:v.__radialOldRawX,rawY:v.__radialOldRawY}:on;var v2=KA.getLayout();if(KF){KI=new mG(KN,KM,v1);KI.attr("position",[KL.x,KL.y])}else{KI.updateData(KN,KM,v1)}KI.__radialOldRawX=KI.__radialRawX;KI.__radialOldRawY=KI.__radialRawY;KI.__radialRawX=v2.rawX;KI.__radialRawY=v2.rawY;Z.add(KI);KN.setItemGraphicEl(KM,KI);pZ(KI,{position:[v2.x,v2.y]},v3);var KJ=KI.getSymbolPath();if(v1.layout==="radial"){var KG=e.children[0];var KE=KG.getLayout();var i=KG.children.length;var KK;var m;if(v2.x===KE.x&&KA.isExpand===true){var KH={};KH.x=(KG.children[0].getLayout().x+KG.children[i-1].getLayout().x)/2;KH.y=(KG.children[0].getLayout().y+KG.children[i-1].getLayout().y)/2;KK=Math.atan2(KH.y-KE.y,KH.x-KE.x);if(KK<0){KK=Math.PI*2+KK}m=KH.x<KE.x;if(m){KK=KK-Math.PI}}else{KK=Math.atan2(v2.y-KE.y,v2.x-KE.x);if(KK<0){KK=Math.PI*2+KK}if(KA.children.length===0||(KA.children.length!==0&&KA.isExpand===false)){m=v2.x<KE.x;if(m){KK=KK-Math.PI}}else{m=v2.x>KE.x;if(!m){KK=KK-Math.PI}}}var k=m?"left":"right";var KD=v1.labelModel.get("rotate");var KB=KD*(Math.PI/180);KJ.setStyle({textPosition:v1.labelModel.get("position")||k,textRotation:KD==null?-KK:KB,textOrigin:"center",verticalAlign:"middle"})}xo(v3,KA,e,KI,KL,on,v2,Z,v1)}function xo(v1,on,Kz,v3,KE,KC,k,KD,KA){var e=KA.edgeShape;var Z=v3.__edge;if(e==="curve"){if(on.parentNode&&on.parentNode!==Kz){if(!Z){Z=v3.__edge=new hy({shape:lv(KA,KE,KE),style:Fg({opacity:0,strokeNoScale:true},KA.lineStyle)})}pZ(Z,{shape:lv(KA,KC,k),style:Fg({opacity:1},KA.lineStyle)},v1)}}else{if(e==="polyline"){if(KA.layout==="orthogonal"){if(on!==Kz&&on.children&&(on.children.length!==0)&&(on.isExpand===true)){var v=on.children;var m=[];for(var v2=0;v2<v.length;v2++){var KB=v[v2].getLayout();m.push([KB.x,KB.y])}if(!Z){Z=v3.__edge=new gk({shape:{parentPoint:[k.x,k.y],childPoints:[[k.x,k.y]],orient:KA.orient,forkPosition:KA.edgeForkPosition},style:Fg({opacity:0,strokeNoScale:true},KA.lineStyle)})}pZ(Z,{shape:{parentPoint:[k.x,k.y],childPoints:m},style:Fg({opacity:1},KA.lineStyle)},v1)}}else{if(pm){throw new Error("The polyline edgeShape can only be used in orthogonal layout")}}}}KD.add(Z)}function fY(on,Kz,v1,KC,Z,KA){var v=on.tree.getNodeByDataIndex(Kz);var v2=on.tree.root;var KD=v.getModel();var KA=iS(v,KD,KA);var e=v.parentNode===v2?v:v.parentNode||v;var i=KA.edgeShape;var KB;while(KB=e.getLayout(),KB==null){e=e.parentNode===v2?e:e.parentNode||e}pZ(v1,{position:[KB.x+1,KB.y+1]},Z,function(){KC.remove(v1);on.setItemGraphicEl(Kz,null)});v1.fadeOut(null,{keepLabel:true});var v3=on.getItemGraphicEl(e.dataIndex);var m=v3.__edge;var k=v1.__edge||((e.isExpand===false||e.children.length===1)?m:undefined);var i=KA.edgeShape;if(k){if(i==="curve"){pZ(k,{shape:lv(KA,KB,KB),style:{opacity:0}},Z,function(){KC.remove(k)})}else{if(i==="polyline"&&KA.layout==="orthogonal"){pZ(k,{shape:{parentPoint:[KB.x,KB.y],childPoints:[[KB.x,KB.y]]},style:{opacity:0}},Z,function(){KC.remove(k)})}}}}function lv(KD,KE,k){var v2;var v;var on;var m;var Z=KD.orient;var i;var e;var KC;var KA;if(KD.layout==="radial"){i=KE.rawX;KC=KE.rawY;e=k.rawX;KA=k.rawY;var KB=kM(i,KC);var Kz=kM(i,KC+(KA-KC)*KD.curvature);var v3=kM(e,KA+(KC-KA)*KD.curvature);var v1=kM(e,KA);return{x1:KB.x,y1:KB.y,x2:v1.x,y2:v1.y,cpx1:Kz.x,cpy1:Kz.y,cpx2:v3.x,cpy2:v3.y}}else{i=KE.x;KC=KE.y;e=k.x;KA=k.y;if(Z==="LR"||Z==="RL"){v2=i+(e-i)*KD.curvature;v=KC;on=e+(i-e)*KD.curvature;m=KA}if(Z==="TB"||Z==="BT"){v2=i;v=KC+(KA-KC)*KD.curvature;on=e;m=KA+(KC-KA)*KD.curvature}}return{x1:i,y1:KC,x2:e,y2:KA,cpx1:v2,cpy1:v,cpx2:on,cpy2:m}}ce({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(i,e){e.eachComponent({mainType:"series",subType:"tree",query:i},function(m){var v=i.dataIndex;var k=m.getData().tree;var Z=k.getNodeByDataIndex(v);Z.isExpand=!Z.isExpand})});ce({type:"treeRoam",event:"treeRoam",update:"none"},function(i,e){e.eachComponent({mainType:"series",subType:"tree",query:i},function(k){var v=k.coordinateSystem;var m=bP(v,i);k.setCenter&&k.setCenter(m.center);k.setZoom&&k.setZoom(m.zoom)})});function mB(e,v2,on){var k=[e];var Z=[];var v1;while(v1=k.pop()){Z.push(v1);if(v1.isExpand){var v=v1.children;if(v.length){for(var m=0;m<v.length;m++){k.push(v[m])}}}}while(v1=Z.pop()){v2(v1,on)}}function tD(e,on){var k=[e];var Z;while(Z=k.pop()){on(Z);if(Z.isExpand){var v=Z.children;if(v.length){for(var m=v.length-1;m>=0;m--){k.push(v[m])}}}}}var kx=function(e,i){e.eachSeriesByType("tree",function(k){rm(k,i)})};function rm(v2,v){var v1=tg(v2,v);v2.layoutInfo=v1;var KC=v2.get("layout");var v3=0;var Z=0;var on=null;if(KC==="radial"){v3=2*Math.PI;Z=Math.min(v1.height,v1.width)/2;on=D3(function(KJ,KI){return(KJ.parentNode===KI.parentNode?1:2)/KJ.depth})}else{v3=v1.width;Z=v1.height;on=D3()}var e=v2.getData().tree.root;var Kz=e.children[0];if(Kz){oB(e);mB(Kz,E3,on);e.hierNode.modifier=-Kz.hierNode.prelim;tD(Kz,am);var i=Kz;var KD=Kz;var k=Kz;tD(Kz,function(KJ){var KI=KJ.getLayout().x;if(KI<i.getLayout().x){i=KJ}if(KI>KD.getLayout().x){KD=KJ}if(KJ.depth>k.depth){k=KJ}});var KE=i===KD?1:on(i,KD)/2;var KG=KE-i.getLayout().x;var KB=0;var KA=0;var KH=0;var KF=0;if(KC==="radial"){KB=v3/(KD.getLayout().x+KE+KG);KA=Z/((k.depth-1)||1);tD(Kz,function(KI){KH=(KI.getLayout().x+KG)*KB;KF=(KI.depth-1)*KA;var KJ=kM(KH,KF);KI.setLayout({x:KJ.x,y:KJ.y,rawX:KH,rawY:KF},true)})}else{var m=v2.getOrient();if(m==="RL"||m==="LR"){KA=Z/(KD.getLayout().x+KE+KG);KB=v3/((k.depth-1)||1);tD(Kz,function(KI){KF=(KI.getLayout().x+KG)*KA;KH=m==="LR"?(KI.depth-1)*KB:v3-(KI.depth-1)*KB;KI.setLayout({x:KH,y:KF},true)})}else{if(m==="TB"||m==="BT"){KB=v3/(KD.getLayout().x+KE+KG);KA=Z/((k.depth-1)||1);tD(Kz,function(KI){KH=(KI.getLayout().x+KG)*KB;KF=m==="TB"?(KI.depth-1)*KA:Z-(KI.depth-1)*KA;KI.setLayout({x:KH,y:KF},true)})}}}}}H(ng("tree","circle"));qz(kx);function wo(v,k,i){if(v&&fc(k,v.type)>=0){var e=i.getData().tree.root;var m=v.targetNode;if(typeof m==="string"){m=e.getNodeById(m)}if(m&&e.contains(m)){return{node:m}}var Z=v.targetNodeId;if(Z!=null&&(m=e.getNodeById(Z))){return{node:m}}}}function vb(e){var i=[];while(e){e=e.parentNode;e&&i.push(e)}return i.reverse()}function yo(k,i){var e=vb(k);return fc(e,i)>=0}function d4(m,k){var i=[];while(m){var e=m.dataIndex;i.push({name:m.name,dataIndex:e,value:k.getRawValue(e)});m=m.parentNode}i.reverse();return i}oW.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:true,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:true,clipWindow:"origin",squareRatio:0.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:0.32*0.32,roam:true,nodeClick:"zoomToNode",animation:true,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:true,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:true,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:true},upperLabel:{show:false,position:[0,"50%"],height:20,color:"#fff",ellipsis:true,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:true,position:[0,"50%"],color:"#fff",ellipsis:true,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(k,m){var v={name:k.name,children:k.data};wF(v);var v1=k.levels||[];var i=this.designatedVisualItemStyle={};var Z=new fV({itemStyle:i},this,m);v1=k.levels=yX(v1,m);var on=Gj(v1||[],function(v3){return new fV(v3,Z,m)},this);var v2=oy.createTree(v,this,e);function e(v3){v3.wrapMethod("getItemModel",function(KA,Kz){var KB=v2.getNodeByDataIndex(Kz);var KC=on[KB.depth];KA.parentModel=KC||Z;return KA})}return v2.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(i){var v=this.getData();var m=this.getRawValue(i);var k=IQ(m)?kU(m[0]):kU(m);var e=v.getName(i);return nq(e+": "+k)},getDataParams:function(e){var k=oW.prototype.getDataParams.apply(this,arguments);var i=this.getData().tree.getNodeByDataIndex(e);k.treePathInfo=d4(i,this);return k},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{};cc(this.layoutInfo,e)},mapIdToIndex:function(k){var e=this._idIndexMap;if(!e){e=this._idIndexMap=EI();this._idIndexMapCount=0}var i=e.get(k);if(i==null){e.set(k,i=this._idIndexMapCount++)}return i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(i){i?(this._viewRoot=i):(i=this._viewRoot);var e=this.getRawData().tree.root;if(!i||(i!==e&&!e.contains(i))){this._viewRoot=e}}});function wF(i){var k=0;qg(i.children,function(v){wF(v);var m=v.value;IQ(m)&&(m=m[0]);k+=m});var e=i.value;if(IQ(e)){e=e[0]}if(e==null||isNaN(e)){e=k}if(e<0){e=0}IQ(i.value)?(i.value[0]=e):(i.value=e)}function yX(m,i){var k=i.get("color");if(!k){return}m=m||[];var e;qg(m,function(v1){var Z=new fV(v1);var on=Z.get("color");if(Z.get("itemStyle.color")||(on&&on!=="none")){e=true}});if(!e){var v=m[0]||(m[0]={});v.color=k.slice()}return m}var A7=8;var Dx=8;var GL=5;function ly(e){this.group=new D4();e.add(this.group)}ly.prototype={constructor:ly,render:function(e,m,v,on){var k=e.getModel("breadcrumb");var i=this.group;i.removeAll();if(!k.get("show")||!v){return}var Z=k.getModel("itemStyle");var v1=Z.getModel("textStyle");var v2={pos:{left:k.get("left"),right:k.get("right"),top:k.get("top"),bottom:k.get("bottom")},box:{width:m.getWidth(),height:m.getHeight()},emptyItemWidth:k.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(v,v2,v1);this._renderContent(e,v2,Z,v1,on);Cp(i,v2.pos,v2.box)},_prepare:function(v,k,e){for(var i=v;i;i=i.parentNode){var on=i.getModel().get("name");var Z=e.getTextRect(on);var m=Math.max(Z.width+A7*2,k.emptyItemWidth);k.totalWidth+=m+Dx;k.renderList.push({node:i,text:on,width:m})}},_renderContent:function(on,KG,KA,KC,KB){var k=0;var v1=KG.emptyItemWidth;var KE=on.get("breadcrumb.height");var Z=nv(KG.pos,KG.box);var v3=KG.totalWidth;var e=KG.renderList;for(var v2=e.length-1;v2>=0;v2--){var KF=e[v2];var v=KF.node;var Kz=KF.width;var KD=KF.text;if(v3>Z.width){v3-=Kz-v1;Kz=v1;KD=null}var m=new iO({shape:{points:bo(k,0,Kz,KE,v2===e.length-1,v2===0)},style:Fg(KA.getItemStyle(),{lineJoin:"bevel",text:KD,textFill:KC.getTextColor(),textFont:KC.getFont()}),z:10,onclick:tT(KB,v)});this.group.add(m);hg(m,on,v);k+=Kz+Dx}},remove:function(){this.group.removeAll()}};function bo(e,on,v,Z,k,i){var m=[[k?e:e-GL,on],[e+v,on],[e+v,on+Z],[k?e:e-GL,on+Z]];!i&&m.splice(2,0,[e+v+GL,on+Z/2]);!k&&m.push([e,on+Z/2]);return m}function hg(i,e,k){i.eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:k&&k.dataIndex,name:k&&k.name},treePathInfo:k&&d4(k,e)}}function uu(){var k=[];var i={};var e;return{add:function(v,on,Z,m,v1){if(xN(m)){v1=m;m=0}if(i[v.id]){return false}i[v.id]=1;k.push({el:v,target:on,time:Z,delay:m,easing:v1});return true},done:function(m){e=m;return this},start:function(){var v1=k.length;for(var Z=0,m=k.length;Z<m;Z++){var on=k[Z];on.el.animateTo(on.target,on.time,on.delay,on.easing,v)}return this;function v(){v1--;if(!v1){k.length=0;i={};e&&e()}}}}}var qK=k9;var sC=D4;var CS=GM;var p6=qg;var vl=3;var Ht=["label"];var ec=["emphasis","label"];var JF=["upperLabel"];var m5=["emphasis","upperLabel"];var mC=10;var sB=1;var FB=2;var iM=Ax([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var CK=function(e){var i=iM(e);i.stroke=i.fill=i.lineWidth=null;return i};DH({type:"treemap",init:function(i,e){this._containerGroup;this._storage=CR();this._oldTree;this._breadcrumb;this._controller;this._state="ready"},render:function(v,v1,v3,KA){var e=v1.findComponents({mainType:"series",subType:"treemap",query:KA});if(fc(e,v)<0){return}this.seriesModel=v;this.api=v3;this.ecModel=v1;var Kz=["treemapZoomToNode","treemapRootToNode"];var v2=wo(KA,Kz,v);var KB=KA&&KA.type;var m=v.layoutInfo;var on=!this._oldTree;var k=this._storage;var i=(KB==="treemapRootToNode"&&v2&&k)?{rootNodeGroup:k.nodeGroup[v2.node.getRawIndex()],direction:KA.direction}:null;var Z=this._giveContainerGroup(m);var KC=this._doRender(Z,v,i);(!on&&(!KB||KB==="treemapZoomToNode"||KB==="treemapRootToNode"))?this._doAnimation(Z,KC,v,i):KC.renderFinally();this._resetController(v3);this._renderBreadcrumb(v,v3,v2)},_giveContainerGroup:function(e){var i=this._containerGroup;if(!i){i=this._containerGroup=new sC();this._initEvents(i);this.group.add(i)}i.attr("position",[e.x,e.y]);return i},_doRender:function(v3,Z,v){var m=Z.getData().tree;var e=this._oldTree;var KB=CR();var on=CR();var v1=this._storage;var k=[];var KC=tT(a9,Z,on,v1,v,KB,k);i(m.root?[m.root]:[],(e&&e.root)?[e.root]:[],v3,m===e||!e,0);var KA=Kz(v1);this._oldTree=m;this._storage=on;return{lastsForAnimation:KB,willDeleteEls:KA,renderFinally:v2};function i(KJ,KI,KF,KD,KH){if(KD){KI=KJ;p6(KJ,function(KL,KK){!KL.isRemoved()&&KG(KK,KK)})}else{(new IF(KI,KJ,KE,KE)).add(KG).update(KG).remove(tT(KG,null)).execute()}function KE(KK){return KK.getId()}function KG(KL,KO){var KK=KL!=null?KJ[KL]:null;var KN=KO!=null?KI[KO]:null;var KM=KC(KK,KN,KF,KH);KM&&i(KK&&KK.viewChildren||[],KN&&KN.viewChildren||[],KM,KD,KH+1)}}function Kz(KE){var KD=CR();KE&&p6(KE,function(KF,KG){var KH=KD[KG];p6(KF,function(KI){KI&&(KH.push(KI),KI.__tmWillDelete=1)})});return KD}function v2(){p6(KA,function(KD){p6(KD,function(KE){KE.parent&&KE.parent.remove(KE)})});p6(k,function(KD){KD.invisible=true;KD.dirty()})}},_doAnimation:function(on,Z,e,m){if(!e.get("animation")){return}var k=e.get("animationDurationUpdate");var v=e.get("animationEasing");var i=uu();p6(Z.willDeleteEls,function(v1,v2){p6(v1,function(KB,v3){if(KB.invisible){return}var KA=KB.parent;var KD;if(m&&m.direction==="drillDown"){KD=KA===m.rootNodeGroup?{shape:{x:0,y:0,width:KA.__tmNodeWidth,height:KA.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else{var KC=0;var Kz=0;if(!KA.__tmWillDelete){KC=KA.__tmNodeWidth/2;Kz=KA.__tmNodeHeight/2}KD=v2==="nodeGroup"?{position:[KC,Kz],style:{opacity:0}}:{shape:{x:KC,y:Kz,width:0,height:0},style:{opacity:0}}}KD&&i.add(KB,KD,k,v)})});p6(this._storage,function(v1,v2){p6(v1,function(Kz,v3){var KA=Z.lastsForAnimation[v2][v3];var KB={};if(!KA){return}if(v2==="nodeGroup"){if(KA.old){KB.position=Kz.position.slice();Kz.attr("position",KA.old)}}else{if(KA.old){KB.shape=cc({},Kz.shape);Kz.setShape(KA.old)}if(KA.fadein){Kz.setStyle("opacity",0);KB.style={opacity:1}}else{if(Kz.style.opacity!==1){KB.style={opacity:1}}}}i.add(Kz,KB,k,v)})},this);this._state="animating";i.done(qK(function(){this._state="ready";Z.renderFinally()},this)).start()},_resetController:function(i){var e=this._controller;if(!e){e=this._controller=new ai(i.getZr());e.enable(this.seriesModel.get("roam"));e.on("pan",qK(this._onPan,this));e.on("zoom",qK(this._onZoom,this))}var k=new EG(0,0,i.getWidth(),i.getHeight());e.setPointerChecker(function(v,m,Z){return k.contain(m,Z)})},_clearController:function(){var e=this._controller;if(e){e.dispose();e=null}},_onPan:function(m){if(this._state!=="animating"&&(Math.abs(m.dx)>vl||Math.abs(m.dy)>vl)){var k=this.seriesModel.getData().tree.root;if(!k){return}var i=k.getLayout();if(!i){return}this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+m.dx,y:i.y+m.dy,width:i.width,height:i.height}})}},_onZoom:function(v3){var on=v3.originX;var Z=v3.originY;if(this._state!=="animating"){var v=this.seriesModel.getData().tree.root;if(!v){return}var k=v.getLayout();if(!k){return}var v1=new EG(k.x,k.y,k.width,k.height);var v2=this.seriesModel.layoutInfo;on-=v2.x;Z-=v2.y;var i=Ez();wV(i,i,[-on,-Z]);sc(i,i,[v3.scale,v3.scale]);wV(i,i,[on,Z]);v1.applyTransform(i);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:v1.x,y:v1.y,width:v1.width,height:v1.height}})}},_initEvents:function(e){e.on("click",function(Z){if(this._state!=="ready"){return}var i=this.seriesModel.get("nodeClick",true);if(!i){return}var v1=this.findTarget(Z.offsetX,Z.offsetY);if(!v1){return}var v=v1.node;if(v.getLayout().isLeafRoot){this._rootToNode(v1)}else{if(i==="zoomToNode"){this._zoomToNode(v1)}else{if(i==="link"){var k=v.hostTree.data.getItemModel(v.dataIndex);var m=k.get("link",true);var on=k.get("target",true)||"blank";m&&bj(m,on)}}}},this)},_renderBreadcrumb:function(e,k,m){if(!m){m=e.get("leafDepth",true)!=null?{node:e.getViewRoot()}:this.findTarget(k.getWidth()/2,k.getHeight()/2);if(!m){m={node:e.getData().tree.root}}}(this._breadcrumb||(this._breadcrumb=new ly(this.group))).render(e,k,m.node,qK(i,this));function i(v){if(this._state!=="animating"){yo(e.getViewRoot(),v)?this._rootToNode({node:v}):this._zoomToNode({node:v})}}},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=CR();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,m){var k;var i=this.seriesModel.getViewRoot();i.eachNode({attr:"viewChildren",order:"preorder"},function(v1){var on=this._storage.background[v1.getRawIndex()];if(on){var v=on.transformCoordToLocal(e,m);var Z=on.shape;if(Z.x<=v[0]&&v[0]<=Z.x+Z.width&&Z.y<=v[1]&&v[1]<=Z.y+Z.height){k={node:v1,offsetX:v[0],offsetY:v[1]}}else{return false}}},this);return k}});function CR(){return{nodeGroup:[],background:[],content:[]}}function a9(KI,v,v2,v3,KH,KA,KF,KK,v1,KU){if(!KF){return}var KO=KF.getLayout();var KV=KI.getData();KV.setItemGraphicEl(KF.dataIndex,null);if(!KO||!KO.isInView){return}var KX=KO.width;var KG=KO.height;var KW=KO.borderWidth;var KD=KO.invisible;var k=KF.getRawIndex();var KT=KK&&KK.getRawIndex();var i=KF.viewChildren;var KL=KO.upperHeight;var KR=i&&i.length;var e=KF.getModel("itemStyle");var Kz=KF.getModel("emphasis.itemStyle");var KC=m("nodeGroup",sC);if(!KC){return}v1.add(KC);KC.attr("position",[KO.x||0,KO.y||0]);KC.__tmNodeWidth=KX;KC.__tmNodeHeight=KG;if(KO.isAboveViewRoot){return KC}var KJ=KF.getModel();var on=m("background",CS,KU,sB);on&&Z(KC,on,KR&&KO.upperLabelHeight);if(KR){if(iC(KC)){pK(KC,false)}if(on){pK(on,true);KV.setItemGraphicEl(KF.dataIndex,on)}}else{var KM=m("content",CS,KU,FB);KM&&KQ(KC,KM);if(on&&iC(on)){pK(on,false)}pK(KC,true);KV.setItemGraphicEl(KF.dataIndex,KC)}return KC;function Z(K3,K1,KZ){K1.dataIndex=KF.dataIndex;K1.seriesIndex=KI.seriesIndex;K1.setShape({x:0,y:0,width:KX,height:KG});if(KD){KB(K1)}else{K1.invisible=false;var K2=KF.getVisual("borderColor",true);var K4=Kz.get("borderColor");var K5=CK(e);K5.fill=K2;var KY=iM(Kz);KY.fill=K4;if(KZ){var K0=KX-2*KW;KS(K5,KY,K2,K0,KL,{x:KW,y:0,width:K0,height:KL})}else{K5.text=KY.text=null}K1.setStyle(K5);l8(K1,KY)}K3.add(K1)}function KQ(K3,K2){K2.dataIndex=KF.dataIndex;K2.seriesIndex=KI.seriesIndex;var KZ=Math.max(KX-2*KW,0);var K1=Math.max(KG-2*KW,0);K2.culling=true;K2.setShape({x:KW,y:KW,width:KZ,height:K1});if(KD){KB(K2)}else{K2.invisible=false;var K0=KF.getVisual("color",true);var K4=CK(e);K4.fill=K0;var KY=iM(Kz);KS(K4,KY,K0,KZ,K1);K2.setStyle(K4);l8(K2,KY)}K3.add(K2)}function KB(KY){!KY.invisible&&KA.push(KY)}function KS(KY,K0,K4,KZ,K5,K3){var K2=KJ.get("name");var K7=KJ.getModel(K3?JF:Ht);var K6=KJ.getModel(K3?m5:ec);var K1=K7.getShallow("show");Dz(KY,K0,K7,K6,{defaultText:K1?K2:null,autoColor:K4,isRectText:true,labelFetcher:KI,labelDataIndex:KF.dataIndex,labelProp:K3?"upperLabel":"label"});KE(KY,K3,KO);KE(K0,K3,KO);K3&&(KY.textRect=E5(K3));KY.truncate=(K1&&K7.get("ellipsis"))?{outerWidth:KZ,outerHeight:K5,minChar:2}:null}function KE(K0,K1,KZ){var K2=K0.text;if(!K1&&KZ.isLeafRoot&&K2!=null){var KY=KI.get("drillDownIcon",true);K0.text=KY?KY+" "+K2:K2}}function m(K1,KZ,K3,K2){var K0=KT!=null&&v2[K1][KT];var KY=KH[K1];if(K0){v2[K1][KT]=null;KP(KY,K0,K1)}else{if(!KD){K0=new KZ({z:uC(K3,K2)});K0.__tmDepth=K3;K0.__tmStorageName=K1;KN(KY,K0,K1)}}return(v[K1][k]=K0)}function KP(KY,K0,KZ){var K1=KY[k]={};K1.old=KZ==="nodeGroup"?K0.position.slice():cc({},K0.shape)}function KN(K0,K3,K2){var K4=K0[k]={};var KZ=KF.parentNode;if(KZ&&(!v3||v3.direction==="drillDown")){var KY=0;var K5=0;var K1=KH.background[KZ.getRawIndex()];if(!v3&&K1&&K1.old){KY=K1.old.width;K5=K1.old.height}K4.old=K2==="nodeGroup"?[0,K5]:{x:KY,y:K5,width:0,height:0}}K4.fadein=K2!=="nodeGroup"}}function uC(k,i){var e=k*mC+i;return(e-1)/e}var xk=function(){};var gj=["treemapZoomToNode","treemapRender","treemapMove"];for(var B3=0;B3<gj.length;B3++){ce({type:gj[B3],update:"updateView"},xk)}ce({type:"treemapRootToNode",update:"updateView"},function(k,e){e.eachComponent({mainType:"series",subType:"treemap",query:k},i);function i(Z,v){var on=["treemapZoomToNode","treemapRootToNode"];var v1=wo(k,on,Z);if(v1){var m=Z.getViewRoot();if(m){k.direction=yo(m,v1.node)?"rollUp":"drillDown"}Z.resetViewRoot(v1.node)}}});var p4=qg;var u0=u7;var pl=-1;var nC=function(m){var e=m.mappingMethod;var v=m.type;var i=this.option=E5(m);this.type=v;this.mappingMethod=e;this._normalizeData=tP[e];var k=t6[v];this.applyVisual=k.applyVisual;this.getColorMapper=k.getColorMapper;this._doMap=k._doMap[e];if(e==="piecewise"){h4(i);pu(i)}else{if(e==="category"){i.categories?fi(i):h4(i,true)}else{bY(e!=="linear"||i.dataExtent);h4(i)}}};nC.prototype={constructor:nC,mapValueToVisual:function(e){var i=this._normalizeData(e);return this._doMap(i,e)},getNormalizer:function(){return k9(this._normalizeData,this)}};var t6=nC.visualHandlers={color:{applyVisual:b0("color"),getColorMapper:function(){var e=this.option;return k9(e.mappingMethod==="category"?function(k,i){!i&&(k=this._normalizeData(k));return tN.call(this,k)}:function(v,m,i){var k=!!i;!m&&(v=this._normalizeData(v));i=S(v,e.parsedVisual,i);return k?i:x1(i,"rgba")},this)},_doMap:{linear:function(e){return x1(S(e,this.option.parsedVisual),"rgba")},category:tN,piecewise:function(k,i){var e=vC.call(this,i);if(e==null){e=x1(S(k,this.option.parsedVisual),"rgba")}return e},fixed:tJ}},colorHue:wz(function(e,i){return mo(e,i)}),colorSaturation:wz(function(e,i){return mo(e,null,i)}),colorLightness:wz(function(e,i){return mo(e,null,null,i)}),colorAlpha:wz(function(e,i){return iX(e,i)}),opacity:{applyVisual:b0("opacity"),_doMap:qW([0,1])},liftZ:{applyVisual:b0("liftZ"),_doMap:{linear:tJ,category:tJ,piecewise:tJ,fixed:tJ}},symbol:{applyVisual:function(k,e,v){var m=this.mapValueToVisual(k);if(xN(m)){v("symbol",m)}else{if(u0(m)){for(var i in m){if(m.hasOwnProperty(i)){v(i,m[i])}}}}},_doMap:{linear:zO,category:tN,piecewise:function(k,i){var e=vC.call(this,i);if(e==null){e=zO.call(this,k)}return e},fixed:tJ}},symbolSize:{applyVisual:b0("symbolSize"),_doMap:qW([0,1])}};function pu(i){var e=i.pieceList;i.hasSpecialVisual=false;qg(e,function(m,k){m.originIndex=k;if(m.visual!=null){i.hasSpecialVisual=true}})}function fi(v){var e=v.categories;var on=v.visual;var Z=v.categoryMap={};p4(e,function(v1,i){Z[v1]=i});if(!IQ(on)){var m=[];if(u7(on)){p4(on,function(i,v2){var v1=Z[v2];m[v1!=null?v1:pl]=i})}else{m[pl]=on}on=GD(v,m)}for(var k=e.length-1;k>=0;k--){if(on[k]==null){delete Z[e[k]];e.pop()}}}function h4(k,e){var m=k.visual;var i=[];if(u7(m)){p4(m,function(Z){i.push(Z)})}else{if(m!=null){i.push(m)}}var v={color:1,symbol:1};if(!e&&i.length===1&&!v.hasOwnProperty(k.type)){i[1]=i[0]}GD(k,i)}function wz(e){return{applyVisual:function(k,i,m){k=this.mapValueToVisual(k);m("color",e(i("color"),k))},_doMap:qW([0,1])}}function zO(i){var e=this.option.visual;return e[Math.round(GV(i,[0,1],[0,e.length-1],true))]||{}}function b0(e){return function(k,i,m){m(e,this.mapValueToVisual(k))}}function tN(i){var e=this.option.visual;return e[(this.option.loop&&i!==pl)?i%e.length:i]}function tJ(){return this.option.visual[0]}function qW(e){return{linear:function(i){return GV(i,e,this.option.visual,true)},category:tN,piecewise:function(m,k){var i=vC.call(this,k);if(i==null){i=GV(m,e,this.option.visual,true)}return i},fixed:tJ}}function vC(v){var i=this.option;var e=i.pieceList;if(i.hasSpecialVisual){var m=nC.findPieceIndex(v,e);var k=e[m];if(k&&k.visual){return k.visual[this.type]}}}function GD(i,e){i.visual=e;if(i.type==="color"){i.parsedVisual=Gj(e,function(k){return fk(k)})}return e}var tP={linear:function(e){return GV(e,this.option.dataExtent,[0,1],true)},piecewise:function(k){var e=this.option.pieceList;var i=nC.findPieceIndex(k,e,true);if(i!=null){return GV(i,[0,e.length-1],[0,1],true)}},category:function(i){var e=this.option.categories?this.option.categoryMap[i]:i;return e==null?pl:e},fixed:Y};nC.listVisualTypes=function(){var e=[];qg(t6,function(k,i){e.push(i)});return e};nC.addVisualHandler=function(e,i){t6[e]=i};nC.isValidType=function(e){return t6.hasOwnProperty(e)};nC.eachVisual=function(i,k,e){if(u7(i)){qg(i,k,e)}else{k.call(e,i)}};nC.mapVisual=function(i,v,e){var m;var k=IQ(i)?[]:u7(i)?{}:(m=true,null);nC.eachVisual(i,function(Z,v1){var on=v.call(e,Z,v1);m?(k=on):(k[v1]=on)});return k};nC.retrieveVisuals=function(k){var i={};var e;k&&p4(t6,function(m,v){if(k.hasOwnProperty(v)){i[v]=k[v];e=true}});return e?i:null};nC.prepareVisualTypes=function(i){if(u0(i)){var e=[];p4(i,function(m,k){e.push(k)});i=e}else{if(IQ(i)){i=i.slice()}else{return[]}}i.sort(function(m,k){return(k==="color"&&m!=="color"&&m.indexOf("color")===0)?1:-1});return i};nC.dependsOn=function(i,e){return e==="color"?!!(i&&i.indexOf(e)===0):i===e};nC.findPieceIndex=function(v3,e,Z){var v1;var KB=Infinity;for(var m=0,v2=e.length;m<v2;m++){var on=e[m].value;if(on!=null){if(on===v3||(typeof on==="string"&&on===v3+"")){return m}Z&&v(on,m)}}for(var m=0,v2=e.length;m<v2;m++){var KA=e[m];var k=KA.interval;var Kz=KA.close;if(k){if(k[0]===-Infinity){if(o7(Kz[1],v3,k[1])){return m}}else{if(k[1]===Infinity){if(o7(Kz[0],k[0],v3)){return m}}else{if(o7(Kz[0],k[0],v3)&&o7(Kz[1],v3,k[1])){return m}}}Z&&v(k[0],m);Z&&v(k[1],m)}}if(Z){return v3===Infinity?e.length-1:v3===-Infinity?0:v1}function v(KD,i){var KC=Math.abs(KD-v3);if(KC<KB){KB=KC;v1=i}}};function o7(k,i,e){return k?i<=e:i<e}var Kw=IQ;var eq="itemStyle";var zN={seriesType:"treemap",reset:function(m,i,v,Z){var e=m.getData().tree;var k=e.root;if(k.isRemoved()){return}hB(k,{},m.getViewRoot().getAncestors(),m)}};function hB(m,KB,Kz,Z){var i=m.getModel();var v2=m.getLayout();if(!v2||v2.invisible||!v2.isInView){return}var v3=m.getModel(eq);var v=s3(v3,KB,Z);var k=v3.get("borderColor");var v1=v3.get("borderColorSaturation");var on;if(v1!=null){on=Kq(v,m);k=H3(v1,on)}m.setVisual("borderColor",k);var KA=m.viewChildren;if(!KA||!KA.length){on=Kq(v,m);m.setVisual("color",on)}else{var e=z4(m,i,v2,v3,v,KA);qg(KA,function(KE,KC){if(KE.depth>=Kz.length||KE===Kz[KE.depth]){var KD=nK(i,v,KE,KC,e,Z);hB(KE,KD,Kz,Z)}})}}function s3(m,i,e){var k=cc({},i);var v=e.designatedVisualItemStyle;qg(["color","colorAlpha","colorSaturation"],function(Z){v[Z]=i[Z];var on=m.get(Z);v[Z]=null;on!=null&&(k[Z]=on)});return k}function Kq(m){var i=AX(m,"color");if(i){var k=AX(m,"colorAlpha");var e=AX(m,"colorSaturation");if(e){i=mo(i,null,null,e)}if(k){i=iX(i,k)}return i}}function H3(i,e){return e!=null?mo(e,null,null,i):null}function AX(k,e){var i=k[e];if(i!=null&&i!=="none"){return i}}function z4(v,m,v2,Kz,on,KA){if(!KA||!KA.length){return}var i=lU(m,"color")||(on.color!=null&&on.color!=="none"&&(lU(m,"colorAlpha")||lU(m,"colorSaturation")));if(!i){return}var v1=m.get("visualMin");var v3=m.get("visualMax");var KB=v2.dataExtent.slice();v1!=null&&v1<KB[0]&&(KB[0]=v1);v3!=null&&v3>KB[1]&&(KB[1]=v3);var Z=m.get("colorMappingBy");var k={type:i.name,dataExtent:KB,visual:i.range};if(k.type==="color"&&(Z==="index"||Z==="id")){k.mappingMethod="category";k.loop=true}else{k.mappingMethod="linear"}var e=new nC(k);e.__drColorMappingBy=Z;return e}function lU(k,i){var e=k.get(i);return(Kw(e)&&e.length)?{name:i,range:e}:null}function nK(m,Z,i,v2,e,on){var k=cc({},Z);if(e){var v1=e.type;var v=v1==="color"&&e.__drColorMappingBy;var v3=v==="index"?v2:v==="id"?on.mapIdToIndex(i.getId()):i.getValue(m.get("visualDimension"));k[v1]=e.mapValueToVisual(v3)}return k}var CB=Math.max;var kb=Math.min;var bM=g1;var vr=qg;var gW=["itemStyle","borderWidth"];var kO=["itemStyle","gapWidth"];var G9=["upperLabel","show"];var vN=["upperLabel","height"];var fe={seriesType:"treemap",reset:function(KF,KK,KB,KG){var Kz=KB.getWidth();var i=KB.getHeight();var v=KF.option;var KE=lL(KF.getBoxLayoutParams(),{width:KB.getWidth(),height:KB.getHeight()});var KD=v.size||[];var v3=BD(bM(KE.width,KD[0]),Kz);var KC=BD(bM(KE.height,KD[1]),i);var e=KG&&KG.type;var KA=["treemapZoomToNode","treemapRootToNode"];var v2=wo(KG,KA,KF);var Z=(e==="treemapRender"||e==="treemapMove")?KG.rootRect:null;var v1=KF.getViewRoot();var on=vb(v1);if(e!=="treemapMove"){var KI=e==="treemapZoomToNode"?X(KF,v2,v1,v3,KC):Z?[Z.width,Z.height]:[v3,KC];var KJ=v.sort;if(KJ&&KJ!=="asc"&&KJ!=="desc"){KJ="desc"}var m={squareRatio:v.squareRatio,sort:KJ,leafDepth:v.leafDepth};v1.hostTree.clearLayouts();var k={x:0,y:0,width:KI[0],height:KI[1],area:KI[0]*KI[1]};v1.setLayout(k);sA(v1,m,false,0);var k=v1.getLayout();vr(on,function(KN,KM){var KL=(on[KM+1]||v1).getValue();KN.setLayout(cc({dataExtent:[KL,KL],borderWidth:0,upperHeight:0},k))})}var KH=KF.getData().tree.root;KH.setLayout(JW(KE,Z,v2),true);KF.setLayoutInfo(KE);x6(KH,new EG(-KE.x,-KE.y,Kz,i),on,v1,0)}};function sA(KA,v,KI,KN){var Kz;var v2;if(KA.isRemoved()){return}var KL=KA.getLayout();Kz=KL.width;v2=KL.height;var v3=KA.getModel();var KO=v3.get(gW);var KD=v3.get(kO)/2;var KF=qF(v3);var KC=Math.max(KO,KF);var KM=KO-KD;var e=KC-KD;var v3=KA.getModel();KA.setLayout({borderWidth:KO,upperHeight:KC,upperLabelHeight:KF},true);Kz=CB(Kz-2*KM,0);v2=CB(v2-KM-e,0);var KK=Kz*v2;var KB=sg(KA,v3,KK,v,KI,KN);if(!KB.length){return}var k={x:KM,y:e,width:Kz,height:v2};var v1=kb(Kz,v2);var m=Infinity;var on=[];on.area=0;for(var KH=0,KJ=KB.length;KH<KJ;){var Z=KB[KH];on.push(Z);on.area+=Z.getLayout().area;var KG=js(on,v1,v.squareRatio);if(KG<=m){KH++;m=KG}else{on.area-=on.pop().getLayout().area;xf(on,v1,k,KD,false);v1=kb(k.width,k.height);on.length=on.area=0;m=Infinity}}if(on.length){xf(on,v1,k,KD,true)}if(!KI){var KE=v3.get("childrenVisibleMin");if(KE!=null&&KK<KE){KI=true}}for(var KH=0,KJ=KB.length;KH<KJ;KH++){sA(KB[KH],v,KI,KN+1)}}function sg(v,m,KB,KC,v1,on){var KA=v.children||[];var v3=KC.sort;v3!=="asc"&&v3!=="desc"&&(v3=null);var Kz=KC.leafDepth!=null&&KC.leafDepth<=on;if(v1&&!Kz){return(v.viewChildren=[])}KA=sk(KA,function(i){return !i.isRemoved()});f2(KA,v3);var k=gH(m,KA,v3);if(k.sum===0){return(v.viewChildren=[])}k.sum=du(m,KB,k.sum,v3,KA);if(k.sum===0){return(v.viewChildren=[])}for(var Z=0,v2=KA.length;Z<v2;Z++){var e=KA[Z].getValue()/k.sum*KB;KA[Z].setLayout({area:e})}if(Kz){KA.length&&v.setLayout({isLeafRoot:true},true);KA.length=0}v.viewChildren=KA;v.setLayout({dataExtent:k.dataExtent},true);return KA}function du(e,Kz,Z,v1,v){if(!v1){return Z}var v3=e.get("visibleMin");var on=v.length;var m=on;for(var k=on-1;k>=0;k--){var v2=v[v1==="asc"?on-k-1:k].getValue();if(v2/Z*Kz<v3){m=k;Z-=v2}}v1==="asc"?v.splice(0,on-m):v.splice(m,on-m);return Z}function f2(e,i){if(i){e.sort(function(m,k){var v=i==="asc"?m.getValue()-k.getValue():k.getValue()-m.getValue();return v===0?(i==="asc"?m.dataIndex-k.dataIndex:k.dataIndex-m.dataIndex):v})}return e}function gH(v2,m,v1){var v=0;for(var k=0,e=m.length;k<e;k++){v+=m[k].getValue()}var on=v2.get("visualDimension");var Z;if(!m||!m.length){Z=[NaN,NaN]}else{if(on==="value"&&v1){Z=[m[m.length-1].getValue(),m[0].getValue()];v1==="asc"&&Z.reverse()}else{var Z=[Infinity,-Infinity];vr(m,function(v3){var i=v3.getValue(on);i<Z[0]&&(Z[0]=i);i>Z[1]&&(Z[1]=i)})}}return{sum:v,dataExtent:Z}}function js(Kz,v2,v1){var k=0;var v3=Infinity;for(var v=0,e,on=Kz.length;v<on;v++){e=Kz[v].getLayout().area;if(e){e<v3&&(v3=e);e>k&&(k=e)}}var m=Kz.area*Kz.area;var Z=v2*v2*v1;return m?CB((Z*k)/m,m/(Z*v3)):Infinity}function xf(v3,Kz,e,KF,KD){var KG=Kz===e.width?0:1;var KI=1-KG;var Z=["x","y"];var v2=["width","height"];var KA=e[Z[KG]];var KJ=Kz?v3.area/Kz:0;if(KD||KJ>e[v2[KI]]){KJ=e[v2[KI]]}for(var KH=0,on=v3.length;KH<on;KH++){var KE=v3[KH];var KC={};var v1=KJ?KE.getLayout().area/KJ:0;var m=KC[v2[KI]]=CB(KJ-2*KF,0);var KB=e[Z[KG]]+e[v2[KG]]-KA;var k=(KH===on-1||KB<v1)?KB:v1;var v=KC[v2[KG]]=CB(k-2*KF,0);KC[Z[KI]]=e[Z[KI]]+kb(KF,m/2);KC[Z[KG]]=KA+kb(KF,v/2);KA+=k;KE.setLayout(KC,true)}e[Z[KI]]+=KJ;e[v2[KI]]-=KJ}function X(KB,v1,Z,v3,KA){var m=(v1||{}).node;var KD=[v3,KA];if(!m||m===Z){return KD}var v2;var Kz=v3*KA;var KG=Kz*KB.option.zoomToNodeRatio;while(v2=m.parentNode){var k=0;var v=v2.children;for(var KE=0,KF=v.length;KE<KF;KE++){k+=v[KE].getValue()}var on=m.getValue();if(on===0){return KD}KG*=k/on;var e=v2.getModel();var KI=e.get(gW);var KC=Math.max(KI,qF(e,KI));KG+=4*KI*KI+(3*KI+KC)*Math.pow(KG,0.5);KG>AJ&&(KG=AJ);m=v2}KG<Kz&&(KG=Kz);var KH=Math.pow(KG/Kz,0.5);return[v3*KH,KA*KH]}function JW(i,on,m){if(on){return{x:on.x,y:on.y}}var v2={x:0,y:0};if(!m){return v2}var v=m.node;var k=v.getLayout();if(!k){return v2}var Z=[k.width/2,k.height/2];var e=v;while(e){var v1=e.getLayout();Z[0]+=v1.x;Z[1]+=v1.y;e=e.parentNode}return{x:i.width/2-Z[0],y:i.height/2-Z[1]}}function x6(i,v,k,on,Z){var v1=i.getLayout();var v2=k[Z];var m=v2&&v2===i;if((v2&&!m)||(Z===k.length&&i!==on)){return}i.setLayout({isInView:true,invisible:!m&&!v.intersect(v1),isAboveViewRoot:m},true);var e=new EG(v.x-v1.x,v.y-v1.y,v.width,v.height);vr(i.viewChildren||[],function(v3){x6(v3,e,k,on,Z+1)})}function qF(e){return e.get(G9)?e.get(vN):0}H(zN);qz(fe);function i1(e){return"_EC_"+e}var h7=function(e){this._directed=e||false;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this.data;this.edgeData};var Fd=h7.prototype;Fd.type="graph";Fd.isDirected=function(){return this._directed};Fd.addNode=function(m,e){m=m==null?(""+e):(""+m);var k=this._nodesMap;if(k[i1(m)]){if(pm){console.error("Graph nodes have duplicate name or id")}return}var i=new ud(m,e);i.hostGraph=this;this.nodes.push(i);k[i1(m)]=i;return i};Fd.getNodeByIndex=function(e){var i=this.data.getRawIndex(e);return this.nodes[i]};Fd.getNodeById=function(e){return this._nodesMap[i1(e)]};Fd.addEdge=function(v,m,k){var on=this._nodesMap;var e=this._edgesMap;if(typeof v==="number"){v=this.nodes[v]}if(typeof m==="number"){m=this.nodes[m]}if(!ud.isInstance(v)){v=on[i1(v)]}if(!ud.isInstance(m)){m=on[i1(m)]}if(!v||!m){return}var i=v.id+"-"+m.id;var Z=new jy(v,m,k);Z.hostGraph=this;if(this._directed){v.outEdges.push(Z);m.inEdges.push(Z)}v.edges.push(Z);if(v!==m){m.edges.push(Z)}this.edges.push(Z);e[i]=Z;return Z};Fd.getEdgeByIndex=function(e){var i=this.edgeData.getRawIndex(e);return this.edges[i]};Fd.getEdge=function(k,i){if(ud.isInstance(k)){k=k.id}if(ud.isInstance(i)){i=i.id}var e=this._edgesMap;if(this._directed){return e[k+"-"+i]}else{return e[k+"-"+i]||e[i+"-"+k]}};Fd.eachNode=function(k,Z){var m=this.nodes;var e=m.length;for(var v=0;v<e;v++){if(m[v].dataIndex>=0){k.call(Z,m[v],v)}}};Fd.eachEdge=function(k,Z){var m=this.edges;var e=m.length;for(var v=0;v<e;v++){if(m[v].dataIndex>=0&&m[v].node1.dataIndex>=0&&m[v].node2.dataIndex>=0){k.call(Z,m[v],v)}}};Fd.breadthFirstTraverse=function(Z,v,KA,k){if(!ud.isInstance(v)){v=this._nodesMap[i1(v)]}if(!v){return}var KB=KA==="out"?"outEdges":(KA==="in"?"inEdges":"edges");for(var v2=0;v2<this.nodes.length;v2++){this.nodes[v2].__visited=false}if(Z.call(k,v,null)){return}var v3=[v];while(v3.length){var m=v3.shift();var v1=m[KB];for(var v2=0;v2<v1.length;v2++){var Kz=v1[v2];var on=Kz.node1===m?Kz.node2:Kz.node1;if(!on.__visited){if(Z.call(k,on,m)){return}v3.push(on);on.__visited=true}}}};Fd.update=function(){var on=this.data;var Z=this.edgeData;var m=this.nodes;var k=this.edges;for(var v=0,e=m.length;v<e;v++){m[v].dataIndex=-1}for(var v=0,e=on.count();v<e;v++){m[on.getRawIndex(v)].dataIndex=v}Z.filterSelf(function(i){var v1=k[Z.getRawIndex(i)];return v1.node1.dataIndex>=0&&v1.node2.dataIndex>=0});for(var v=0,e=k.length;v<e;v++){k[v].dataIndex=-1}for(var v=0,e=Z.count();v<e;v++){k[Z.getRawIndex(v)].dataIndex=v}};Fd.clone=function(){var Z=new h7(this._directed);var m=this.nodes;var k=this.edges;for(var v=0;v<m.length;v++){Z.addNode(m[v].id,m[v].dataIndex)}for(var v=0;v<k.length;v++){var on=k[v];Z.addEdge(on.node1.id,on.node2.id,on.dataIndex)}return Z};function ud(i,e){this.id=i==null?"":i;this.inEdges=[];this.outEdges=[];this.edges=[];this.hostGraph;this.dataIndex=e==null?-1:e}ud.prototype={constructor:ud,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(k){if(this.dataIndex<0){return}var i=this.hostGraph;var e=i.data.getItemModel(this.dataIndex);return e.getModel(k)}};function jy(k,i,e){this.node1=k;this.node2=i;this.dataIndex=e==null?-1:e}jy.prototype.getModel=function(k){if(this.dataIndex<0){return}var i=this.hostGraph;var e=i.edgeData.getItemModel(this.dataIndex);return e.getModel(k)};var J1=function(i,e){return{getValue:function(m){var k=this[i][e];return k.get(k.getDimension(m||"value"),this.dataIndex)},setVisual:function(k,m){this.dataIndex>=0&&this[i][e].setItemVisual(this.dataIndex,k,m)},getVisual:function(m,k){return this[i][e].getItemVisual(this.dataIndex,m,k)},setLayout:function(m,k){this.dataIndex>=0&&this[i][e].setItemLayout(this.dataIndex,m,k)},getLayout:function(){return this[i][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[i][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[i][e].getRawIndex(this.dataIndex)}}};Iz(ud,J1("hostGraph","data"));Iz(jy,J1("hostGraph","edgeData"));h7.Node=ud;h7.Edge=jy;BX(ud);BX(jy);var DF=function(KD,v,KC,Z,Kz){var k=new h7(Z);for(var KF=0;KF<KD.length;KF++){k.addNode(g1(KD[KF].id,KD[KF].name,KF),KF)}var on=[];var v1=[];var KB=0;for(var KF=0;KF<v.length;KF++){var KA=v[KF];var KE=KA.source;var KI=KA.target;if(k.addEdge(KE,KI,KB)){v1.push(KA);on.push(g1(KA.id,KE+" > "+KI));KB++}}var v3=KC.get("coordinateSystem");var e;if(v3==="cartesian2d"||v3==="polar"){e=b(KD,KC)}else{var KH=fZ.get(v3);var v2=(KH&&KH.type!=="view")?(KH.dimensions||[]):[];if(fc(v2,"value")<0){v2.concat(["value"])}var KG=Ad(KD,{coordDimensions:v2});e=new y6(KG,KC);e.initData(KD)}var m=new y6(["value"],KC);m.initData(v1,on);Kz&&Kz(e,m);DG({mainData:e,struct:k,structAttr:"graph",datas:{node:e,edge:m},datasAttr:{node:"data",edge:"edgeData"}});k.update();return k};var H9="-->";var ji=function(e){return e.get("autoCurveness")||null};var J0=function(m,v1){var k=ji(m);var on=20;var v=[];if(typeof k==="number"){on=k}else{if(IQ(k)){m.__curvenessList=k;return}}if(v1>on){on=v1}var e=on%2?on+2:on+3;v=[];for(var Z=0;Z<e;Z++){v.push((Z%2?Z+1:Z)/10*(Z%2?-1:1))}m.__curvenessList=v};var kT=function(k,i,e){var m=[k.id,k.dataIndex].join(".");var v=[i.id,i.dataIndex].join(".");return[e.uid,m,v].join(H9)};var Ho=function(e){var i=e.split(H9);return[i[0],i[2],i[1]].join(H9)};var t0=function(k,e){var i=kT(k.node1,k.node2,e);return e.__edgeMap[i]};var a=function(k,i){var e=l3(kT(k.node1,k.node2,i),i);var m=l3(kT(k.node2,k.node1,i),i);return e+m};var l3=function(k,i){var e=i.__edgeMap;return e[k]?e[k].length:0};function kn(e){if(!ji(e)){return}e.__curvenessList=[];e.__edgeMap={};J0(e)}function ah(Z,v,i,k){if(!ji(i)){return}var m=kT(Z,v,i);var e=i.__edgeMap;var on=e[Ho(m)];if(e[m]&&!on){e[m].isForward=true}else{if(on&&e[m]){on.isForward=true;e[m].isForward=false}}e[m]=e[m]||[];e[m].push(k)}function eu(v,on,KB,KD){var KC=ji(on);var Z=IQ(KC);if(!KC){return null}var k=t0(v,on);if(!k){return null}var e=-1;for(var v2=0;v2<k.length;v2++){if(k[v2]===KB){e=v2;break}}var KF=a(v,on);J0(on,KF);v.lineStyle=v.lineStyle||{};var v1=kT(v.node1,v.node2,on);var KE=on.__curvenessList;var v3=Z?0:KF%2?0:1;if(!k.isForward){var Kz=Ho(v1);var KA=l3(Kz,on);var m=KE[e+KA+v3];if(KD){if(Z){if(KC&&KC[0]===0){return(KA+v3)%2?m:-m}else{return((KA%2?0:1)+v3)%2?m:-m}}else{return(KA+v3)%2?m:-m}}else{return KE[e+KA+v3]}}else{return KE[v3+e]}}var wr=DZ({type:"series.graph",init:function(i){wr.superApply(this,"init",arguments);var e=this;function k(){return e._categoriesData}this.legendVisualProvider=new d8(k,k);this.fillDataTextStyle(i.edges||i.links);this._updateCategoriesData()},mergeOption:function(e){wr.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(e){wr.superApply(this,"mergeDefaultAndTheme",arguments);FC(e,["edgeLabel"],["show"])},getInitialData:function(Z,e){var m=Z.edges||Z.links||[];var k=Z.data||Z.nodes||[];var i=this;if(k&&m){kn(this);var on=DF(k,m,this,true,v);qg(on.edges,function(v1){ah(v1.node1,v1.node2,this,v1.dataIndex)},this);return on.data}function v(Kz,KC){Kz.wrapMethod("getItemModel",function(KD){var KF=i._categoriesModels;var KG=KD.getShallow("category");var KE=KF[KG];if(KE){KE.parentModel=KD.parentModel;KD.parentModel=KE}return KD});var KA=i.getModel("edgeLabel");var v3=new fV({label:KA.option},KA.parentModel,e);var KB=i.getModel("emphasis.edgeLabel");var v2=new fV({emphasis:{label:KB.option}},KB.parentModel,e);KC.wrapMethod("getItemModel",function(KD){KD.customizeGetParent(v1);return KD});function v1(KD){KD=this.parsePath(KD);return(KD&&KD[0]==="label")?v3:(KD&&KD[0]==="emphasis"&&KD[1]==="label")?v2:this.parentModel}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(v1,m,v2){if(v2==="edge"){var e=this.getData();var v=this.getDataParams(v1,v2);var k=e.graph.getEdgeByIndex(v1);var i=e.getName(k.node1.dataIndex);var Z=e.getName(k.node2.dataIndex);var on=[];i!=null&&on.push(i);Z!=null&&on.push(Z);on=nq(on.join(" > "));if(v.value){on+=" : "+nq(v.value)}return on}else{return wr.superApply(this,"formatTooltip",arguments)}},_updateCategoriesData:function(){var i=Gj(this.option.categories||[],function(k){return k.value!=null?k:cc({value:0},k)});var e=new y6(["value"],this);e.initData(i);this._categoriesData=e;this._categoriesModels=e.mapArray(function(k){return e.getItemModel(k,true)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return wr.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:true,hoverAnimation:true,layout:null,focusNodeAdjacency:false,circular:{rotateLabel:false},force:{initLayout:null,repulsion:[0,50],gravity:0.1,friction:0.6,edgeLength:30,layoutAnimation:true},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:false,roam:false,center:null,zoom:1,nodeScaleRatio:0.6,label:{show:false,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:0.5},emphasis:{label:{show:true}}}});var wC=Br.prototype;var da=hy.prototype;function Dv(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var JD=JJ({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,i){this[Dv(i)?"_buildPathLine":"_buildPathCurve"](e,i)},_buildPathLine:wC.buildPath,_buildPathCurve:da.buildPath,pointAt:function(e){return this[Dv(this.shape)?"_pointAtLine":"_pointAtCurve"](e)},_pointAtLine:wC.pointAt,_pointAtCurve:da.pointAt,tangentAt:function(i){var e=this.shape;var k=Dv(e)?[e.x2-e.x1,e.y2-e.y1]:this._tangentAtCurve(i);return yj(k,k)},_tangentAtCurve:da.tangentAt});var ym=["fromSymbol","toSymbol"];function kc(e){return"_"+e+"Type"}function Go(m,v1,i){var Z=v1.getItemVisual(i,m);if(!Z||Z==="none"){return}var k=v1.getItemVisual(i,"color");var v=v1.getItemVisual(i,m+"Size");var on=v1.getItemVisual(i,m+"Rotate");if(!IQ(v)){v=[v,v]}var e=vz(Z,-v[0]/2,-v[1]/2,v[0],v[1],k);e.__specifiedRotation=on==null||isNaN(on)?void 0:+on*Math.PI/180||0;e.name=m;return e}function Jy(i){var e=new JD({name:"line",subPixelOptimize:true});HM(e.shape,i);return e}function HM(e,i){e.x1=i[0][0];e.y1=i[0][1];e.x2=i[1][0];e.y2=i[1][1];e.percent=1;var k=i[2];if(k){e.cpx1=k[0];e.cpy1=k[1]}else{e.cpx1=NaN;e.cpy1=NaN}}function kB(){var KK=this;var e=KK.childOfName("fromSymbol");var KO=KK.childOfName("toSymbol");var v2=KK.childOfName("label");if(!e&&!KO&&v2.ignore){return}var k=1;var v3=this.parent;while(v3){if(v3.scale){k/=v3.scale[0]}v3=v3.parent}var KD=KK.childOfName("line");if(!this.__dirty&&!KD.__dirty){return}var i=KD.shape.percent;var KJ=KD.pointAt(0);var KI=KD.pointAt(i);var KN=DJ([],KI,KJ);yj(KN,KN);if(e){e.attr("position",KJ);var v1=e.__specifiedRotation;if(v1==null){var Kz=KD.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(Kz[1],Kz[0]))}else{e.attr("rotation",v1)}e.attr("scale",[k*i,k*i])}if(KO){KO.attr("position",KI);var v1=KO.__specifiedRotation;if(v1==null){var Kz=KD.tangentAt(1);KO.attr("rotation",-Math.PI/2-Math.atan2(Kz[1],Kz[0]))}else{KO.attr("rotation",v1)}KO.attr("scale",[k*i,k*i])}if(!v2.ignore){v2.attr("position",KI);var v;var Z;var KE;var KA;var KC=v2.__labelDistance;var KM=KC[0]*k;var KL=KC[1]*k;var m=i/2;var Kz=KD.tangentAt(m);var KG=[Kz[1],-Kz[0]];var on=KD.pointAt(m);if(KG[1]>0){KG[0]=-KG[0];KG[1]=-KG[1]}var KF=Kz[0]<0?-1:1;if(v2.__position!=="start"&&v2.__position!=="end"){var KH=-Math.atan2(Kz[1],Kz[0]);if(KI[0]<KJ[0]){KH=Math.PI+KH}v2.attr("rotation",KH)}var KB;switch(v2.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":KB=-KL;KE="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":KB=KL;KE="top";break;default:KB=0;KE="middle"}switch(v2.__position){case"end":v=[KN[0]*KM+KI[0],KN[1]*KL+KI[1]];Z=KN[0]>0.8?"left":(KN[0]<-0.8?"right":"center");KE=KN[1]>0.8?"top":(KN[1]<-0.8?"bottom":"middle");break;case"start":v=[-KN[0]*KM+KJ[0],-KN[1]*KL+KJ[1]];Z=KN[0]>0.8?"right":(KN[0]<-0.8?"left":"center");KE=KN[1]>0.8?"bottom":(KN[1]<-0.8?"top":"middle");break;case"insideStartTop":case"insideStart":case"insideStartBottom":v=[KM*KF+KJ[0],KJ[1]+KB];Z=Kz[0]<0?"right":"left";KA=[-KM*KF,-KB];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":v=[on[0],on[1]+KB];Z="center";KA=[0,-KB];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":v=[-KM*KF+KI[0],KI[1]+KB];Z=Kz[0]>=0?"right":"left";KA=[KM*KF,-KB];break}v2.attr({style:{textVerticalAlign:v2.__verticalAlign||KE,textAlign:v2.__textAlign||Z},position:v,scale:[k,k],origin:KA})}}function nH(k,e,i){D4.call(this);this._createLine(k,e,i)}var mA=nH.prototype;mA.beforeUpdate=kB;mA._createLine=function(on,e,v){var k=on.hostModel;var Z=on.getItemLayout(e);var i=Jy(Z);i.shape.percent=0;kl(i,{shape:{percent:1}},k,e);this.add(i);var m=new jv({name:"label",lineLabelOriginalOpacity:1});this.add(m);qg(ym,function(v1){var v2=Go(v1,on,e);this.add(v2);this[kc(v1)]=on.getItemVisual(e,v1)},this);this._updateCommonStl(on,e,v)};mA.updateData=function(on,e,m){var k=on.hostModel;var i=this.childOfName("line");var Z=on.getItemLayout(e);var v={shape:{}};HM(v.shape,Z);pZ(i,v,k,e);qg(ym,function(v2){var Kz=on.getItemVisual(e,v2);var v1=kc(v2);if(this[v1]!==Kz){this.remove(this.childOfName(v2));var v3=Go(v2,on,e);this.add(v3)}this[v1]=Kz},this);this._updateCommonStl(on,e,m)};mA._updateCommonStl=function(KE,KC,KB){var KD=KE.hostModel;var v3=this.childOfName("line");var k=KB&&KB.lineStyle;var Kz=KB&&KB.hoverLineStyle;var v1=KB&&KB.labelModel;var KH=KB&&KB.hoverLabelModel;if(!KB||KE.hasItemOption){var KG=KE.getItemModel(KC);k=KG.getModel("lineStyle").getLineStyle();Kz=KG.getModel("emphasis.lineStyle").getLineStyle();v1=KG.getModel("label");KH=KG.getModel("emphasis.label")}var Z=KE.getItemVisual(KC,"color");var v=kX(KE.getItemVisual(KC,"opacity"),k.opacity,1);v3.useStyle(Fg({strokeNoScale:true,fill:"none",stroke:Z,opacity:v},k));v3.hoverStyle=Kz;qg(ym,function(KL){var KM=this.childOfName(KL);if(KM){KM.setColor(Z);KM.setStyle({opacity:v})}},this);var KI=v1.getShallow("show");var m=KH.getShallow("show");var on=this.childOfName("label");var KA;var KK;if(KI||m){KA=Z||"#000";KK=KD.getFormattedLabel(KC,"normal",KE.dataType);if(KK==null){var KJ=KD.getRawValue(KC);KK=KJ==null?KE.getName(KC):isFinite(KJ)?HR(KJ):KJ}}var i=KI?KK:null;var KF=m?kY(KD.getFormattedLabel(KC,"emphasis",KE.dataType),KK):null;var e=on.style;if(i!=null||KF!=null){ql(on.style,v1,{text:i},{autoColor:KA});on.__textAlign=e.textAlign;on.__verticalAlign=e.textVerticalAlign;on.__position=v1.get("position")||"middle";var v2=v1.get("distance");if(!IQ(v2)){v2=[v2,v2]}on.__labelDistance=v2}if(KF!=null){on.hoverStyle={text:KF,textFill:KH.getTextColor(true),fontStyle:KH.getShallow("fontStyle"),fontWeight:KH.getShallow("fontWeight"),fontSize:KH.getShallow("fontSize"),fontFamily:KH.getShallow("fontFamily")}}else{on.hoverStyle={text:null}}on.ignore=!KI&&!m;z3(this)};mA.highlight=function(){this.trigger("emphasis")};mA.downplay=function(){this.trigger("normal")};mA.updateLayout=function(i,e){this.setLinePoints(i.getItemLayout(e))};mA.setLinePoints=function(i){var e=this.childOfName("line");HM(e.shape,i);e.dirty()};nm(nH,D4);function h5(e){this._ctor=e||nH;this.group=new D4()}var go=h5.prototype;go.isPersistent=function(){return true};go.updateData=function(v){var e=this;var m=e.group;var k=e._lineData;e._lineData=v;if(!k){m.removeAll()}var i=et(v);v.diff(k).add(function(Z){ss(e,v,Z,i)}).update(function(on,Z){ua(e,k,v,Z,on,i)}).remove(function(Z){m.remove(k.getItemGraphicEl(Z))}).execute()};function ss(i,Z,e,k){var v=Z.getItemLayout(e);if(!ft(v)){return}var m=new i._ctor(Z,e,k);Z.setItemGraphicEl(e,m);i.group.add(m)}function ua(e,v,on,m,Z,k){var i=v.getItemGraphicEl(m);if(!ft(on.getItemLayout(Z))){e.group.remove(i);return}if(!i){i=new e._ctor(on,Z,k)}else{i.updateData(on,Z,k)}on.setItemGraphicEl(Z,i);e.group.add(i)}go.updateLayout=function(){var e=this._lineData;if(!e){return}e.eachItemGraphicEl(function(k,i){k.updateLayout(e,i)},this)};go.incrementalPrepareUpdate=function(e){this._seriesScope=et(e);this._lineData=null;this.group.removeAll()};function Fc(e){return e.animators&&e.animators.length>0}go.incrementalUpdate=function(v,Z){function i(on){if(!on.isGroup&&!Fc(on)){on.incremental=on.useHoverLayer=true}}for(var e=v.start;e<v.end;e++){var m=Z.getItemLayout(e);if(ft(m)){var k=new this._ctor(Z,e,this._seriesScope);k.traverse(i);this.group.add(k);Z.setItemGraphicEl(e,k)}}};function et(i){var e=i.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),hoverLineStyle:e.getModel("emphasis.lineStyle").getLineStyle(),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label")}}go.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};go._clearIncremental=function(){var e=this._incremental;if(e){e.clearDisplaybles()}};function yl(e){return isNaN(e[0])||isNaN(e[1])}function ft(e){return !yl(e[0])&&!yl(e[1])}function jW(k){var m=k.coordinateSystem;if(m.type!=="view"){return 1}var on=k.option.nodeScaleRatio;var i=m.scale;var e=(i&&i[0])||1;var Z=m.getZoom();var v=(Z-1)*on+1;return v/e}function P(e){var i=e.getVisual("symbolSize");if(i instanceof Array){i=(i[0]+i[1])/2}return +i}var Di=[];var Dh=[];var Df=[];var sh=lj;var sN=cz;var kW=Math.abs;function xy(m,e,v1){var KD=m[0];var KC=m[1];var Kz=m[2];var v2=Infinity;var KE;var on=v1*v1;var k=0.1;for(var KB=0.1;KB<=0.9;KB+=0.1){Di[0]=sh(KD[0],KC[0],Kz[0],KB);Di[1]=sh(KD[1],KC[1],Kz[1],KB);var v3=kW(sN(Di,e)-on);if(v3<v2){v2=v3;KE=KB}}for(var v=0;v<32;v++){var Z=KE+k;Dh[0]=sh(KD[0],KC[0],Kz[0],KE);Dh[1]=sh(KD[1],KC[1],Kz[1],KE);Df[0]=sh(KD[0],KC[0],Kz[0],Z);Df[1]=sh(KD[1],KC[1],Kz[1],Z);var v3=sN(Dh,e)-on;if(kW(v3)<0.01){break}var KA=sN(Df,e)-on;k/=2;if(v3<0){if(KA>=0){KE=KE+k}else{KE=KE-k}}else{if(KA>=0){KE=KE-k}else{KE=KE+k}}}return KE}var nX=function(Z,e){var m=[];var v1=GI;var on=[[],[],[]];var k=[[],[]];var i=[];e/=2;Z.eachEdge(function(KB,v){var KD=KB.getLayout();var Kz=KB.getVisual("fromSymbol");var v3=KB.getVisual("toSymbol");if(!KD.__original){KD.__original=[wm(KD[0]),wm(KD[1])];if(KD[2]){KD.__original.push(wm(KD[2]))}}var v2=KD.__original;if(KD[2]!=null){Ar(on[0],v2[0]);Ar(on[1],v2[2]);Ar(on[2],v2[1]);if(Kz&&Kz!=="none"){var KC=P(KB.node1);var KA=xy(on,v2[0],KC*e);v1(on[0][0],on[1][0],on[2][0],KA,m);on[0][0]=m[3];on[1][0]=m[4];v1(on[0][1],on[1][1],on[2][1],KA,m);on[0][1]=m[3];on[1][1]=m[4]}if(v3&&v3!=="none"){var KC=P(KB.node2);var KA=xy(on,v2[1],KC*e);v1(on[0][0],on[1][0],on[2][0],KA,m);on[1][0]=m[1];on[2][0]=m[2];v1(on[0][1],on[1][1],on[2][1],KA,m);on[1][1]=m[1];on[2][1]=m[2]}Ar(KD[0],on[0]);Ar(KD[1],on[2]);Ar(KD[2],on[1])}else{Ar(k[0],v2[0]);Ar(k[1],v2[1]);DJ(i,k[1],k[0]);yj(i,i);if(Kz&&Kz!=="none"){var KC=P(KB.node1);CY(k[0],k[0],i,KC*e)}if(v3&&v3!=="none"){var KC=P(KB.node2);CY(k[1],k[1],i,-KC*e)}Ar(KD[0],k[0]);Ar(KD[1],k[1])}})};var At="__focusNodeAdjacency";var ks="__unfocusNodeAdjacency";var lx=["itemStyle","opacity"];var Gg=["lineStyle","opacity"];function fD(k,i){var e=k.getVisual("opacity");return e!=null?e:k.getModel().get(i)}function bg(m,k,v){var i=m.getGraphicEl();var e=fD(m,k);if(v!=null){e==null&&(e=1);e*=v}i.downplay&&i.downplay();i.traverse(function(on){if(!on.isGroup){var Z=on.lineLabelOriginalOpacity;if(Z==null||v!=null){Z=e}on.setStyle("opacity",Z)}})}function J4(m,k){var e=fD(m,k);var i=m.getGraphicEl();i.traverse(function(v){!v.isGroup&&v.setStyle("opacity",e)});i.highlight&&i.highlight()}DH({type:"graph",init:function(e,m){var k=new Hf();var i=new h5();var v=this.group;this._controller=new ai(m.getZr());this._controllerHost={target:v};v.add(k.group);v.add(i.group);this._symbolDraw=k;this._lineDraw=i;this._firstRender=true},render:function(m,v1,v2){var i=this;var Z=m.coordinateSystem;this._model=m;var e=this._symbolDraw;var Kz=this._lineDraw;var KC=this.group;if(Z.type==="view"){var KA={position:Z.position,scale:Z.scale};if(this._firstRender){KC.attr(KA)}else{pZ(KC,KA,m)}}nX(m.getGraph(),jW(m));var on=m.getData();e.updateData(on);var v3=m.getEdgeData();Kz.updateData(v3);this._updateNodeAndLinkScale();this._updateController(m,v1,v2);clearTimeout(this._layoutTimeout);var KB=m.forceLayout;var KE=m.get("force.layoutAnimation");if(KB){this._startForceLayoutIteration(KB,KE)}on.eachItemGraphicEl(function(KI,KG){var KH=on.getItemModel(KG);KI.off("drag").off("dragend");var KF=KH.get("draggable");if(KF){KI.on("drag",function(){if(KB){KB.warmUp();!this._layouting&&this._startForceLayoutIteration(KB,KE);KB.setFixed(KG);on.setItemLayout(KG,KI.position)}},this).on("dragend",function(){if(KB){KB.setUnfixed(KG)}},this)}KI.setDraggable(KF&&KB);KI[At]&&KI.off("mouseover",KI[At]);KI[ks]&&KI.off("mouseout",KI[ks]);if(KH.get("focusNodeAdjacency")){KI.on("mouseover",KI[At]=function(){i._clearTimer();v2.dispatchAction({type:"focusNodeAdjacency",seriesId:m.id,dataIndex:KI.dataIndex})});KI.on("mouseout",KI[ks]=function(){i._dispatchUnfocus(v2)})}},this);on.graph.eachEdge(function(KG){var KF=KG.getGraphicEl();KF[At]&&KF.off("mouseover",KF[At]);KF[ks]&&KF.off("mouseout",KF[ks]);if(KG.getModel().get("focusNodeAdjacency")){KF.on("mouseover",KF[At]=function(){i._clearTimer();v2.dispatchAction({type:"focusNodeAdjacency",seriesId:m.id,edgeDataIndex:KG.dataIndex})});KF.on("mouseout",KF[ks]=function(){i._dispatchUnfocus(v2)})}});var KD=m.get("layout")==="circular"&&m.get("circular.rotateLabel");var v=on.getLayout("cx");var k=on.getLayout("cy");on.eachItemGraphicEl(function(KG,KL){var KM=on.getItemModel(KL);var KF=KM.get("label.rotate")||0;var KH=KG.getSymbolPath();if(KD){var KJ=on.getItemLayout(KL);var KI=Math.atan2(KJ[1]-k,KJ[0]-v);if(KI<0){KI=Math.PI*2+KI}var KK=KJ[0]<v;if(KK){KI=KI-Math.PI}var KN=KK?"left":"right";F8(KH,{textRotation:-KI,textPosition:KN,textOrigin:"center"},{textPosition:KN})}else{F8(KH,{textRotation:KF*=Math.PI/180})}});this._firstRender=false},dispose:function(){this._controller&&this._controller.dispose();this._controllerHost={};this._clearTimer()},_dispatchUnfocus:function(k,i){var e=this;this._clearTimer();this._unfocusDelayTimer=setTimeout(function(){e._unfocusDelayTimer=null;k.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e._model.id})},500)},_clearTimer:function(){if(this._unfocusDelayTimer){clearTimeout(this._unfocusDelayTimer);this._unfocusDelayTimer=null}},focusNodeAdjacency:function(k,v,Z,v2){var m=k.getData();var v3=m.graph;var on=v2.dataIndex;var v1=v2.edgeDataIndex;var i=v3.getNodeByIndex(on);var e=v3.getEdgeByIndex(v1);if(!i&&!e){return}v3.eachNode(function(Kz){bg(Kz,lx,0.1)});v3.eachEdge(function(Kz){bg(Kz,Gg,0.1)});if(i){J4(i,lx);qg(i.edges,function(Kz){if(Kz.dataIndex<0){return}J4(Kz,Gg);J4(Kz.node1,lx);J4(Kz.node2,lx)})}if(e){J4(e,Gg);J4(e.node1,lx);J4(e.node2,lx)}},unfocusNodeAdjacency:function(i,e,k,v){var m=i.getData().graph;m.eachNode(function(Z){bg(Z,lx)});m.eachEdge(function(Z){bg(Z,Gg)})},_startForceLayoutIteration:function(m,k){var e=this;(function i(){m.step(function(v){e.updateLayout(e._model);(e._layouting=!v)&&(k?(e._layoutTimeout=setTimeout(i,16)):i())})})()},_updateController:function(k,e,m){var i=this._controller;var Z=this._controllerHost;var v=this.group;i.setPointerChecker(function(v2,on,v3){var v1=v.getBoundingRect();v1.applyTransform(v.transform);return v1.contain(on,v3)&&!ER(v2,m,k)});if(k.coordinateSystem.type!=="view"){i.disable();return}i.enable(k.get("roam"));Z.zoomLimit=k.get("scaleLimit");Z.zoom=k.coordinateSystem.getZoom();i.off("pan").off("zoom").on("pan",function(on){HW(Z,on.dx,on.dy);m.dispatchAction({seriesId:k.id,type:"graphRoam",dx:on.dx,dy:on.dy})}).on("zoom",function(on){Bu(Z,on.scale,on.originX,on.originY);m.dispatchAction({seriesId:k.id,type:"graphRoam",zoom:on.scale,originX:on.originX,originY:on.originY});this._updateNodeAndLinkScale();nX(k.getGraph(),jW(k));this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var e=this._model;var m=e.getData();var i=jW(e);var k=[i,i];m.eachItemGraphicEl(function(Z,v){Z.attr("scale",k)})},updateLayout:function(e){nX(e.getGraph(),jW(e));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(e,i){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}});ce({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){});ce({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){});var bR={type:"graphRoam",event:"graphRoam",update:"none"};ce(bR,function(i,e){e.eachComponent({mainType:"series",query:i},function(k){var v=k.coordinateSystem;var m=bP(v,i);k.setCenter&&k.setCenter(m.center);k.setZoom&&k.setZoom(m.zoom)})});var c6=function(e){var i=e.findComponents({mainType:"legend"});if(!i||!i.length){return}e.eachSeriesByType("graph",function(on){var k=on.getCategoriesData();var Z=on.getGraph();var v=Z.data;var m=k.mapArray(k.getName);v.filterSelf(function(v1){var v2=v.getItemModel(v1);var Kz=v2.getShallow("category");if(Kz!=null){if(typeof Kz==="number"){Kz=m[Kz]}for(var v3=0;v3<i.length;v3++){if(!i[v3].isSelected(Kz)){return false}}}return true})},this)};var gU=function(e){var i={};e.eachSeriesByType("graph",function(v){var k=v.getCategoriesData();var Z=v.getData();var m={};k.each(function(v1){var v3=k.getName(v1);m["ec-"+v3]=v1;var KA=k.getItemModel(v1);var v2=KA.get("itemStyle.color")||v.getColorFromPalette(v3,i);k.setItemVisual(v1,"color",v2);var on=["opacity","symbol","symbolSize","symbolKeepAspect"];for(var Kz=0;Kz<on.length;Kz++){var KB=KA.getShallow(on[Kz],true);if(KB!=null){k.setItemVisual(v1,on[Kz],KB)}}});if(k.count()){Z.each(function(v1){var v2=Z.getItemModel(v1);var Kz=v2.getShallow("category");if(Kz!=null){if(typeof Kz==="string"){Kz=m["ec-"+Kz]}var on=["color","opacity","symbol","symbolSize","symbolKeepAspect"];for(var v3=0;v3<on.length;v3++){if(Z.getItemVisual(v1,on[v3],true)==null){Z.setItemVisual(v1,on[v3],k.getItemVisual(Kz,on[v3]))}}}})}})};function mm(e){if(!(e instanceof Array)){e=[e,e]}return e}var iw=function(e){e.eachSeriesByType("graph",function(k){var on=k.getGraph();var v=k.getEdgeData();var v1=mm(k.get("edgeSymbol"));var Z=mm(k.get("edgeSymbolSize"));var m="lineStyle.color".split(".");var i="lineStyle.opacity".split(".");v.setVisual("fromSymbol",v1&&v1[0]);v.setVisual("toSymbol",v1&&v1[1]);v.setVisual("fromSymbolSize",Z&&Z[0]);v.setVisual("toSymbolSize",Z&&Z[1]);v.setVisual("color",k.get(m));v.setVisual("opacity",k.get(i));v.each(function(v2){var KA=v.getItemModel(v2);var KB=on.getEdgeByIndex(v2);var KD=mm(KA.getShallow("symbol",true));var KC=mm(KA.getShallow("symbolSize",true));var v3=KA.get(m);var Kz=KA.get(i);switch(v3){case"source":v3=KB.node1.getVisual("color");break;case"target":v3=KB.node2.getVisual("color");break}KD[0]&&KB.setVisual("fromSymbol",KD[0]);KD[1]&&KB.setVisual("toSymbol",KD[1]);KC[0]&&KB.setVisual("fromSymbolSize",KC[0]);KC[1]&&KB.setVisual("toSymbolSize",KC[1]);KB.setVisual("color",v3);KB.setVisual("opacity",Kz)})})};function A6(e){var i=e.coordinateSystem;if(i&&i.type!=="view"){return}var k=e.getGraph();k.eachNode(function(v){var m=v.getModel();v.setLayout([+m.get("x"),+m.get("y")])});It(k,e)}function It(i,e){i.eachEdge(function(Z,k){var m=kX(Z.getModel().get("lineStyle.curveness"),-eu(Z,e,k,true),0);var v1=wm(Z.node1.getLayout());var on=wm(Z.node2.getLayout());var v=[v1,on];if(+m){v.push([(v1[0]+on[0])/2-(v1[1]-on[1])*m,(v1[1]+on[1])/2-(on[0]-v1[0])*m])}Z.setLayout(v)})}var g2=function(e,i){e.eachSeriesByType("graph",function(v){var v2=v.get("layout");var Z=v.coordinateSystem;if(Z&&Z.type!=="view"){var v1=v.getData();var k=[];qg(Z.dimensions,function(KB){k=k.concat(v1.mapDimension(KB,true))});for(var v3=0;v3<v1.count();v3++){var Kz=[];var KA=false;for(var on=0;on<k.length;on++){var m=v1.get(k[on],v3);if(!isNaN(m)){KA=true}Kz.push(m)}if(KA){v1.setItemLayout(v3,Z.dataToPoint(Kz))}else{v1.setItemLayout(v3,[NaN,NaN])}}It(v1.graph,v)}else{if(!v2||v2==="none"){A6(v)}}})};var Al=Math.PI;var py=[];function lw(m,v3){var Z=m.coordinateSystem;if(Z&&Z.type!=="view"){return}var v1=Z.getBoundingRect();var i=m.getData();var v2=i.graph;var v=v1.width/2+v1.x;var k=v1.height/2+v1.y;var e=Math.min(v1.width,v1.height)/2;var on=i.count();i.setLayout({cx:v,cy:k});if(!on){return}oQ[v3](m,Z,v2,i,e,v,k,on);v2.eachEdge(function(KC,KA){var KB=kX(KC.getModel().get("lineStyle.curveness"),eu(KC,m,KA),0);var KG=wm(KC.node1.getLayout());var KE=wm(KC.node2.getLayout());var KF;var KD=(KG[0]+KE[0])/2;var Kz=(KG[1]+KE[1])/2;if(+KB){KB*=3;KF=[v*KB+KD*(1-KB),k*KB+Kz*(1-KB)]}KC.setLayout([KG,KE,KF])})}var oQ={value:function(v,on,Kz,i,e,Z,m,v3){var k=0;var v2=i.getSum("value");var v1=Math.PI*2/(v2||v3);Kz.eachNode(function(KA){var KC=KA.getValue("value");var KB=v1*(v2?KC:1)/2;k+=KB;KA.setLayout([e*Math.cos(k)+Z,e*Math.sin(k)+m]);k+=KB})},symbolSize:function(Z,v2,KA,k,i,on,v,v3){var Kz=0;py.length=v3;var e=jW(Z);KA.eachNode(function(KB){var KC=P(KB);isNaN(KC)&&(KC=2);KC<0&&(KC=0);KC*=e;var KD=Math.asin(KC/2/i);isNaN(KD)&&(KD=Al/2);py[KB.dataIndex]=KD;Kz+=KD*2});var v1=(2*Al-Kz)/v3/2;var m=0;KA.eachNode(function(KB){var KC=v1+py[KB.dataIndex];m+=KC;KB.setLayout([i*Math.cos(m)+on,i*Math.sin(m)+v]);m+=KC})}};var un=function(e){e.eachSeriesByType("graph",function(i){if(i.get("layout")==="circular"){lw(i,"symbolSize")}})};var xa=CY;function FM(m,v2,e){var Kz=e.rect;var v=Kz.width;var KA=Kz.height;var k=[Kz.x+v/2,Kz.y+KA/2];var KB=e.gravity==null?0.1:e.gravity;for(var v3=0;v3<m.length;v3++){var on=m[v3];if(!on.p){on.p=Jk(v*(Math.random()-0.5)+k[0],KA*(Math.random()-0.5)+k[1])}on.pp=wm(on.p);on.edges=null}var Z=e.friction==null?0.6:e.friction;var v1=Z;return{warmUp:function(){v1=Z*0.8},setFixed:function(i){m[i].fixed=true},setUnfixed:function(i){m[i].fixed=false},step:function(KD){var KG=[];var KO=m.length;for(var KH=0;KH<v2.length;KH++){var KJ=v2[KH];if(KJ.ignoreForceLayout){continue}var KK=KJ.n1;var KI=KJ.n2;DJ(KG,KI.p,KK.p);var KL=eT(KG)-KJ.d;var KM=KI.w/(KK.w+KI.w);if(isNaN(KM)){KM=0}yj(KG,KG);!KK.fixed&&xa(KK.p,KK.p,KG,KM*KL*v1);!KI.fixed&&xa(KI.p,KI.p,KG,-(1-KM)*KL*v1)}for(var KH=0;KH<KO;KH++){var KC=m[KH];if(!KC.fixed){DJ(KG,k,KC.p);xa(KC.p,KC.p,KG,KB*v1)}}for(var KH=0;KH<KO;KH++){var KK=m[KH];for(var KE=KH+1;KE<KO;KE++){var KI=m[KE];DJ(KG,KI.p,KK.p);var KL=eT(KG);if(KL===0){IX(KG,Math.random()-0.5,Math.random()-0.5);KL=1}var KF=(KK.rep+KI.rep)/KL/KL;!KK.fixed&&xa(KK.pp,KK.pp,KG,KF);!KI.fixed&&xa(KI.pp,KI.pp,KG,-KF)}}var KN=[];for(var KH=0;KH<KO;KH++){var KC=m[KH];if(!KC.fixed){DJ(KN,KC.p,KC.pp);xa(KC.p,KC.p,KN,v1);Ar(KC.pp,KC.p)}}v1=v1*0.992;KD&&KD(m,v2,v1<0.01)}}}var Ac=function(e){e.eachSeriesByType("graph",function(KD){var v1=KD.coordinateSystem;if(v1&&v1.type!=="view"){return}if(KD.get("layout")==="force"){var v2=KD.preservedPoints||{};var KG=KD.getGraph();var k=KG.data;var KC=KG.edgeData;var Kz=KD.getModel("force");var KB=Kz.get("initLayout");if(KD.preservedPoints){k.each(function(KH){var KI=k.getId(KH);k.setItemLayout(KH,v2[KI]||[NaN,NaN])})}else{if(!KB||KB==="none"){A6(KD)}else{if(KB==="circular"){lw(KD,"value")}}}var Z=k.getDataExtent("value");var KA=KC.getDataExtent("value");var KF=Kz.get("repulsion");var v=Kz.get("edgeLength");if(!IQ(KF)){KF=[KF,KF]}if(!IQ(v)){v=[v,v]}v=[v[1],v[0]];var i=k.mapArray("value",function(KK,KI){var KH=k.getItemLayout(KI);var KJ=GV(KK,Z,KF);if(isNaN(KJ)){KJ=(KF[0]+KF[1])/2}return{w:KJ,rep:KJ,fixed:k.getItemModel(KI).get("fixed"),p:(!KH||isNaN(KH[0])||isNaN(KH[1]))?null:KH}});var on=KC.mapArray("value",function(KL,KH){var KJ=KG.getEdgeByIndex(KH);var KM=GV(KL,KA,v);if(isNaN(KM)){KM=(v[0]+v[1])/2}var KK=KJ.getModel();var KI=kX(KK.get("lineStyle.curveness"),-eu(KJ,KD,KH,true),0);return{n1:i[KJ.node1.dataIndex],n2:i[KJ.node2.dataIndex],d:KM,curveness:KI,ignoreForceLayout:KK.get("ignoreForceLayout")}});var v1=KD.coordinateSystem;var KE=v1.getBoundingRect();var v3=FM(i,on,{rect:KE,gravity:Kz.get("gravity"),friction:Kz.get("friction")});var m=v3.step;v3.step=function(KH){for(var KJ=0,KI=i.length;KJ<KI;KJ++){if(i[KJ].fixed){Ar(i[KJ].p,KG.getNodeByIndex(KJ).getLayout())}}m(function(KL,KO,KK){for(var KP=0,KN=KL.length;KP<KN;KP++){if(!KL[KP].fixed){KG.getNodeByIndex(KP).setLayout(KL[KP].p)}v2[k.getId(KP)]=KL[KP].p}for(var KP=0,KN=KO.length;KP<KN;KP++){var KQ=KO[KP];var KM=KG.getEdgeByIndex(KP);var KT=KQ.n1.p;var KS=KQ.n2.p;var KR=KM.getLayout();KR=KR?KR.slice():[];KR[0]=KR[0]||[];KR[1]=KR[1]||[];Ar(KR[0],KT);Ar(KR[1],KS);if(+KQ.curveness){KR[2]=[(KT[0]+KS[0])/2-(KT[1]-KS[1])*KQ.curveness,(KT[1]+KS[1])/2-(KS[0]-KT[0])*KQ.curveness]}KM.setLayout(KR)}KH&&KH(KK)})};KD.forceLayout=v3;KD.preservedPoints=v2;v3.step()}else{KD.forceLayout=null}})};function tf(i,m,e){var k=i.getBoxLayoutParams();k.aspect=e;return lL(k,{width:m.getWidth(),height:m.getHeight()})}var aW=function(e,k){var i=[];e.eachSeriesByType("graph",function(v1){var KE=v1.get("coordinateSystem");if(!KE||KE==="view"){var v3=v1.getData();var Kz=v3.mapArray(function(KF){var KG=v3.getItemModel(KF);return[+KG.get("x"),+KG.get("y")]});var v2=[];var KD=[];pO(Kz,v2,KD);if(KD[0]-v2[0]===0){KD[0]+=1;v2[0]-=1}if(KD[1]-v2[1]===0){KD[1]+=1;v2[1]-=1}var v=(KD[0]-v2[0])/(KD[1]-v2[1]);var KB=tf(v1,k,v);if(isNaN(v)){v2=[KB.x,KB.y];KD=[KB.x+KB.width,KB.y+KB.height]}var m=KD[0]-v2[0];var KC=KD[1]-v2[1];var KA=KB.width;var on=KB.height;var Z=v1.coordinateSystem=new Ei();Z.zoomLimit=v1.get("scaleLimit");Z.setBoundingRect(v2[0],v2[1],m,KC);Z.setViewRect(KB.x,KB.y,KA,on);Z.setCenter(v1.get("center"));Z.setZoom(v1.get("zoom"));i.push(Z)}});return i};ex(c6);H(ng("graph","circle",null));H(gU);H(iw);qz(g2);qz(D2.VISUAL.POST_CHART_LAYOUT,un);qz(Ac);yc("graphView",{create:aW});var K=oW.extend({type:"series.gauge",getInitialData:function(i,e){return yU(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:true,radius:"75%",startAngle:225,endAngle:-45,clockwise:true,min:0,max:100,splitNumber:10,axisLine:{show:true,lineStyle:{color:[[0.2,"#91c7ae"],[0.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:true,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:true,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:true,distance:5,color:"auto"},pointer:{show:true,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:true,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:true,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var zv=nh.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(v2,v){var Z=Math.cos;var m=Math.sin;var e=v.r;var i=v.width;var k=v.angle;var v1=v.x-Z(k)*i*(i>=e/3?1:2);var on=v.y-m(k)*i*(i>=e/3?1:2);k=v.angle-Math.PI/2;v2.moveTo(v1,on);v2.lineTo(v.x+Z(k)*i,v.y+m(k)*i);v2.lineTo(v.x+Z(v.angle)*e,v.y+m(v.angle)*e);v2.lineTo(v.x-Z(k)*i,v.y-m(k)*i);v2.lineTo(v1,on);return}});function mL(v,on){var i=v.get("center");var k=on.getWidth();var v1=on.getHeight();var v2=Math.min(k,v1);var Z=BD(i[0],on.getWidth());var m=BD(i[1],on.getHeight());var e=BD(v.get("radius"),v2/2);return{cx:Z,cy:m,r:e}}function gO(e,i){if(i){if(typeof i==="string"){e=i.replace("{value}",e!=null?e:"")}else{if(typeof i==="function"){e=i(e)}}}return e}var I9=Math.PI*2;var uj=dW.extend({type:"gauge",render:function(k,i,v){this.group.removeAll();var m=k.get("axisLine.lineStyle.color");var e=mL(k,v);this._renderMain(k,i,v,m,e)},dispose:function(){},_renderMain:function(v3,KJ,on,v2,Z){var v=this.group;var m=v3.getModel("axisLine");var KA=m.getModel("lineStyle");var KH=v3.get("clockwise");var KE=-v3.get("startAngle")/180*Math.PI;var KC=-v3.get("endAngle")/180*Math.PI;var Kz=(KC-KE)%I9;var KG=KE;var KB=KA.get("width");var v1=m.get("show");for(var KF=0;v1&&KF<v2.length;KF++){var e=Math.min(Math.max(v2[KF][0],0),1);var KC=KE+Kz*e;var KD=new uW({shape:{startAngle:KG,endAngle:KC,cx:Z.cx,cy:Z.cy,clockwise:KH,r0:Z.r-KB,r:Z.r},silent:true});KD.setStyle({fill:v2[KF][1]});KD.setStyle(KA.getLineStyle(["color","borderWidth","borderColor"]));v.add(KD);KG=KC}var k=function(KL){if(KL<=0){return v2[0][1]}for(var KK=0;KK<v2.length;KK++){if(v2[KK][0]>=KL&&(KK===0?0:v2[KK-1][0])<KL){return v2[KK][1]}}return v2[KK-1][1]};if(!KH){var KI=KE;KE=KC;KC=KI}this._renderTicks(v3,KJ,on,k,Z,KE,KC,KH);this._renderPointer(v3,KJ,on,k,Z,KE,KC,KH);this._renderTitle(v3,KJ,on,k,Z);this._renderDetail(v3,KJ,on,k,Z)},_renderTicks:function(KL,KY,KI,m,KF,KP,KM,KS){var KD=this.group;var k=KF.cx;var e=KF.cy;var KK=KF.r;var KU=+KL.get("min");var KC=+KL.get("max");var KX=KL.getModel("splitLine");var KV=KL.getModel("axisTick");var KE=KL.getModel("axisLabel");var v2=KL.get("splitNumber");var on=KV.get("splitNumber");var KR=BD(KX.get("length"),KK);var KG=BD(KV.get("length"),KK);var KT=KP;var Kz=(KM-KP)/v2;var KW=Kz/on;var KJ=KX.getModel("lineStyle").getLineStyle();var v3=KV.getModel("lineStyle").getLineStyle();for(var KQ=0;KQ<=v2;KQ++){var v1=Math.cos(KT);var Z=Math.sin(KT);if(KX.get("show")){var KB=new Br({shape:{x1:v1*KK+k,y1:Z*KK+e,x2:v1*(KK-KR)+k,y2:Z*(KK-KR)+e},style:KJ,silent:true});if(KJ.stroke==="auto"){KB.setStyle({stroke:m(KQ/v2)})}KD.add(KB)}if(KE.get("show")){var KA=gO(HR(KQ/v2*(KC-KU)+KU),KE.get("formatter"));var v=KE.get("distance");var KN=m(KQ/v2);KD.add(new jv({style:ql({},KE,{text:KA,x:v1*(KK-KR-v)+k,y:Z*(KK-KR-v)+e,textVerticalAlign:Z<-0.4?"top":(Z>0.4?"bottom":"middle"),textAlign:v1<-0.4?"left":(v1>0.4?"right":"center")},{autoColor:KN}),silent:true}))}if(KV.get("show")&&KQ!==v2){for(var KO=0;KO<=on;KO++){var v1=Math.cos(KT);var Z=Math.sin(KT);var KH=new Br({shape:{x1:v1*KK+k,y1:Z*KK+e,x2:v1*(KK-KG)+k,y2:Z*(KK-KG)+e},silent:true,style:v3});if(v3.stroke==="auto"){KH.setStyle({stroke:m((KQ+KO/on)/v2)})}KD.add(KH);KT+=KW}KT-=KW}else{KT+=Kz}}},_renderPointer:function(k,on,v1,KC,m,v3,i,e){var KB=this.group;var Z=this._data;if(!k.get("pointer.show")){Z&&Z.eachItemGraphicEl(function(KD){KB.remove(KD)});return}var Kz=[+k.get("min"),+k.get("max")];var KA=[v3,i];var v=k.getData();var v2=v.mapDimension("value");v.diff(Z).add(function(KD){var KE=new zv({shape:{angle:v3}});kl(KE,{shape:{angle:GV(v.get(v2,KD),Kz,KA,true)}},k);KB.add(KE);v.setItemGraphicEl(KD,KE)}).update(function(KE,KD){var KF=Z.getItemGraphicEl(KD);pZ(KF,{shape:{angle:GV(v.get(v2,KE),Kz,KA,true)}},k);KB.add(KF);v.setItemGraphicEl(KE,KF)}).remove(function(KD){var KE=Z.getItemGraphicEl(KD);KB.remove(KE)}).execute();v.eachItemGraphicEl(function(KG,KD){var KF=v.getItemModel(KD);var KE=KF.getModel("pointer");KG.setShape({x:m.cx,y:m.cy,width:BD(KE.get("width"),m.r),r:BD(KE.get("length"),m.r)});KG.useStyle(KF.getModel("itemStyle").getItemStyle());if(KG.style.fill==="auto"){KG.setStyle("fill",KC(GV(v.get(v2,KD),Kz,[0,1],true)))}z3(KG,KF.getModel("emphasis.itemStyle").getItemStyle())});this._data=v},_renderTitle:function(k,Z,on,KB,m){var v=k.getData();var v1=v.mapDimension("value");var e=k.getModel("title");if(e.get("show")){var i=e.get("offsetCenter");var v3=m.cx+BD(i[0],m.r);var v2=m.cy+BD(i[1],m.r);var KA=+k.get("min");var KC=+k.get("max");var Kz=k.getData().get(v1,0);var KD=KB(GV(Kz,[KA,KC],[0,1],true));this.group.add(new jv({silent:true,style:ql({},e,{x:v3,y:v2,text:v.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:KD,forceRich:true})}))}},_renderDetail:function(k,Z,on,KC,m){var v1=k.getModel("detail");var KA=+k.get("min");var KD=+k.get("max");if(v1.get("show")){var i=v1.get("offsetCenter");var v3=m.cx+BD(i[0],m.r);var v2=m.cy+BD(i[1],m.r);var e=BD(v1.get("width"),m.r);var KB=BD(v1.get("height"),m.r);var v=k.getData();var Kz=v.get(v.mapDimension("value"),0);var KE=KC(GV(Kz,[KA,KD],[0,1],true));this.group.add(new jv({silent:true,style:ql({},v1,{x:v3,y:v2,text:gO(Kz,v1.get("formatter")),textWidth:isNaN(e)?null:e,textHeight:isNaN(KB)?null:KB,textAlign:"center",textVerticalAlign:"middle"},{autoColor:KE,forceRich:true})}))}}});var i5=DZ({type:"series.funnel",init:function(e){i5.superApply(this,"init",arguments);this.legendVisualProvider=new d8(k9(this.getData,this),k9(this.getRawData,this));this._defaultLabelLine(e)},getInitialData:function(i,e){return yU(this,{coordDimensions:["value"],encodeDefaulter:tT(lH,this)})},_defaultLabelLine:function(i){FC(i,"labelLine",["show"]);var e=i.labelLine;var k=i.emphasis.labelLine;e.show=e.show&&i.label.show;k.show=k.show&&i.emphasis.label.show},getDataParams:function(e){var k=this.getData();var m=i5.superCall(this,"getDataParams",e);var v=k.mapDimension("value");var i=k.getSum(v);m.percent=!i?0:+(k.get(v,e)/i*100).toFixed(2);m.$vars.push("percent");return m},defaultOption:{zlevel:0,z:2,legendHoverLink:true,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:true,position:"outer"},labelLine:{show:true,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:true}}}});function ao(k,e){D4.call(this);var i=new iO();var v=new BY();var m=new jv();this.add(i);this.add(v);this.add(m);this.highDownOnUpdate=function(on,Z){if(Z==="emphasis"){v.ignore=v.hoverIgnore;m.ignore=m.hoverIgnore}else{v.ignore=v.normalIgnore;m.ignore=m.normalIgnore}};this.updateData(k,e,true)}var J=ao.prototype;var n6=["itemStyle","opacity"];J.updateData=function(k,v1,Z){var on=this.childAt(0);var e=k.hostModel;var v3=k.getItemModel(v1);var m=k.getItemLayout(v1);var v=k.getItemModel(v1).get(n6);v=v==null?1:v;on.useStyle({});if(Z){on.setShape({points:m.points});on.setStyle({opacity:0});kl(on,{style:{opacity:v}},e,v1)}else{pZ(on,{style:{opacity:v},shape:{points:m.points}},e,v1)}var i=v3.getModel("itemStyle");var v2=k.getItemVisual(v1,"color");on.setStyle(Fg({lineJoin:"round",fill:v2},i.getItemStyle(["opacity"])));on.hoverStyle=i.getModel("emphasis").getItemStyle();this._updateLabel(k,v1);z3(this)};J._updateLabel=function(Z,v2){var v=this.childAt(1);var i=this.childAt(2);var k=Z.hostModel;var Kz=Z.getItemModel(v2);var v1=Z.getItemLayout(v2);var KB=v1.label;var v3=Z.getItemVisual(v2,"color");pZ(v,{shape:{points:KB.linePoints||KB.linePoints}},k,v2);pZ(i,{style:{x:KB.x,y:KB.y}},k,v2);i.attr({rotation:KB.rotation,origin:[KB.x,KB.y],z2:10});var KA=Kz.getModel("label");var on=Kz.getModel("emphasis.label");var m=Kz.getModel("labelLine");var e=Kz.getModel("emphasis.labelLine");var v3=Z.getItemVisual(v2,"color");Dz(i.style,i.hoverStyle={},KA,on,{labelFetcher:Z.hostModel,labelDataIndex:v2,defaultText:Z.getName(v2),autoColor:v3,useInsideStyle:!!KB.inside},{textAlign:KB.textAlign,textVerticalAlign:KB.verticalAlign});i.ignore=i.normalIgnore=!KA.get("show");i.hoverIgnore=!on.get("show");v.ignore=v.normalIgnore=!m.get("show");v.hoverIgnore=!e.get("show");v.setStyle({stroke:v3});v.setStyle(m.getModel("lineStyle").getLineStyle());v.hoverStyle=e.getModel("lineStyle").getLineStyle()};nm(ao,D4);var ze=dW.extend({type:"funnel",render:function(i,e,k){var m=i.getData();var Z=this._data;var v=this.group;m.diff(Z).add(function(on){var v1=new ao(m,on);m.setItemGraphicEl(on,v1);v.add(v1)}).update(function(v2,v1){var on=Z.getItemGraphicEl(v1);on.updateData(m,v2);v.add(on);m.setItemGraphicEl(v2,on)}).remove(function(on){var v1=Z.getItemGraphicEl(on);v.remove(v1)}).execute();this._data=m},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});function td(e,i){return lL(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function ou(Z,v){var v2=Z.mapDimension("value");var k=Z.mapArray(v2,function(i){return i});var v1=[];var on=v==="ascending";for(var m=0,e=Z.count();m<e;m++){v1[m]=m}if(typeof v==="function"){v1.sort(v)}else{if(v!=="none"){v1.sort(function(v3,i){return on?k[v3]-k[i]:k[i]-k[v3]})}}return v1}function Bf(e){e.each(function(Kz){var KD=e.getItemModel(Kz);var v2=KD.getModel("label");var i=v2.get("position");var v3=KD.get("orient");var KC=KD.getModel("labelLine");var KH=e.getItemLayout(Kz);var KE=KH.points;var Z=i==="inner"||i==="inside"||i==="center"||i==="insideLeft"||i==="insideRight";var v;var KB;var KA;var on;if(Z){if(i==="insideLeft"){KB=(KE[0][0]+KE[3][0])/2+5;KA=(KE[0][1]+KE[3][1])/2;v="left"}else{if(i==="insideRight"){KB=(KE[1][0]+KE[2][0])/2-5;KA=(KE[1][1]+KE[2][1])/2;v="right"}else{KB=(KE[0][0]+KE[1][0]+KE[2][0]+KE[3][0])/4;KA=(KE[0][1]+KE[1][1]+KE[2][1]+KE[3][1])/4;v="center"}}on=[[KB,KA],[KB,KA]]}else{var KG;var m;var KF;var k;var v1=KC.get("length");if(pm){if(v3==="vertical"&&["top","bottom"].indexOf(i)>-1){i="left";console.warn("Position error: Funnel chart on vertical orient dose not support top and bottom.")}if(v3==="horizontal"&&["left","right"].indexOf(i)>-1){i="bottom";console.warn("Position error: Funnel chart on horizontal orient dose not support left and right.")}}if(i==="left"){KG=(KE[3][0]+KE[0][0])/2;m=(KE[3][1]+KE[0][1])/2;KF=KG-v1;KB=KF-5;v="right"}else{if(i==="right"){KG=(KE[1][0]+KE[2][0])/2;m=(KE[1][1]+KE[2][1])/2;KF=KG+v1;KB=KF+5;v="left"}else{if(i==="top"){KG=(KE[3][0]+KE[0][0])/2;m=(KE[3][1]+KE[0][1])/2;k=m-v1;KA=k-5;v="center"}else{if(i==="bottom"){KG=(KE[1][0]+KE[2][0])/2;m=(KE[1][1]+KE[2][1])/2;k=m+v1;KA=k+5;v="center"}else{if(i==="rightTop"){KG=v3==="horizontal"?KE[3][0]:KE[1][0];m=v3==="horizontal"?KE[3][1]:KE[1][1];if(v3==="horizontal"){k=m-v1;KA=k-5;v="center"}else{KF=KG+v1;KB=KF+5;v="top"}}else{if(i==="rightBottom"){KG=KE[2][0];m=KE[2][1];if(v3==="horizontal"){k=m+v1;KA=k+5;v="center"}else{KF=KG+v1;KB=KF+5;v="bottom"}}else{if(i==="leftTop"){KG=KE[0][0];m=v3==="horizontal"?KE[0][1]:KE[1][1];if(v3==="horizontal"){k=m-v1;KA=k-5;v="center"}else{KF=KG-v1;KB=KF-5;v="right"}}else{if(i==="leftBottom"){KG=v3==="horizontal"?KE[1][0]:KE[3][0];m=v3==="horizontal"?KE[1][1]:KE[2][1];if(v3==="horizontal"){k=m+v1;KA=k+5;v="center"}else{KF=KG-v1;KB=KF-5;v="right"}}else{KG=(KE[1][0]+KE[2][0])/2;m=(KE[1][1]+KE[2][1])/2;if(v3==="horizontal"){k=m+v1;KA=k+5;v="center"}else{KF=KG+v1;KB=KF+5;v="left"}}}}}}}}}if(v3==="horizontal"){KF=KG;KB=KF}else{k=m;KA=k}on=[[KG,m],[KF,k]]}KH.label={linePoints:on,x:KB,y:KA,verticalAlign:"middle",textAlign:v,inside:Z}})}var id=function(e,i,k){e.eachSeriesByType("funnel",function(KI){var KT=KI.getData();var v=KT.mapDimension("value");var KR=KI.get("sort");var KO=td(KI,i);var v2=ou(KT,KR);var KC=KI.get("orient");var KL=KO.width;var KG=KO.height;var KB=KO.x;var Kz=KO.y;var KA=KC==="horizontal"?[BD(KI.get("minSize"),KG),BD(KI.get("maxSize"),KG)]:[BD(KI.get("minSize"),KL),BD(KI.get("maxSize"),KL)];var KK=KT.getDataExtent(v);var KM=KI.get("min");var KQ=KI.get("max");if(KM==null){KM=Math.min(KK[0],0)}if(KQ==null){KQ=KK[1]}var m=KI.get("funnelAlign");var KH=KI.get("gap");var v1=KC==="horizontal"?KL:KG;var v3=(v1-KH*(KT.count()-1))/KT.count();var KE=function(KU,KZ){if(KC==="horizontal"){var KY=KT.get(v,KU)||0;var K0=GV(KY,[KM,KQ],KA,true);var KW;switch(m){case"top":KW=Kz;break;case"center":KW=Kz+(KG-K0)/2;break;case"bottom":KW=Kz+(KG-K0);break}return[[KZ,KW],[KZ,KW+K0]]}var KY=KT.get(v,KU)||0;var KX=GV(KY,[KM,KQ],KA,true);var KV;switch(m){case"left":KV=KB;break;case"center":KV=KB+(KL-KX)/2;break;case"right":KV=KB+KL-KX;break}return[[KV,KZ],[KV+KX,KZ]]};if(KR==="ascending"){v3=-v3;KH=-KH;if(KC==="horizontal"){KB+=KL}else{Kz+=KG}v2=v2.reverse()}for(var KP=0;KP<v2.length;KP++){var KD=v2[KP];var KS=v2[KP+1];var KN=KT.getItemModel(KD);if(KC==="horizontal"){var KJ=KN.get("itemStyle.width");if(KJ==null){KJ=v3}else{KJ=BD(KJ,KL);if(KR==="ascending"){KJ=-KJ}}var on=KE(KD,KB);var Z=KE(KS,KB+KJ);KB+=KJ+KH;KT.setItemLayout(KD,{points:on.concat(Z.slice().reverse())})}else{var KF=KN.get("itemStyle.height");if(KF==null){KF=v3}else{KF=BD(KF,KG);if(KR==="ascending"){KF=-KF}}var on=KC==="horizontal"?KE(KD,KB):KE(KD,Kz);var Z=KC==="horizontal"?KE(KS,KB+KJ):KE(KS,Kz+KF);Kz+=KF+KH;KT.setItemLayout(KD,{points:on.concat(Z.slice().reverse())})}}Bf(KT)})};H(e9("funnel"));qz(id);ex(Gb("funnel"));var ph=function(e){jh(e);qc(e)};function jh(e){if(e.parallel){return}var i=false;qg(e.series,function(k){if(k&&k.type==="parallel"){i=true}});if(i){e.parallel=[{}]}}function qc(e){var i=nk(e.parallelAxis);qg(i,function(v){if(!u7(v)){return}var k=v.parallelIndex||0;var m=nk(e.parallel)[k];if(m&&m.parallelAxisDefault){xF(v,m.parallelAxisDefault,false)}})}var Av=function(m,v,k,e,i){DO.call(this,m,v,k);this.type=e||"value";this.axisIndex=i};Av.prototype={constructor:Av,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"}};nm(Av,DO);var ot=function(v3,m,KA,e,Kz,on){v3=v3||0;var k=KA[1]-KA[0];if(Kz!=null){Kz=sP(Kz,[0,k])}if(on!=null){on=Math.max(on,Kz!=null?Kz:0)}if(e==="all"){var Z=Math.abs(m[1]-m[0]);Z=sP(Z,[0,k]);Kz=on=sP(Z,[Kz,on]);e=0}m[0]=sP(m[0],KA);m[1]=sP(m[1],KA);var v2=ge(m,e);m[e]+=v3;var i=Kz||0;var v1=KA.slice();v2.sign<0?(v1[0]+=i):(v1[1]-=i);m[e]=sP(m[e],v1);var v=ge(m,e);if(Kz!=null&&(v.sign!==v2.sign||v.span<Kz)){m[1-e]=m[e]+v2.sign*Kz}var v=ge(m,e);if(on!=null&&v.span>on){m[1-e]=m[e]+v.sign*on}return m};function ge(i,k){var e=i[k]-i[1-k];return{span:Math.abs(e),sign:e>0?-1:e<0?1:k?-1:1}}function sP(e,i){return Math.min(i[1]!=null?i[1]:Infinity,Math.max(i[0]!=null?i[0]:-Infinity,e))}var vp=qg;var j8=Math.min;var CA=Math.max;var xB=Math.floor;var pW=Math.ceil;var HQ=HR;var Aj=Math.PI;function el(i,e,k){this._axesMap=EI();this._axesLayout={};this.dimensions=i.dimensions;this._rect;this._model=i;this._init(i,e,k)}el.prototype={type:"parallel",constructor:el,_init:function(k,e,m){var v=k.dimensions;var i=k.parallelAxisIndex;vp(v,function(Kz,Z){var v2=i[Z];var v1=e.getComponent("parallelAxis",v2);var v3=this._axesMap.set(Kz,new Av(Kz,om(v1),[0,0],v1.get("type"),v2));var on=v3.type==="category";v3.onBand=on&&v1.get("boundaryGap");v3.inverse=v1.get("inverse");v1.axis=v3;v3.model=v1;v3.coordinateSystem=v1.coordinateSystem=this},this)},update:function(e,i){this._updateAxesFromSeries(this._model,e)},containPoint:function(e){var on=this._makeLayoutInfo();var k=on.axisBase;var Z=on.layoutBase;var v=on.pixelDimIndex;var m=e[1-v];var i=e[v];return m>=k&&m<=k+on.axisLength&&i>=Z&&i<=Z+on.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(i,e){e.eachSeries(function(k){if(!i.contains(k,e)){return}var m=k.getData();vp(this.dimensions,function(Z){var v=this._axesMap.get(Z);v.scale.unionExtentFromData(m,m.mapDimension(Z));oM(v.scale,v.model)},this)},this)},resize:function(e,i){this._rect=lL(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()});this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var m=this._model;var i=this._rect;var Z=["x","y"];var on=["width","height"];var KE=m.get("layout");var v=KE==="horizontal"?0:1;var KB=i[on[v]];var e=[0,KB];var Kz=this.dimensions.length;var KD=D8(m.get("axisExpandWidth"),e);var v2=D8(m.get("axisExpandCount")||0,[0,Kz]);var KA=m.get("axisExpandable")&&Kz>3&&Kz>v2&&v2>1&&KD>0&&KB>0;var KF=m.get("axisExpandWindow");var v1;if(!KF){v1=D8(KD*(v2-1),e);var v3=m.get("axisExpandCenter")||xB(Kz/2);KF=[KD*v3-v1/2];KF[1]=KF[0]+v1}else{v1=D8(KF[1]-KF[0],e);KF[1]=KF[0]+v1}var k=(KB-v1)/(Kz-v2);k<3&&(k=0);var KC=[xB(HQ(KF[0]/KD,1))+1,pW(HQ(KF[1]/KD,1))-1];var KG=k/KD*KF[0];return{layout:KE,pixelDimIndex:v,layoutBase:i[Z[v]],layoutLength:KB,axisBase:i[Z[1-v]],axisLength:i[on[1-v]],axisExpandable:KA,axisExpandWidth:KD,axisCollapseWidth:k,axisExpandWindow:KF,axisCount:Kz,winInnerIndices:KC,axisExpandWindow0Pos:KG}},_layoutAxes:function(){var k=this._rect;var v=this._axesMap;var i=this.dimensions;var m=this._makeLayoutInfo();var e=m.layout;v.each(function(on){var v1=[0,m.axisLength];var Z=on.inverse?1:0;on.setExtent(v1[Z],v1[1-Z])});vp(i,function(KB,v1){var on=(m.axisExpandable?g4:f6)(v1,m);var KA={horizontal:{x:on.position,y:m.axisLength},vertical:{x:0,y:on.position}};var Kz={horizontal:Aj/2,vertical:0};var Z=[KA[e].x+k.x,KA[e].y+k.y];var v3=Kz[e];var v2=Ez();k5(v2,v2,v3);wV(v2,v2,Z);this._axesLayout[KB]={position:Z,rotation:v3,transform:v2,axisNameAvailableWidth:on.axisNameAvailableWidth,axisLabelShow:on.axisLabelShow,nameTruncateMaxWidth:on.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(e){return this._axesMap.get(e)},dataToPoint:function(e,i){return this.axisCoordToPoint(this._axesMap.get(i).dataToCoord(e),i)},eachActiveState:function(on,KD,k,v){k==null&&(k=0);v==null&&(v=on.count());var Kz=this._axesMap;var e=this.dimensions;var m=[];var v1=[];qg(e,function(KE){m.push(on.mapDimension(KE));v1.push(Kz.get(KE).model)});var v3=this.hasAxisBrushed();for(var KA=k;KA<v;KA++){var v2;if(!v3){v2="normal"}else{v2="active";var KB=on.getValues(m,KA);for(var Z=0,KC=e.length;Z<KC;Z++){var i=v1[Z].getActiveState(KB[Z]);if(i==="inactive"){v2="inactive";break}}}KD(v2,KA)}},hasAxisBrushed:function(){var v=this.dimensions;var m=this._axesMap;var i=false;for(var k=0,e=v.length;k<e;k++){if(m.get(v[k]).model.getActiveState()!=="normal"){i=true}}return i},axisCoordToPoint:function(k,i){var e=this._axesLayout[i];return xI([k,0],e.transform)},getAxisLayout:function(e){return E5(this._axesLayout[e])},getSlidedAxisExpandWindow:function(v3){var m=this._makeLayoutInfo();var KA=m.pixelDimIndex;var i=m.axisExpandWindow.slice();var Z=i[1]-i[0];var KB=[0,m.axisExpandWidth*(m.axisCount-1)];if(!this.containPoint(v3)){return{behavior:"none",axisExpandWindow:i}}var v2=v3[KA]-m.layoutBase-m.axisExpandWindow0Pos;var Kz;var e="slide";var v=m.axisCollapseWidth;var v1=this._model.get("axisExpandSlideTriggerArea");var k=v1[0]!=null;if(v){if(k&&v&&v2<Z*v1[0]){e="jump";Kz=v2-Z*v1[2]}else{if(k&&v&&v2>Z*(1-v1[0])){e="jump";Kz=v2-Z*(1-v1[2])}else{(Kz=v2-Z*v1[1])>=0&&(Kz=v2-Z*(1-v1[1]))<=0&&(Kz=0)}}Kz*=m.axisExpandWidth/v;Kz?ot(Kz,i,KB,"all"):(e="none")}else{var Z=i[1]-i[0];var on=KB[1]*v2/Z;i=[CA(0,on-Z/2)];i[1]=j8(KB[1],i[0]+Z);i[0]=i[1]-Z}return{axisExpandWindow:i,behavior:e}}};function D8(e,i){return j8(CA(e,i[0]),i[1])}function f6(e,k){var i=k.layoutLength/(k.axisCount-1);return{position:i*e,axisNameAvailableWidth:i,axisLabelShow:true}}function g4(Kz,i){var e=i.layoutLength;var on=i.axisExpandWidth;var v3=i.axisCount;var m=i.axisCollapseWidth;var v1=i.winInnerIndices;var v;var Z=m;var k=false;var v2;if(Kz<v1[0]){v=Kz*m;v2=m}else{if(Kz<=v1[1]){v=i.axisExpandWindow0Pos+Kz*on-i.axisExpandWindow[0];Z=on;k=true}else{v=e-(v3-1-Kz)*m;v2=m}}return{position:v,axisNameAvailableWidth:Z,axisLabelShow:k,nameTruncateMaxWidth:v2}}function Ey(e,k){var i=[];e.eachComponent("parallel",function(v,m){var Z=new el(v,e,k);Z.name="parallel_"+m;Z.resize(v,k);v.coordinateSystem=Z;Z.model=v;i.push(Z)});e.eachSeries(function(m){if(m.get("coordinateSystem")==="parallel"){var v=e.queryComponents({mainType:"parallel",index:m.get("parallelIndex"),id:m.get("parallelId")})[0];m.coordinateSystem=v.coordinateSystem}});return i}fZ.register("parallel",{create:Ey});var nj=aO.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return Ax([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(k){var m=this.activeIntervals=E5(k);if(m){for(var e=m.length-1;e>=0;e--){qe(m[e])}}},getActiveState:function(v){var Z=this.activeIntervals;if(!Z.length){return"normal"}if(v==null||isNaN(v)){return"inactive"}if(Z.length===1){var k=Z[0];if(k[0]<=v&&v<=k[1]){return"active"}}else{for(var m=0,e=Z.length;m<e;m++){if(Z[m][0]<=v&&v<=Z[m][1]){return"active"}}}return"inactive"}});var ry={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:0.3},realtime:true,z:10};xF(nj.prototype,oz);function tB(i,e){return e.type||(e.data?"category":"value")}nM("parallel",nj,tB,ry);aO.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:false,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-0.15,0.05,0.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){aO.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(i){var e=this.option;i&&xF(e,i,true);this._initDimensions()},contains:function(k,e){var i=k.get("parallelIndex");return i!=null&&e.getComponent("parallel",i)===this},setAxisExpand:function(e){qg(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){if(e.hasOwnProperty(i)){this.option[i]=e[i]}},this)},_initDimensions:function(){var k=this.dimensions=[];var e=this.parallelAxisIndex=[];var i=sk(this.dependentModels.parallelAxis,function(m){return(m.get("parallelIndex")||0)===this.componentIndex},this);qg(i,function(m){k.push("dim"+m.get("dim"));e.push(m.componentIndex)})}});var Ec={type:"axisAreaSelect",event:"axisAreaSelected"};ce(Ec,function(i,e){e.eachComponent({mainType:"parallelAxis",query:i},function(k){k.axis.model.setActiveIntervals(i.intervals)})});ce("parallelAxisExpand",function(i,e){e.eachComponent({mainType:"parallel",query:i},function(k){k.setAxisExpand(i)})});var vK=tT;var vn=qg;var Ch=Gj;var j7=Math.min;var Cy=Math.max;var dk=Math.pow;var e8=10000;var Jv=6;var E9=6;var sT="globalPan";var J7={w:[0,0],e:[0,1],n:[1,0],s:[1,1]};var BW={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"};var pg={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:true,brushMode:"single",removeOnClick:false};var J2=0;function lk(e){if(pm){bY(e)}Ij.call(this);this._zr=e;this.group=new D4();this._brushType;this._brushOption;this._panels;this._track=[];this._dragging;this._covers=[];this._creatingCover;this._creatingPanel;this._enableGlobalPan;if(pm){this._mounted}this._uid="brushController_"+J2++;this._handlers={};vn(uK,function(k,i){this._handlers[i]=k9(k,this)},this)}lk.prototype={constructor:lk,enableBrush:function(e){if(pm){bY(this._mounted)}this._brushType&&HL(this);e.brushType&&FH(this,e);return this},setPanels:function(e){if(e&&e.length){var i=this._panels={};qg(e,function(k){i[k.panelId]=E5(k)})}else{this._panels=null}return this},mount:function(i){i=i||{};if(pm){this._mounted=true}this._enableGlobalPan=i.enableGlobalPan;var e=this.group;this._zr.add(e);e.attr({position:i.position||[0,0],rotation:i.rotation||0,scale:i.scale||[1,1]});this._transform=e.getLocalTransform();return this},eachCover:function(e,i){vn(this._covers,e,i)},updateCovers:function(i){if(pm){bY(this._mounted)}i=Gj(i,function(Kz){return xF(E5(pg),Kz,true)});var v3="\0-brush-index-";var k=this._covers;var m=this._covers=[];var v1=this;var v2=this._creatingCover;(new IF(k,i,on,Z)).add(e).update(e).remove(v).execute();return this;function Z(KA,Kz){return(KA.id!=null?KA.id:v3+Kz)+"-"+KA.brushType}function on(KA,Kz){return Z(KA.__brushOption,Kz)}function e(Kz,KC){var KB=i[Kz];if(KC!=null&&k[KC]===v2){m[Kz]=k[KC]}else{var KA=m[Kz]=KC!=null?(k[KC].__brushOption=KB,k[KC]):iQ(v1,ps(v1,KB));aU(v1,KA)}}function v(Kz){if(k[Kz]!==v2){v1.group.remove(k[Kz])}}},unmount:function(){if(pm){if(!this._mounted){return}}this.enableBrush(false);Cm(this);this._zr.remove(this.group);if(pm){this._mounted=false}return this},dispose:function(){this.unmount();this.off()}};Iz(lk,Ij);function FH(e,k){var i=e._zr;if(!e._enableGlobalPan){h1(i,sT,e._uid)}AQ(i,e._handlers);e._brushType=k.brushType;e._brushOption=xF(E5(pg),k,true)}function HL(e){var i=e._zr;bv(i,sT,e._uid);Fh(i,e._handlers);e._brushType=e._brushOption=null}function AQ(i,e){vn(e,function(m,k){i.on(k,m)})}function Fh(i,e){vn(e,function(m,k){i.off(k,m)})}function ps(e,k){var i=y7[k.brushType].createCover(e,k);i.__brushOption=k;hE(i,k);e.group.add(i);return i}function iQ(i,k){var e=jC(k);if(e.endCreating){e.endCreating(i,k);hE(k,k.__brushOption)}return k}function gG(e,i){var k=i.__brushOption;jC(i).updateCoverShape(e,i,k.range,k)}function hE(e,k){var i=k.z;i==null&&(i=e8);e.traverse(function(m){m.z=i;m.z2=i})}function aU(e,i){jC(i).updateCommon(e,i);gG(e,i)}function jC(e){return y7[e.__brushOption.brushType]}function Cd(k,on,Z){var v=k._panels;if(!v){return true}var i;var m=k._transform;vn(v,function(e){e.isTargetByCursor(on,Z,m)&&(i=e)});return i}function gd(e,m){var i=e._panels;if(!i){return true}var k=m.__brushOption.panelId;return k!=null?i[k]:true}function Cm(i){var e=i._covers;var k=e.length;vn(e,function(m){i.group.remove(m)},i);e.length=0;return !!k}function pV(e,k){var i=Ch(e._covers,function(v){var Z=v.__brushOption;var m=E5(Z.range);return{brushType:Z.brushType,panelId:Z.panelId,range:m}});e.trigger("brush",i,{isEnd:!!k.isEnd,removeOnClick:!!k.removeOnClick})}function zo(k){var i=k._track;if(!i.length){return false}var v=i[i.length-1];var on=i[0];var m=v[0]-on[0];var e=v[1]-on[1];var Z=dk(m*m+e*e,0.5);return Z>Jv}function U(e){var i=e.length-1;i<0&&(i=0);return[e[0],e[i]]}function zE(k,i,v,e){var m=new D4();m.add(new GM({name:"main",style:h0(v),silent:true,draggable:true,cursor:"move",drift:vK(k,i,m,"nswe"),ondragend:vK(pV,i,{isEnd:true})}));vn(e,function(Z){m.add(new GM({name:Z,style:{opacity:0},draggable:true,silent:true,invisible:true,drift:vK(k,i,m,Z),ondragend:vK(pV,i,{isEnd:true})}))});return m}function H2(KA,KF,Z,v3){var e=v3.brushStyle.lineWidth||0;var i=Cy(e,E9);var v2=Z[0][0];var v1=Z[1][0];var KD=v2-e/2;var m=v1-e/2;var KC=Z[0][1];var k=Z[1][1];var on=KC-i+e/2;var KG=k-i+e/2;var KB=KC-v2;var Kz=k-v1;var KE=KB+e;var v=Kz+e;vW(KA,KF,"main",v2,v1,KB,Kz);if(v3.transformable){vW(KA,KF,"w",KD,m,i,v);vW(KA,KF,"e",on,m,i,v);vW(KA,KF,"n",KD,m,KE,i);vW(KA,KF,"s",KD,KG,KE,i);vW(KA,KF,"nw",KD,m,i,i);vW(KA,KF,"ne",on,m,i,i);vW(KA,KF,"sw",KD,KG,i,i);vW(KA,KF,"se",on,KG,i,i)}}function oT(e,m){var v=m.__brushOption;var k=v.transformable;var i=m.childAt(0);i.useStyle(h0(v));i.attr({silent:!k,cursor:k?"move":"default"});vn(["w","e","n","s","se","sw","ne","nw"],function(on){var v1=m.childOfName(on);var Z=Ft(e,on);v1&&v1.attr({silent:!k,invisible:!k,cursor:k?BW[Z]+"-resize":null})})}function vW(k,on,m,e,v1,i,Z){var v=on.childOfName(m);v&&v.setShape(xL(pd(k,on,[[e,v1],[e+i,v1+Z]])))}function h0(e){return Fg({strokeNoScale:true},e.brushStyle)}function qP(i,Z,k,v){var m=[j7(i,k),j7(Z,v)];var e=[Cy(i,k),Cy(Z,v)];return[[m[0],e[0]],[m[1],e[1]]]}function uB(e){return aP(e.group)}function Ft(i,m){if(m.length>1){m=m.split("");var e=[Ft(i,m[0]),Ft(i,m[1])];(e[0]==="e"||e[0]==="w")&&e.reverse();return e.join("")}else{var v={w:"left",e:"right",n:"top",s:"bottom"};var k={left:"w",right:"e",top:"n",bottom:"s"};var e=o2(v[m],uB(i));return k[e]}}function wy(m,on,v,Kz,i,KA,v2,Z){var k=Kz.__brushOption;var v1=m(k.range);var v3=Cc(v,KA,v2);vn(i.split(""),function(e){var KB=J7[e];v1[KB[0]][KB[1]]+=v3[KB[0]]});k.range=on(qP(v1[0][0],v1[1][0],v1[0][1],v1[1][1]));aU(v,Kz);pV(v,{isEnd:false})}function rU(k,v1,v,i,on){var m=v1.__brushOption.range;var Z=Cc(k,v,i);vn(m,function(e){e[0]+=Z[0];e[1]+=Z[1]});aU(k,v1);pV(k,{isEnd:false})}function Cc(k,v,i){var m=k.group;var e=m.transformCoordToLocal(v,i);var Z=m.transformCoordToLocal(0,0);return[e[0]-Z[0],e[1]-Z[1]]}function pd(i,m,k){var e=gd(i,m);return(e&&e!==true)?e.clipPath(k,i._transform):E5(k)}function xL(m){var v=j7(m[0][0],m[1][0]);var k=j7(m[0][1],m[1][1]);var i=Cy(m[0][0],m[1][0]);var e=Cy(m[0][1],m[1][1]);return{x:v,y:k,width:i-v,height:e-k}}function iN(m,v2,on){if(!m._brushType||hk(m,v2)){return}var v1=m._zr;var k=m._covers;var Z=Cd(m,v2,on);if(!m._dragging){for(var v=0;v<k.length;v++){var v3=k[v].__brushOption;if(Z&&(Z===true||v3.panelId===Z.panelId)&&y7[v3.brushType].contain(k[v],on[0],on[1])){return}}}Z&&v1.setCursorStyle("crosshair")}function aS(i){var k=i.event;k.preventDefault&&k.preventDefault()}function hr(i,e,k){return i.childOfName("main").contain(e,k)}function v7(on,KA,i,Z){var v2=on._creatingCover;var k=on._creatingPanel;var v=on._brushOption;var v1;on._track.push(i.slice());if(zo(on)||v2){if(k&&!v2){v.brushMode==="single"&&Cm(on);var m=E5(v);m.brushType=HC(m.brushType,k);m.panelId=k===true?null:k.panelId;v2=on._creatingCover=ps(on,m);on._covers.push(v2)}if(v2){var Kz=y7[HC(on._brushType,k)];var v3=v2.__brushOption;v3.range=Kz.getCreatingRange(pd(on,v2,on._track));if(Z){iQ(on,v2);Kz.updateCommon(on,v2)}gG(on,v2);v1={isEnd:Z}}}else{if(Z&&v.brushMode==="single"&&v.removeOnClick){if(Cd(on,KA,i)&&Cm(on)){v1={isEnd:Z,removeOnClick:true}}}}return v1}function HC(i,e){if(i==="auto"){if(pm){bY(e&&e.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"')}return e.defaultBrushType}return i}var uK={mousedown:function(m){if(this._dragging){zL(this,m)}else{if(!m.target||!m.target.draggable){aS(m);var k=this.group.transformCoordToLocal(m.offsetX,m.offsetY);this._creatingCover=null;var i=this._creatingPanel=Cd(this,m,k);if(i){this._dragging=true;this._track=[k.slice()]}}}},mousemove:function(m){var i=m.offsetX;var Z=m.offsetY;var k=this.group.transformCoordToLocal(i,Z);iN(this,m,k);if(this._dragging){aS(m);var v=v7(this,m,k,false);v&&pV(this,v)}},mouseup:function(i){zL(this,i)}};function zL(k,v){if(k._dragging){aS(v);var i=v.offsetX;var on=v.offsetY;var m=k.group.transformCoordToLocal(i,on);var Z=v7(k,v,m,true);k._dragging=false;k._track=[];k._creatingCover=null;Z&&pV(k,Z)}}function hk(i,e,m){var k=i._zr;return e<0||e>k.getWidth()||m<0||m>k.getHeight()}var y7={lineX:BE(0),lineY:BE(1),rect:{createCover:function(e,i){return zE(vK(wy,function(k){return k},function(k){return k}),e,i,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(i){var e=U(i);return qP(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(e,k,i,m){H2(e,k,i,m)},updateCommon:oT,contain:hr},polygon:{createCover:function(e,k){var i=new D4();i.add(new BY({name:"main",style:h0(k),silent:true}));return i},getCreatingRange:function(e){return e},endCreating:function(e,i){i.remove(i.childAt(0));i.add(new iO({name:"main",draggable:true,drift:vK(rU,e,i),ondragend:vK(pV,e,{isEnd:true})}))},updateCoverShape:function(e,k,i,m){k.childAt(0).setShape({points:pd(e,k,i)})},updateCommon:oT,contain:hr}};function BE(e){return{createCover:function(i,k){return zE(vK(wy,function(m){var v=[m,[0,100]];e&&v.reverse();return v},function(m){return m[e]}),i,k,[["w","e"],["n","s"]][e])},getCreatingRange:function(v){var k=U(v);var m=j7(k[0][e],k[1][e]);var i=Cy(k[0][e],k[1][e]);return[m,i]},updateCoverShape:function(k,on,Z,v2){var v1;var i=gd(k,on);if(i!==true&&i.getLinearBrushOtherExtent){v1=i.getLinearBrushOtherExtent(e,k._transform)}else{var v=k._zr;v1=[0,[v.getWidth(),v.getHeight()][1-e]]}var m=[Z,v1];e&&m.reverse();H2(k,on,m,v2)},updateCommon:oT,contain:hr}}function Hl(e){e=xx(e);return function(k,i){return pJ(k,e)}}function w9(i,e){i=xx(i);return function(Z){var k=e!=null?e:Z;var m=k?i.width:i.height;var v=k?i.x:i.y;return[v,v+(m||0)]}}function rY(k,i,e){k=xx(k);return function(Z,v,m){return k.contain(v[0],v[1])&&!ER(Z,i,e)}}function xx(e){return EG.create(e)}var CW=["axisLine","axisTickLabel","axisName"];var c4=rL({type:"parallelAxis",init:function(e,i){c4.superApply(this,"init",arguments);(this._brushController=new lk(i.getZr())).on("brush",k9(this._onBrush,this))},render:function(KC,on,v1,Kz){if(jD(KC,on,Kz)){return}this.axisModel=KC;this.api=v1;this.group.removeAll();var v=this._axisGroup;this._axisGroup=new D4();this.group.add(this._axisGroup);if(!KC.get("show")){return}var i=lN(KC,on);var k=i.coordinateSystem;var e=KC.getAreaSelectStyle();var v3=e.width;var m=KC.axis.dim;var KB=k.getAxisLayout(m);var KA=cc({strokeContainThreshold:v3},KB);var v2=new dt(KC,KA);qg(CW,v2.add,v2);this._axisGroup.add(v2.getGroup());this._refreshBrushController(KA,e,KC,i,v3,v1);var Z=(Kz&&Kz.animation===false)?null:KC;F(v,this._axisGroup,Z)},_refreshBrushController:function(v2,e,v1,k,on,m){var v3=v1.axis.getExtent();var Z=v3[1]-v3[0];var i=Math.min(30,Math.abs(Z)*0.1);var v=EG.create({x:v3[0],y:-on/2,width:Z,height:on});v.x-=i;v.width+=2*i;this._brushController.mount({enableGlobalPan:true,rotation:v2.rotation,position:v2.position}).setPanels([{panelId:"pl",clipPath:Hl(v),isTargetByCursor:rY(v,m,k),getLinearBrushOtherExtent:w9(v,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:true}).updateCovers(Fy(v1))},_onBrush:function(v,k){var i=this.axisModel;var m=i.axis;var e=Gj(v,function(Z){return[m.coordToData(Z.range[0],true),m.coordToData(Z.range[1],true)]});if(!i.option.realtime===k.isEnd||k.removeOnClick){this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:e})}},dispose:function(){this._brushController.dispose()}});function jD(i,e,k){return k&&k.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:k})[0]===i}function Fy(e){var i=e.axis;return Gj(e.activeIntervals,function(k){return{brushType:"lineX",panelId:"pl",range:[i.dataToCoord(k[0],true),i.dataToCoord(k[1],true)]}})}function lN(i,e){return e.getComponent("parallel",i.get("parallelIndex"))}var jd=5;rL({type:"parallel",render:function(i,e,k){this._model=i;this._api=k;if(!this._handlers){this._handlers={};qg(h3,function(v,m){k.getZr().on(m,this._handlers[m]=k9(v,this))},this)}nF(this,"_throttledDispatchExpand",i.get("axisExpandRate"),"fixRate")},dispose:function(e,i){qg(this._handlers,function(m,k){i.getZr().off(k,m)});this._handlers=null},_throttledDispatchExpand:function(e){this._dispatchExpand(e)},_dispatchExpand:function(e){e&&this._api.dispatchAction(cc({type:"parallelAxisExpand"},e))}});var h3={mousedown:function(i){if(Fm(this,"click")){this._mouseDownPoint=[i.offsetX,i.offsetY]}},mouseup:function(v){var m=this._mouseDownPoint;if(Fm(this,"click")&&m){var k=[v.offsetX,v.offsetY];var Z=Math.pow(m[0]-k[0],2)+Math.pow(m[1]-k[1],2);if(Z>jd){return}var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([v.offsetX,v.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(v){if(this._mouseDownPoint||!Fm(this,"mousemove")){return}var k=this._model;var i=k.coordinateSystem.getSlidedAxisExpandWindow([v.offsetX,v.offsetY]);var m=i.behavior;m==="jump"&&this._throttledDispatchExpand.debounceNextCall(k.get("axisExpandDebounce"));this._throttledDispatchExpand(m==="none"?null:{axisExpandWindow:i.axisExpandWindow,animation:m==="jump"?null:false})}};function Fm(i,e){var k=i._model;return k.get("axisExpandable")&&k.get("axisExpandTriggerOn")===e}AO(ph);oW.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(i,e){var k=this.getSource();Io(k,this);return b(k,this)},getRawIndicesByActiveState:function(i){var e=this.coordinateSystem;var k=this.getData();var m=[];e.eachActiveState(k,function(v,Z){if(i===v){m.push(k.getRawIndex(Z))}});return m},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:false},inactiveOpacity:0.05,activeOpacity:1,lineStyle:{width:1,opacity:0.45,type:"solid"},emphasis:{label:{show:false}},progressive:500,smooth:false,animationEasing:"linear"}});function Io(k,e){if(k.encodeDefine){return}var i=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(!i){return}var m=k.encodeDefine=EI();qg(i.dimensions,function(Z){var v=ni(Z);m.set(Z,v)})}function ni(e){return +e.replace("dim","")}var x=0.3;var Bl=dW.extend({type:"parallel",init:function(){this._dataGroup=new D4();this.group.add(this._dataGroup);this._data;this._initialized},render:function(k,v2,v3,KB){var i=this._dataGroup;var on=k.getData();var v1=this._data;var v=k.coordinateSystem;var e=v.dimensions;var KA=es(k);on.diff(v1).add(KC).update(m).remove(Z).execute();function KC(KE){var KD=BJ(on,i,KE,e,v);s8(KD,on,KE,KA)}function m(KH,KD){var KE=v1.getItemGraphicEl(KD);var KG=Hg(on,KH,e,v);on.setItemGraphicEl(KH,KE);var KF=(KB&&KB.animation===false)?null:k;pZ(KE,{shape:{points:KG}},KF,KH);s8(KE,on,KH,KA)}function Z(KD){var KE=v1.getItemGraphicEl(KD);i.remove(KE)}if(!this._initialized){this._initialized=true;var Kz=bs(v,k,function(){setTimeout(function(){i.removeClipPath()})});i.setClipPath(Kz)}this._data=on},incrementalPrepareRender:function(i,e,k){this._initialized=true;this._data=null;this._dataGroup.removeAll()},incrementalRender:function(Z,i,v){var m=i.getData();var k=i.coordinateSystem;var e=k.dimensions;var on=es(i);for(var v1=Z.start;v1<Z.end;v1++){var v2=BJ(m,this._dataGroup,v1,e,k);v2.incremental=true;s8(v2,m,v1,on)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});function bs(v,i,e){var k=v.model;var Z=v.getRect();var m=new GM({shape:{x:Z.x,y:Z.y,width:Z.width,height:Z.height}});var on=k.get("layout")==="horizontal"?"width":"height";m.setShape(on,0);kl(m,{shape:{width:Z.width,height:Z.height}},i,e);return m}function Hg(v1,m,Z,k){var v=[];for(var e=0;e<Z.length;e++){var v2=Z[e];var on=v1.get(v1.mapDimension(v2),m);if(!xA(on,k.getAxis(v2).type)){v.push(k.dataToPoint(on,v2))}}return v}function BJ(Z,on,k,v,i){var m=Hg(Z,k,v,i);var e=new BY({shape:{points:m},silent:true,z2:10});on.add(e);Z.setItemGraphicEl(k,e);return e}function es(i){var e=i.get("smooth",true);e===true&&(e=x);return{lineStyle:i.getModel("lineStyle").getLineStyle(),smooth:e!=null?e:x}}function s8(v,Z,m,k){var e=k.lineStyle;if(Z.hasItemOption){var on=Z.getItemModel(m).getModel("lineStyle");e=on.getLineStyle()}v.useStyle(e);var i=v.style;i.fill=null;i.stroke=Z.getItemVisual(m,"color");i.opacity=Z.getItemVisual(m,"opacity");k.smooth&&(v.shape.smooth=k.smooth)}function xA(i,e){return e==="category"?i==null:(i==null||isNaN(i))}var Iv=["lineStyle","normal","opacity"];var sZ={seriesType:"parallel",reset:function(m,Kz,KA){var v1=m.getModel("itemStyle");var KB=m.getModel("lineStyle");var k=Kz.get("color");var Z=KB.get("color")||v1.get("color")||k[m.seriesIndex%k.length];var i=m.get("inactiveOpacity");var v=m.get("activeOpacity");var v3=m.getModel("lineStyle").getLineStyle();var on=m.coordinateSystem;var v2=m.getData();var KC={normal:v3.opacity,active:v,inactive:i};v2.setVisual("color",Z);function e(KE,KD){on.eachActiveState(KD,function(KH,KG){var KF=KC[KH];if(KH==="normal"&&KD.hasItemOption){var KI=KD.getItemModel(KG).get(Iv,true);KI!=null&&(KF=KI)}KD.setItemVisual(KG,"opacity",KF)},KE.start,KE.end)}return{progress:e}}};H(sZ);var vQ=oW.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(v,Z){var v2=v.edges||v.links;var e=v.data||v.nodes;var v3=v.levels;var on=this.levelModels={};for(var m=0;m<v3.length;m++){if(v3[m].depth!=null&&v3[m].depth>=0){on[v3[m].depth]=new fV(v3[m],this,Z)}else{if(pm){throw new Error("levels[i].depth is mandatory and should be natural number")}}}if(e&&v2){var v1=DF(e,v2,this,true,k);return v1.data}function k(i,Kz){i.wrapMethod("getItemModel",function(KB,KA){KB.customizeGetParent(function(KE){var KC=this.parentModel;var KD=KC.getData().getItemLayout(KA).depth;var KF=KC.levelModels[KD];return KF||this.parentModel});return KB});Kz.wrapMethod("getItemModel",function(KB,KA){KB.customizeGetParent(function(KE){var KC=this.parentModel;var KD=KC.getGraph().getEdgeByIndex(KA);var KF=KD.node1.getLayout().depth;var KG=KC.levelModels[KF];return KG||this.parentModel});return KB})}},setNodePosition:function(k,e){var i=this.option.data[k];i.localX=e[0];i.localY=e[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(on,i,v1){if(v1==="edge"){var m=this.getDataParams(on,v1);var Z=m.data;var v=Z.source+" -- "+Z.target;if(m.value){v+=" : "+m.value}return nq(v)}else{if(v1==="node"){var k=this.getGraph().getNodeByIndex(on);var v2=k.getLayout().value;var e=this.getDataParams(on,v1).data.name;if(v2){var v=e+" : "+v2}return nq(v)}}return vQ.superCall(this,"formatTooltip",on,i)},optionUpdated:function(){var e=this.option;if(e.focusNodeAdjacency===true){e.focusNodeAdjacency="allEdges"}},getDataParams:function(k,e){var v=vQ.superCall(this,"getDataParams",k,e);if(v.value==null&&e==="node"){var m=this.getGraph().getNodeByIndex(k);var i=m.getLayout().value;v.value=i}return v},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:true,focusNodeAdjacency:false,layoutIterations:32,label:{show:true,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:0.2,curveness:0.5},emphasis:{label:{show:true},lineStyle:{opacity:0.5}},animationEasing:"linear",animationDuration:1000}});var w4=["itemStyle","opacity"];var ux=["emphasis","itemStyle","opacity"];var IH=["lineStyle","opacity"];var ds=["emphasis","lineStyle","opacity"];function Kj(i,e){return i.getVisual("opacity")||i.getModel().get(e)}function yw(m,k,v){var i=m.getGraphicEl();var e=Kj(m,k);if(v!=null){e==null&&(e=1);e*=v}i.downplay&&i.downplay();i.traverse(function(Z){if(Z.type!=="group"){Z.setStyle("opacity",e)}})}function pD(m,k){var e=Kj(m,k);var i=m.getGraphicEl();i.traverse(function(v){if(v.type!=="group"){v.setStyle("opacity",e)}});i.highlight&&i.highlight()}var r1=JJ({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(e,i){var k=i.extent;e.moveTo(i.x1,i.y1);e.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2);if(i.orient==="vertical"){e.lineTo(i.x2+k,i.y2);e.bezierCurveTo(i.cpx2+k,i.cpy2,i.cpx1+k,i.cpy1,i.x1+k,i.y1)}else{e.lineTo(i.x2,i.y2+k);e.bezierCurveTo(i.cpx2,i.cpy2+k,i.cpx1,i.cpy1+k,i.x1,i.y1+k)}e.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}});DH({type:"sankey",_model:null,_focusAdjacencyDisabled:false,render:function(m,Z,on){var KA=this;var Kz=m.getGraph();var v2=this.group;var k=m.layoutInfo;var i=k.width;var v3=k.height;var e=m.getData();var v1=m.getData("edge");var v=m.get("orient");this._model=m;v2.removeAll();v2.attr("position",[k.x,k.y]);Kz.eachEdge(function(KK){var KN=new r1();KN.dataIndex=KK.dataIndex;KN.seriesIndex=m.seriesIndex;KN.dataType="edge";var KO=KK.getModel("lineStyle");var KH=KO.get("curveness");var KC=KK.node1.getLayout();var KV=KK.node1.getModel();var KU=KV.get("localX");var KJ=KV.get("localY");var KB=KK.node2.getLayout();var KD=KK.node2.getModel();var KT=KD.get("localX");var KI=KD.get("localY");var KG=KK.getLayout();var KQ;var KF;var KP;var KE;var KM;var KS;var KL;var KR;KN.shape.extent=Math.max(1,KG.dy);KN.shape.orient=v;if(v==="vertical"){KQ=(KU!=null?KU*i:KC.x)+KG.sy;KF=(KJ!=null?KJ*v3:KC.y)+KC.dy;KP=(KT!=null?KT*i:KB.x)+KG.ty;KE=KI!=null?KI*v3:KB.y;KM=KQ;KS=KF*(1-KH)+KE*KH;KL=KP;KR=KF*KH+KE*(1-KH)}else{KQ=(KU!=null?KU*i:KC.x)+KC.dx;KF=(KJ!=null?KJ*v3:KC.y)+KG.sy;KP=KT!=null?KT*i:KB.x;KE=(KI!=null?KI*v3:KB.y)+KG.ty;KM=KQ*(1-KH)+KP*KH;KS=KF;KL=KQ*KH+KP*(1-KH);KR=KE}KN.setShape({x1:KQ,y1:KF,x2:KP,y2:KE,cpx1:KM,cpy1:KS,cpx2:KL,cpy2:KR});KN.setStyle(KO.getItemStyle());switch(KN.style.fill){case"source":KN.style.fill=KK.node1.getVisual("color");break;case"target":KN.style.fill=KK.node2.getVisual("color");break}z3(KN,KK.getModel("emphasis.lineStyle").getItemStyle());v2.add(KN);v1.setItemGraphicEl(KK.dataIndex,KN)});Kz.eachNode(function(KB){var KD=KB.getLayout();var KH=KB.getModel();var KI=KH.get("localX");var KG=KH.get("localY");var KJ=KH.getModel("label");var KE=KH.getModel("emphasis.label");var KF=new GM({shape:{x:KI!=null?KI*i:KD.x,y:KG!=null?KG*v3:KD.y,width:KD.dx,height:KD.dy},style:KH.getModel("itemStyle").getItemStyle()});var KC=KB.getModel("emphasis.itemStyle").getItemStyle();Dz(KF.style,KC,KJ,KE,{labelFetcher:m,labelDataIndex:KB.dataIndex,defaultText:KB.id,isRectText:true});KF.setStyle("fill",KB.getVisual("color"));z3(KF,KC);v2.add(KF);e.setItemGraphicEl(KB.dataIndex,KF);KF.dataType="node"});e.eachItemGraphicEl(function(KD,KB){var KC=e.getItemModel(KB);if(KC.get("draggable")){KD.drift=function(KF,KE){KA._focusAdjacencyDisabled=true;this.shape.x+=KF;this.shape.y+=KE;this.dirty();on.dispatchAction({type:"dragNode",seriesId:m.id,dataIndex:e.getRawIndex(KB),localX:this.shape.x/i,localY:this.shape.y/v3})};KD.ondragend=function(){KA._focusAdjacencyDisabled=false};KD.draggable=true;KD.cursor="move"}KD.highlight=function(){this.trigger("emphasis")};KD.downplay=function(){this.trigger("normal")};KD.focusNodeAdjHandler&&KD.off("mouseover",KD.focusNodeAdjHandler);KD.unfocusNodeAdjHandler&&KD.off("mouseout",KD.unfocusNodeAdjHandler);if(KC.get("focusNodeAdjacency")){KD.on("mouseover",KD.focusNodeAdjHandler=function(){if(!KA._focusAdjacencyDisabled){KA._clearTimer();on.dispatchAction({type:"focusNodeAdjacency",seriesId:m.id,dataIndex:KD.dataIndex})}});KD.on("mouseout",KD.unfocusNodeAdjHandler=function(){if(!KA._focusAdjacencyDisabled){KA._dispatchUnfocus(on)}})}});v1.eachItemGraphicEl(function(KC,KB){var KD=v1.getItemModel(KB);KC.focusNodeAdjHandler&&KC.off("mouseover",KC.focusNodeAdjHandler);KC.unfocusNodeAdjHandler&&KC.off("mouseout",KC.unfocusNodeAdjHandler);if(KD.get("focusNodeAdjacency")){KC.on("mouseover",KC.focusNodeAdjHandler=function(){if(!KA._focusAdjacencyDisabled){KA._clearTimer();on.dispatchAction({type:"focusNodeAdjacency",seriesId:m.id,edgeDataIndex:KC.dataIndex})}});KC.on("mouseout",KC.unfocusNodeAdjHandler=function(){if(!KA._focusAdjacencyDisabled){KA._dispatchUnfocus(on)}})}});if(!this._data&&m.get("animation")){v2.setClipPath(wS(v2.getBoundingRect(),m,function(){v2.removeClipPath()}))}this._data=m.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(i){var e=this;this._clearTimer();this._unfocusDelayTimer=setTimeout(function(){e._unfocusDelayTimer=null;i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e._model.id})},500)},_clearTimer:function(){if(this._unfocusDelayTimer){clearTimeout(this._unfocusDelayTimer);this._unfocusDelayTimer=null}},focusNodeAdjacency:function(k,v,Z,v2){var m=k.getData();var Kz=m.graph;var v1=v2.dataIndex;var KA=m.getItemModel(v1);var on=v2.edgeDataIndex;if(v1==null&&on==null){return}var i=Kz.getNodeByIndex(v1);var e=Kz.getEdgeByIndex(on);Kz.eachNode(function(KB){yw(KB,w4,0.1)});Kz.eachEdge(function(KB){yw(KB,IH,0.1)});if(i){pD(i,ux);var v3=KA.get("focusNodeAdjacency");if(v3==="outEdges"){qg(i.outEdges,function(KB){if(KB.dataIndex<0){return}pD(KB,ds);pD(KB.node2,ux)})}else{if(v3==="inEdges"){qg(i.inEdges,function(KB){if(KB.dataIndex<0){return}pD(KB,ds);pD(KB.node1,ux)})}else{if(v3==="allEdges"){qg(i.edges,function(KB){if(KB.dataIndex<0){return}pD(KB,ds);(KB.node1!==i)&&pD(KB.node1,ux);(KB.node2!==i)&&pD(KB.node2,ux)})}}}}if(e){pD(e,ds);pD(e.node1,ux);pD(e.node2,ux)}},unfocusNodeAdjacency:function(i,e,k,v){var m=i.getGraph();m.eachNode(function(Z){yw(Z,w4)});m.eachEdge(function(Z){yw(Z,IH)})}});function wS(m,i,e){var k=new GM({shape:{x:m.x-10,y:m.y-10,width:0,height:m.height+20}});kl(k,{shape:{width:m.width+20}},i,e);return k}ce({type:"dragNode",event:"dragnode",update:"update"},function(i,e){e.eachComponent({mainType:"series",subType:"sankey",query:i},function(k){k.setNodePosition(i.dataIndex,[i.localX,i.localY])})});var uY=function(e,i,k){e.eachSeriesByType("sankey",function(v2){var KC=v2.get("nodeWidth");var KB=v2.get("nodeGap");var v1=tc(v2,i);v2.layoutInfo=v1;var v=v1.width;var KE=v1.height;var KD=v2.getGraph();var m=KD.nodes;var KA=KD.edges;FF(m);var Z=sk(m,function(KF){return KF.getLayout().value===0});var on=Z.length!==0?0:v2.get("layoutIterations");var Kz=v2.get("orient");var v3=v2.get("nodeAlign");zX(m,KA,KC,KB,v,KE,on,Kz,v3)})};function tc(e,i){return lL(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function zX(e,on,v1,v,i,v2,k,Z,m){Kl(e,on,v1,i,v2,Z,m);zS(e,on,v2,i,v,k,Z);en(e,Z)}function FF(e){qg(e,function(v){var k=Du(v.outEdges,uJ);var i=Du(v.inEdges,uJ);var m=v.getValue()||0;var Z=Math.max(k,i,m);v.setLayout({value:Z},true)})}function Kl(KJ,on,Z,KI,KH,KF,Kz){var v=[];var KA=[];var k=[];var e=[];var KE=0;var KO=0;for(var KL=0;KL<on.length;KL++){v[KL]=1}for(KL=0;KL<KJ.length;KL++){KA[KL]=KJ[KL].inEdges.length;if(KA[KL]===0){k.push(KJ[KL])}}var m=-1;while(k.length){for(var KG=0;KG<k.length;KG++){var KK=k[KG];var KN=KK.hostGraph.data.getRawDataItem(KK.dataIndex);var KC=KN.depth!=null&&KN.depth>=0;if(KC&&KN.depth>m){m=KN.depth}KK.setLayout({depth:KC?KN.depth:KE},true);KF==="vertical"?KK.setLayout({dy:Z},true):KK.setLayout({dx:Z},true);for(var v2=0;v2<KK.outEdges.length;v2++){var KB=KK.outEdges[v2];var KD=on.indexOf(KB);v[KD]=0;var v3=KB.node2;var KM=KJ.indexOf(v3);if(--KA[KM]===0&&e.indexOf(v3)<0){e.push(v3)}}}++KE;k=e;e=[]}for(KL=0;KL<v.length;KL++){if(v[KL]===1){throw new Error("Sankey is a DAG, the original data has cycle!")}}var v1=m>KE-1?m:KE-1;if(Kz&&Kz!=="left"){qO(KJ,Kz,KF,v1)}var KO=KF==="vertical"?(KH-Z)/v1:(KI-Z)/v1;bZ(KJ,KO,KF)}function cj(i){var e=i.hostGraph.data.getRawDataItem(i.dataIndex);return e.depth!=null&&e.depth>=0}function qO(k,v1,v3,Z){if(v1==="right"){var KA=[];var e=k;var m=0;while(e.length){for(var Kz=0;Kz<e.length;Kz++){var on=e[Kz];on.setLayout({skNodeHeight:m},true);for(var v2=0;v2<on.inEdges.length;v2++){var v=on.inEdges[v2];if(KA.indexOf(v.node1)<0){KA.push(v.node1)}}}e=KA;KA=[];++m}qg(k,function(i){if(!cj(i)){i.setLayout({depth:Math.max(0,Z-i.getLayout().skNodeHeight)},true)}})}else{if(v1==="justify"){v4(k,Z)}}}function v4(e,i){qg(e,function(k){if(!cj(k)&&!k.outEdges.length){k.setLayout({depth:i},true)}})}function bZ(e,k,i){qg(e,function(v){var m=v.getLayout().depth*k;i==="vertical"?v.setLayout({y:m},true):v.setLayout({x:m},true)})}function zS(e,v1,v2,i,Z,m,on){var k=pY(e,on);xM(k,v1,v2,i,Z,on);iG(k,Z,v2,i,on);for(var v=1;m>0;m--){v*=0.99;I(k,v,on);iG(k,Z,v2,i,on);eJ(k,v,on);iG(k,Z,v2,i,on)}}function pY(k,m){var e=[];var i=m==="vertical"?"y":"x";var v=a1(k,function(Z){return Z.getLayout()[i]});v.keys.sort(function(on,Z){return on-Z});qg(v.keys,function(Z){e.push(v.buckets.get(Z))});return e}function xM(i,k,e,Z,on,m){var v=Infinity;qg(i,function(v1){var Kz=v1.length;var v3=0;qg(v1,function(KA){v3+=KA.getLayout().value});var v2=m==="vertical"?(Z-(Kz-1)*on)/v3:(e-(Kz-1)*on)/v3;if(v2<v){v=v2}});qg(i,function(v1){qg(v1,function(Kz,v3){var v2=Kz.getLayout().value*v;if(m==="vertical"){Kz.setLayout({x:v3},true);Kz.setLayout({dx:v2},true)}else{Kz.setLayout({y:v3},true);Kz.setLayout({dy:v2},true)}})});qg(k,function(v2){var v1=+v2.getValue()*v;v2.setLayout({dy:v1},true)})}function iG(i,Z,e,v,m){var k=m==="vertical"?"x":"y";qg(i,function(on){on.sort(function(KF,KE){return KF.getLayout()[k]-KE.getLayout()[k]});var v2;var v3;var KD;var KC=0;var v1=on.length;var Kz=m==="vertical"?"dx":"dy";for(var KA=0;KA<v1;KA++){v3=on[KA];KD=KC-v3.getLayout()[k];if(KD>0){v2=v3.getLayout()[k]+KD;m==="vertical"?v3.setLayout({x:v2},true):v3.setLayout({y:v2},true)}KC=v3.getLayout()[k]+v3.getLayout()[Kz]+Z}var KB=m==="vertical"?v:e;KD=KC-Z-KB;if(KD>0){v2=v3.getLayout()[k]-KD;m==="vertical"?v3.setLayout({x:v2},true):v3.setLayout({y:v2},true);KC=v2;for(KA=v1-2;KA>=0;--KA){v3=on[KA];KD=v3.getLayout()[k]+v3.getLayout()[Kz]+Z-KC;if(KD>0){v2=v3.getLayout()[k]-KD;m==="vertical"?v3.setLayout({x:v2},true):v3.setLayout({y:v2},true)}KC=v3.getLayout()[k]}}})}function I(e,k,i){qg(e.slice().reverse(),function(m){qg(m,function(on){if(on.outEdges.length){var v2=Du(on.outEdges,of,i)/Du(on.outEdges,uJ,i);if(isNaN(v2)){var v=on.outEdges.length;v2=v?Du(on.outEdges,sR,i)/v:0}if(i==="vertical"){var v1=on.getLayout().x+(v2-o1(on,i))*k;on.setLayout({x:v1},true)}else{var Z=on.getLayout().y+(v2-o1(on,i))*k;on.setLayout({y:Z},true)}}})})}function of(i,e){return o1(i.node2,e)*i.getValue()}function sR(i,e){return o1(i.node2,e)}function fU(i,e){return o1(i.node1,e)*i.getValue()}function ka(i,e){return o1(i.node1,e)}function o1(i,e){return e==="vertical"?i.getLayout().x+i.getLayout().dx/2:i.getLayout().y+i.getLayout().dy/2}function uJ(e){return e.getValue()}function Du(v1,k,m){var Z=0;var e=v1.length;var v=-1;while(++v<e){var on=+k.call(v1,v1[v],m);if(!isNaN(on)){Z+=on}}return Z}function eJ(e,k,i){qg(e,function(m){qg(m,function(on){if(on.inEdges.length){var v2=Du(on.inEdges,fU,i)/Du(on.inEdges,uJ,i);if(isNaN(v2)){var v=on.inEdges.length;v2=v?Du(on.inEdges,ka,i)/v:0}if(i==="vertical"){var v1=on.getLayout().x+(v2-o1(on,i))*k;on.setLayout({x:v1},true)}else{var Z=on.getLayout().y+(v2-o1(on,i))*k;on.setLayout({y:Z},true)}}})})}function en(i,k){var e=k==="vertical"?"x":"y";qg(i,function(m){m.outEdges.sort(function(Z,v){return Z.node2.getLayout()[e]-v.node2.getLayout()[e]});m.inEdges.sort(function(Z,v){return Z.node1.getLayout()[e]-v.node1.getLayout()[e]})});qg(i,function(v){var Z=0;var m=0;qg(v.outEdges,function(on){on.setLayout({sy:Z},true);Z+=on.getLayout().dy});qg(v.inEdges,function(on){on.setLayout({ty:m},true);m+=on.getLayout().dy})})}var ea=function(e,i){e.eachSeriesByType("sankey",function(m){var Z=m.getGraph();var k=Z.nodes;if(k.length){var v=Infinity;var on=-Infinity;qg(k,function(v2){var v1=v2.getLayout().value;if(v1<v){v=v1}if(v1>on){on=v1}});qg(k,function(Kz){var v3=new nC({type:"color",mappingMethod:"linear",dataExtent:[v,on],visual:m.get("color")});var v1=v3.mapValueToVisual(Kz.getLayout().value);var v2=Kz.getModel().get("itemStyle.color");v2!=null?Kz.setVisual("color",v2):Kz.setVisual("color",v1)})}})};qz(uY);H(ea);var y4={_baseAxisDim:null,getInitialData:function(v3,KH){var k;var i=KH.getComponent("xAxis",this.get("xAxisIndex"));var v1=KH.getComponent("yAxis",this.get("yAxisIndex"));var KA=i.get("type");var m=v1.get("type");var e;if(KA==="category"){v3.layout="horizontal";k=i.getOrdinalMeta();e=true}else{if(m==="category"){v3.layout="vertical";k=v1.getOrdinalMeta();e=true}else{v3.layout=v3.layout||"horizontal"}}var KF=["x","y"];var KE=v3.layout==="horizontal"?0:1;var on=this._baseAxisDim=KF[KE];var Z=KF[1-KE];var KD=[i,v1];var KC=KD[KE].get("type");var KB=KD[1-KE].get("type");var KG=v3.data;if(KG&&e){var Kz=[];qg(KG,function(KK,KI){var KJ;if(KK.value&&IQ(KK.value)){KJ=KK.value.slice();KK.value.unshift(KI)}else{if(IQ(KK)){KJ=KK.slice();KK.unshift(KI)}else{KJ=KK}}Kz.push(KJ)});v3.data=Kz}var v2=this.defaultValueDimensions;var v=[{name:on,type:rV(KC),ordinalMeta:k,otherDims:{tooltip:false,itemName:0},dimsDef:["base"]},{name:Z,type:rV(KB),dimsDef:v2.slice()}];return yU(this,{coordDimensions:v,dimensionsCount:v2.length+1,encodeDefaulter:tT(ok,v,this)})},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}};var Kh=oW.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:true},{name:"Q1",defaultTooltip:true},{name:"median",defaultTooltip:true},{name:"Q3",defaultTooltip:true},{name:"max",defaultTooltip:true}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});Iz(Kh,y4,true);var H0=["itemStyle"];var kg=["emphasis","itemStyle"];var aY=dW.extend({type:"boxplot",render:function(i,e,k){var m=i.getData();var Z=this.group;var on=this._data;if(!this._data){Z.removeAll()}var v=i.get("layout")==="horizontal"?1:0;m.diff(on).add(function(v2){if(m.hasValue(v2)){var v1=m.getItemLayout(v2);var v3=dx(v1,m,v2,v,true);m.setItemGraphicEl(v2,v3);Z.add(v3)}}).update(function(v3,v1){var Kz=on.getItemGraphicEl(v1);if(!m.hasValue(v3)){Z.remove(Kz);return}var v2=m.getItemLayout(v3);if(!Kz){Kz=dx(v2,m,v3,v)}else{uh(v2,Kz,m,v3)}Z.add(Kz);m.setItemGraphicEl(v3,Kz)}).remove(function(v1){var v2=on.getItemGraphicEl(v1);v2&&Z.remove(v2)}).execute();this._data=m},remove:function(e){var k=this.group;var i=this._data;this._data=null;i&&i.eachItemGraphicEl(function(m){m&&k.remove(m)})},dispose:Y});var s7=nh.extend({type:"boxplotBoxPath",shape:{},buildPath:function(k,m){var e=m.points;var v=0;k.moveTo(e[v][0],e[v][1]);v++;for(;v<4;v++){k.lineTo(e[v][0],e[v][1])}k.closePath();for(;v<e.length;v++){k.moveTo(e[v][0],e[v][1]);v++;k.lineTo(e[v][0],e[v][1])}}});function dx(m,v,i,Z,on){var e=m.ends;var k=new s7({shape:{points:on?f9(e,Z,m):e}});uh(m,k,v,i,on);return k}function uh(Kz,e,Z,v3,v1){var v=Z.hostModel;var on=zV[v1?"initProps":"updateProps"];on(e,{shape:{points:Kz.ends}},v,v3);var KA=Z.getItemModel(v3);var m=KA.getModel(H0);var i=Z.getItemVisual(v3,"color");var v2=m.getItemStyle(["borderColor"]);v2.stroke=i;v2.strokeNoScale=true;e.useStyle(v2);e.z2=100;var k=KA.getModel(kg).getItemStyle();z3(e,k)}function f9(i,k,e){return Gj(i,function(m){m=m.slice();m[k]=e.initBaseline;return m})}var yu=["itemStyle","borderColor"];var qX=function(e,i){var k=e.get("color");e.eachRawSeriesByType("boxplot",function(v){var m=k[v.seriesIndex%k.length];var Z=v.getData();Z.setVisual({legendSymbol:"roundRect",color:v.get(yu)||m});if(!e.isSeriesFiltered(v)){Z.each(function(on){var v1=Z.getItemModel(on);Z.setItemVisual(on,{color:v1.get(yu,true)})})}})};var vk=qg;var HS=function(e){var i=r0(e);vk(i,function(k){var m=k.seriesModels;if(!m.length){return}Ks(k);vk(m,function(Z,v){nQ(Z,k.boxOffsetList[v],k.boxWidthList[v])})})};function r0(i){var e=[];var k=[];i.eachSeriesByType("boxplot",function(v){var Z=v.getBaseAxis();var m=fc(k,Z);if(m<0){m=k.length;k[m]=Z;e[m]={axis:Z,seriesModels:[]}}e[m].seriesModels.push(v)});return e}function Ks(v3){var KB;var i=v3.axis;var k=v3.seriesModels;var v=k.length;var Z=v3.boxWidthList=[];var v2=v3.boxOffsetList=[];var KC=[];var m;if(i.type==="category"){m=i.getBandWidth()}else{var v1=0;vk(k,function(KD){v1=Math.max(v1,KD.getData().count())});KB=i.getExtent(),Math.abs(KB[1]-KB[0])/v1}vk(k,function(KD){var KE=KD.get("boxWidth");if(!IQ(KE)){KE=[KE,KE]}KC.push([BD(KE[0],m)||0,BD(KE[1],m)||0])});var Kz=m*0.8-2;var KA=Kz/v*0.3;var on=(Kz-KA*(v-1))/v;var e=on/2-Kz/2;vk(k,function(KE,KD){v2.push(e);e+=KA+on;Z.push(Math.min(Math.max(on,KC[KD][0]),KC[KD][1]))})}function nQ(Kz,k,v1){var m=Kz.coordinateSystem;var KK=Kz.getData();var Z=v1/2;var KB=Kz.get("layout")==="horizontal"?0:1;var v2=1-KB;var KI=["x","y"];var KC=KK.mapDimension(KI[KB]);var KA=KK.mapDimension(KI[v2],true);if(KC==null||KA.length<5){return}for(var KJ=0;KJ<KK.count();KJ++){var on=KK.get(KC,KJ);var v=e(on,KA[2],KJ);var KH=e(on,KA[0],KJ);var KG=e(on,KA[1],KJ);var KF=e(on,KA[3],KJ);var KE=e(on,KA[4],KJ);var v3=[];KD(v3,KG,0);KD(v3,KF,1);v3.push(KH,KG,KE,KF);i(v3,KH);i(v3,KE);i(v3,v);KK.setItemLayout(KJ,{initBaseline:v[v2],ends:v3})}function e(KO,KM,KN){var KQ=KK.get(KM,KN);var KP=[];KP[KB]=KO;KP[v2]=KQ;var KL;if(isNaN(KO)||isNaN(KQ)){KL=[NaN,NaN]}else{KL=m.dataToPoint(KP);KL[KB]+=k}return KL}function KD(KM,KL,KP){var KO=KL.slice();var KN=KL.slice();KO[KB]+=Z;KN[KB]-=Z;KP?KM.push(KO,KN):KM.push(KN,KO)}function i(KL,KM){var KO=KM.slice();var KN=KM.slice();KO[KB]-=Z;KN[KB]+=Z;KL.push(KO,KN)}}H(qX);qz(HS);var rv=oW.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:true},{name:"close",defaultTooltip:true},{name:"lowest",defaultTooltip:true},{name:"highest",defaultTooltip:true}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,layout:null,clip:true,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:true,largeThreshold:600,progressive:3000,progressiveThreshold:10000,progressiveChunkMode:"mod",animationUpdate:false,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(i,m,e){var k=m.getItemLayout(i);return k&&e.rect(k.brushRect)}});Iz(rv,y4,true);var Hu=["itemStyle"];var oU=["emphasis","itemStyle"];var IR=["color","color0","borderColor","borderColor0"];var Be=dW.extend({type:"candlestick",render:function(i,e,k){this.group.removeClipPath();this._updateDrawMode(i);this._isLargeDraw?this._renderLarge(i):this._renderNormal(i)},incrementalPrepareRender:function(i,e,k){this._clear();this._updateDrawMode(i)},incrementalRender:function(m,i,e,k){this._isLargeDraw?this._incrementalRenderLarge(m,i):this._incrementalRenderNormal(m,i)},_updateDrawMode:function(i){var e=i.pipelineContext.large;if(this._isLargeDraw==null||e^this._isLargeDraw){this._isLargeDraw=e;this._clear()}},_renderNormal:function(i){var m=i.getData();var on=this._data;var Z=this.group;var e=m.getLayout("isSimpleBox");var v=i.get("clip",true);var v1=i.coordinateSystem;var k=v1.getArea&&v1.getArea();if(!this._data){Z.removeAll()}m.diff(on).add(function(Kz){if(m.hasValue(Kz)){var v3;var v2=m.getItemLayout(Kz);if(v&&ne(k,v2)){return}v3=H8(v2,Kz,true);kl(v3,{shape:{points:v2.ends}},i,Kz);C2(v3,m,Kz,e);Z.add(v3);m.setItemGraphicEl(Kz,v3)}}).update(function(KA,v2){var Kz=on.getItemGraphicEl(v2);if(!m.hasValue(KA)){Z.remove(Kz);return}var v3=m.getItemLayout(KA);if(v&&ne(k,v3)){Z.remove(Kz);return}if(!Kz){Kz=H8(v3,KA)}else{pZ(Kz,{shape:{points:v3.ends}},i,KA)}C2(Kz,m,KA,e);Z.add(Kz);m.setItemGraphicEl(KA,Kz)}).remove(function(v2){var v3=on.getItemGraphicEl(v2);v3&&Z.remove(v3)}).execute();this._data=m},_renderLarge:function(e){this._clear();HY(e,this.group);var i=e.get("clip",true)?g6(e.coordinateSystem,false,e):null;if(i){this.group.setClipPath(i)}else{this.group.removeClipPath()}},_incrementalRenderNormal:function(on,i){var Z=i.getData();var e=Z.getLayout("isSimpleBox");var k;while((k=on.next())!=null){var v;var m=Z.getItemLayout(k);v=H8(m,k);C2(v,Z,k,e);v.incremental=true;this.group.add(v)}},_incrementalRenderLarge:function(i,e){HY(e,this.group,true)},remove:function(e){this._clear()},_clear:function(){this.group.removeAll();this._data=null},dispose:Y});var m8=nh.extend({type:"normalCandlestickBox",shape:{},buildPath:function(i,k){var e=k.points;if(this.__simpleBox){i.moveTo(e[4][0],e[4][1]);i.lineTo(e[6][0],e[6][1])}else{i.moveTo(e[0][0],e[0][1]);i.lineTo(e[1][0],e[1][1]);i.lineTo(e[2][0],e[2][1]);i.lineTo(e[3][0],e[3][1]);i.closePath();i.moveTo(e[4][0],e[4][1]);i.lineTo(e[5][0],e[5][1]);i.moveTo(e[6][0],e[6][1]);i.lineTo(e[7][0],e[7][1])}}});function H8(k,i,m){var e=k.ends;return new m8({shape:{points:m?IU(e,k):e},z2:100})}function ne(m,v){var e=true;for(var k=0;k<v.ends.length;k++){if(m.contain(v.ends[k][0],v.ends[k][1])){e=false;break}}return e}function C2(i,on,v2,e){var v3=on.getItemModel(v2);var v=v3.getModel(Hu);var Z=on.getItemVisual(v2,"color");var k=on.getItemVisual(v2,"borderColor")||Z;var v1=v.getItemStyle(IR);i.useStyle(v1);i.style.strokeNoScale=true;i.style.fill=Z;i.style.stroke=k;i.__simpleBox=e;var m=v3.getModel(oU).getItemStyle();z3(i,m)}function IU(i,e){return Gj(i,function(k){k=k.slice();k[1]=e.initBaseline;return k})}var rf=nh.extend({type:"largeCandlestickBox",shape:{},buildPath:function(k,m){var Z=m.points;for(var v=0;v<Z.length;){if(this.__sign===Z[v++]){var e=Z[v++];k.moveTo(e,Z[v++]);k.lineTo(e,Z[v++])}else{v+=3}}}});function HY(e,on,Z){var m=e.getData();var k=m.getLayout("largePoints");var i=new rf({shape:{points:k},__sign:1});on.add(i);var v=new rf({shape:{points:k},__sign:-1});on.add(v);eB(1,i,e,m);eB(-1,v,e,m);if(Z){i.incremental=true;v.incremental=true}}function eB(e,k,i,v){var Z=e>0?"P":"N";var on=v.getVisual("borderColor"+Z)||v.getVisual("color"+Z);var m=i.getModel(Hu).getItemStyle(IR);k.useStyle(m);k.style.fill=null;k.style.stroke=on}var lK=function(e){if(!e||!IQ(e.series)){return}qg(e.series,function(i){if(u7(i)&&i.type==="k"){i.type="candlestick"}})};var h=["itemStyle","borderColor"];var Aa=["itemStyle","borderColor0"];var ol=["itemStyle","color"];var tr=["itemStyle","color0"];var rn={seriesType:"candlestick",plan:Gy(),performRawSeries:true,reset:function(m,e){var Z=m.getData();Z.setVisual({legendSymbol:"roundRect",colorP:on(1,m),colorN:on(-1,m),borderColorP:i(1,m),borderColorN:i(-1,m)});if(e.isSeriesFiltered(m)){return}var k=m.pipelineContext.large;return !k&&{progress:v};function v(KA,Kz){var v2;while((v2=KA.next())!=null){var v3=Kz.getItemModel(v2);var v1=Kz.getItemLayout(v2).sign;Kz.setItemVisual(v2,{color:on(v1,v3),borderColor:i(v1,v3)})}}function on(v1,v2){return v2.get(v1>0?ol:tr)}function i(v1,v2){return v2.get(v1>0?h:Aa)}}};var xt=typeof Float32Array!=="undefined"?Float32Array:Array;var Id={seriesType:"candlestick",plan:Gy(),reset:function(m){var v=m.coordinateSystem;var on=m.getData();var KD=rK(m,on);var KB=0;var i=1;var Kz=["x","y"];var KA=on.mapDimension(Kz[KB]);var KC=on.mapDimension(Kz[i],true);var v3=KC[0];var e=KC[1];var v1=KC[2];var Z=KC[3];on.setLayout({candleWidth:KD,isSimpleBox:KD<=1.3});if(KA==null||KC.length<4){return}return{progress:m.pipelineContext.large?v2:k};function k(KT,KW){var KV;while((KV=KT.next())!=null){var KK=KW.get(KA,KV);var KQ=KW.get(v3,KV);var KJ=KW.get(e,KV);var KE=KW.get(v1,KV);var KG=KW.get(Z,KV);var KP=Math.min(KQ,KJ);var KI=Math.max(KQ,KJ);var KU=KH(KP,KK);var KL=KH(KI,KK);var KF=KH(KE,KK);var KN=KH(KG,KK);var KO=[];KS(KO,KL,0);KS(KO,KU,1);KO.push(KM(KN),KM(KL),KM(KF),KM(KU));KW.setItemLayout(KV,{sign:e2(KW,KV,KQ,KJ,e),initBaseline:KQ>KJ?KL[i]:KU[i],ends:KO,brushRect:KR(KE,KG,KK)})}function KH(KZ,KX){var KY=[];KY[KB]=KX;KY[i]=KZ;return(isNaN(KX)||isNaN(KZ))?[NaN,NaN]:v.dataToPoint(KY)}function KS(KY,KX,K1){var K0=KX.slice();var KZ=KX.slice();K0[KB]=IE(K0[KB]+KD/2,1,false);KZ[KB]=IE(KZ[KB]-KD/2,1,true);K1?KY.push(K0,KZ):KY.push(KZ,K0)}function KR(K0,KX,KZ){var K1=KH(K0,KZ);var KY=KH(KX,KZ);K1[KB]-=KD/2;KY[KB]-=KD/2;return{x:K1[0],y:K1[1],width:i?KD:KY[0]-K1[0],height:i?KY[1]-K1[1]:KD}}function KM(KX){KX[KB]=IE(KX[KB],1);return KX}}function v2(KH,KK){var KQ=new xt(KH.count*4);var KJ=0;var KP;var KL=[];var KG=[];var KO;while((KO=KH.next())!=null){var KM=KK.get(KA,KO);var KI=KK.get(v3,KO);var KN=KK.get(e,KO);var KF=KK.get(v1,KO);var KE=KK.get(Z,KO);if(isNaN(KM)||isNaN(KF)||isNaN(KE)){KQ[KJ++]=NaN;KJ+=3;continue}KQ[KJ++]=e2(KK,KO,KI,KN,e);KL[KB]=KM;KL[i]=KF;KP=v.dataToPoint(KL,null,KG);KQ[KJ++]=KP?KP[0]:NaN;KQ[KJ++]=KP?KP[1]:NaN;KL[i]=KE;KP=v.dataToPoint(KL,null,KG);KQ[KJ++]=KP?KP[1]:NaN}KK.setLayout("largePoints",KQ)}}};function e2(Z,v,m,k,e){var i;if(m>k){i=-1}else{if(m<k){i=1}else{i=v>0?(Z.get(e,v-1)<=k?1:-1):1}}return i}function rK(i,v1){var on=i.getBaseAxis();var Z;var e=on.type==="category"?on.getBandWidth():(Z=on.getExtent(),Math.abs(Z[1]-Z[0])/v1.count());var m=BD(kY(i.get("barMaxWidth"),e),e);var k=BD(kY(i.get("barMinWidth"),1),e);var v=i.get("barWidth");return v!=null?BD(v,e):Math.max(Math.min(e/2,m),k)}AO(lK);H(rn);qz(Id);oW.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(i,e){return b(this.getSource(),this,{useEncodeDefaulter:true})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var df=3;function AL(e){if(!IQ(e)){e=[+e,+e]}return e}function oA(i,k){var e=k.rippleEffectColor||k.color;i.eachChild(function(m){m.attr({z:k.z,zlevel:k.zlevel,style:{stroke:k.brushType==="stroke"?e:null,fill:k.brushType==="fill"?e:null}})})}function JV(m,e){D4.call(this);var k=new mG(m,e);var i=new D4();this.add(k);this.add(i);i.beforeUpdate=function(){this.attr(k.getScale())};this.updateData(m,e)}var sm=JV.prototype;sm.stopEffectAnimation=function(){this.childAt(1).removeAll()};sm.startEffectAnimation=function(Z){var v1=Z.symbolType;var e=Z.color;var v=this.childAt(1);for(var m=0;m<df;m++){var on=vz(v1,-1,-1,2,2,e);on.attr({style:{strokeNoScale:true},z2:99,silent:true,scale:[0.5,0.5]});var k=-m/df*Z.period+Z.effectOffset;on.animate("",true).when(Z.period,{scale:[Z.rippleScale/2,Z.rippleScale/2]}).delay(k).start();on.animateStyle(true).when(Z.period,{opacity:0}).delay(k).start();v.add(on)}oA(v,Z)};sm.updateEffectAnimation=function(Z){var e=this._effectCfg;var v=this.childAt(1);var m=["symbolType","period","rippleScale"];for(var k=0;k<m.length;k++){var on=m[k];if(e[on]!==Z[on]){this.stopEffectAnimation();this.startEffectAnimation(Z);return}}oA(v,Z)};sm.highlight=function(){this.trigger("emphasis")};sm.downplay=function(){this.trigger("normal")};sm.updateData=function(Z,KB){var k=Z.hostModel;this.childAt(0).updateData(Z,KB);var KA=this.childAt(1);var KC=Z.getItemModel(KB);var KD=Z.getItemVisual(KB,"symbol");var i=AL(Z.getItemVisual(KB,"symbolSize"));var v=Z.getItemVisual(KB,"color");KA.attr("scale",i);KA.traverse(function(KE){KE.attr({fill:v})});var v3=KC.getShallow("symbolOffset");if(v3){var Kz=KA.position;Kz[0]=BD(v3[0],i[0]);Kz[1]=BD(v3[1],i[1])}var v2=Z.getItemVisual(KB,"symbolRotate");KA.rotation=(v2||0)*Math.PI/180||0;var v1={};v1.showEffectOn=k.get("showEffectOn");v1.rippleScale=KC.get("rippleEffect.scale");v1.brushType=KC.get("rippleEffect.brushType");v1.period=KC.get("rippleEffect.period")*1000;v1.effectOffset=KB/Z.count();v1.z=KC.getShallow("z")||0;v1.zlevel=KC.getShallow("zlevel")||0;v1.symbolType=KD;v1.color=v;v1.rippleEffectColor=KC.get("rippleEffect.color");this.off("mouseover").off("mouseout").off("emphasis").off("normal");if(v1.showEffectOn==="render"){this._effectCfg?this.updateEffectAnimation(v1):this.startEffectAnimation(v1);this._effectCfg=v1}else{this._effectCfg=null;this.stopEffectAnimation();var e=this.childAt(0);var m=function(){e.highlight();if(v1.showEffectOn!=="render"){this.startEffectAnimation(v1)}};var on=function(){e.downplay();if(v1.showEffectOn!=="render"){this.stopEffectAnimation()}};this.on("mouseover",m,this).on("mouseout",on,this).on("emphasis",m,this).on("normal",on,this)}this._effectCfg=v1};sm.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal");e&&e()};nm(JV,D4);DH({type:"effectScatter",init:function(){this._symbolDraw=new Hf(JV)},render:function(i,e,m){var v=i.getData();var k=this._symbolDraw;k.updateData(v);this.group.add(k.group)},updateTransform:function(i,e,m){var v=i.getData();this.group.dirty();var k=rN().reset(i);if(k.progress){k.progress({start:0,end:v.count()},v)}this._symbolDraw.updateLayout(v)},_updateGroupTransform:function(e){var i=e.coordinateSystem;if(i&&i.getRoamTransform){this.group.transform=wi(i.getRoamTransform());this.group.decomposeTransform()}},remove:function(e,i){this._symbolDraw&&this._symbolDraw.remove(i)},dispose:function(){}});H(ng("effectScatter","circle"));qz(rN("effectScatter"));var sL=typeof Uint32Array==="undefined"?Array:Uint32Array;var FJ=typeof Float64Array==="undefined"?Array:Float64Array;function b3(e){var i=e.data;if(i&&i[0]&&i[0][0]&&i[0][0].coord){if(pm){console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }")}e.data=Gj(i,function(v){var k=[v[0].coord,v[1].coord];var m={coords:k};if(v[0].name){m.fromName=v[0].name}if(v[1].name){m.toName=v[1].name}return ae([m,v[0],v[1]])})}}var zR=oW.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(i){i.data=i.data||[];b3(i);var e=this._processFlatCoordsArray(i.data);this._flatCoords=e.flatCoords;this._flatCoordsOffset=e.flatCoordsOffset;if(e.flatCoords){i.data=new Float32Array(e.count)}zR.superApply(this,"init",arguments)},mergeOption:function(i){b3(i);if(i.data){var e=this._processFlatCoordsArray(i.data);this._flatCoords=e.flatCoords;this._flatCoordsOffset=e.flatCoordsOffset;if(e.flatCoords){i.data=new Float32Array(e.count)}}zR.superApply(this,"mergeOption",arguments)},appendData:function(i){var e=this._processFlatCoordsArray(i.data);if(e.flatCoords){if(!this._flatCoords){this._flatCoords=e.flatCoords;this._flatCoordsOffset=e.flatCoordsOffset}else{this._flatCoords=l2(this._flatCoords,e.flatCoords);this._flatCoordsOffset=l2(this._flatCoordsOffset,e.flatCoordsOffset)}i.data=new Float32Array(e.count)}this.getRawData().appendData(i.data)},_getCoordsFromItemModel:function(e){var i=this.getData().getItemModel(e);var k=(i.option instanceof Array)?i.option:i.getShallow("coords");if(pm){if(!(k instanceof Array&&k.length>0&&k[0] instanceof Array)){throw new Error("Invalid coords "+JSON.stringify(k)+". Lines must have 2d coords array in data item.")}}return k},getLineCoordsCount:function(e){if(this._flatCoordsOffset){return this._flatCoordsOffset[e*2+1]}else{return this._getCoordsFromItemModel(e).length}},getLineCoords:function(k,m){if(this._flatCoordsOffset){var on=this._flatCoordsOffset[k*2];var e=this._flatCoordsOffset[k*2+1];for(var v=0;v<e;v++){m[v]=m[v]||[];m[v][0]=this._flatCoords[on+v*2];m[v][1]=this._flatCoords[on+v*2+1]}return e}else{var Z=this._getCoordsFromItemModel(k);for(var v=0;v<Z.length;v++){m[v]=m[v]||[];m[v][0]=Z[v][0];m[v][1]=Z[v][1]}return Z.length}},_processFlatCoordsArray:function(Z){var v3=0;if(this._flatCoords){v3=this._flatCoords.length}if(typeof Z[0]==="number"){var v2=Z.length;var KC=new sL(v2);var on=new FJ(v2);var KD=0;var e=0;var KB=0;for(var v=0;v<v2;){KB++;var v1=Z[v++];KC[e++]=KD+v3;KC[e++]=v1;for(var m=0;m<v1;m++){var KA=Z[v++];var Kz=Z[v++];on[KD++]=KA;on[KD++]=Kz;if(v>v2){if(pm){throw new Error("Invalid data format.")}}}}return{flatCoordsOffset:new Uint32Array(KC.buffer,0,e),flatCoords:on,count:KB}}return{flatCoordsOffset:null,flatCoords:null,count:Z.length}},getInitialData:function(k,e){if(pm){var i=fZ.get(k.coordinateSystem);if(!i){throw new Error("Unkown coordinate system "+k.coordinateSystem)}}var m=new y6(["value"],this);m.hasItemOption=false;m.initData(k.data,[],function(v,v2,Z,v1){if(v instanceof Array){return NaN}else{m.hasItemOption=true;var on=v.value;if(on!=null){return on instanceof Array?on[v1]:on}}});return m},formatTooltip:function(v){var on=this.getData();var Z=on.getItemModel(v);var i=Z.get("name");if(i){return i}var m=Z.get("fromName");var e=Z.get("toName");var k=[];m!=null&&k.push(m);e!=null&&k.push(e);return nq(k.join(" > "))},preventIncremental:function(){return !!this.get("effect.show")},getProgressive:function(){var e=this.option.progressive;if(e==null){return this.option.large?10000:this.get("progressive")}return e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;if(e==null){return this.option.large?20000:this.get("progressiveThreshold")}return e},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:false,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:true,trailLength:0.2},large:false,largeThreshold:2000,polyline:false,clip:true,label:{show:false,position:"end"},lineStyle:{opacity:0.5}}});function zK(k,e,i){D4.call(this);this.add(this.createLine(k,e,i));this._updateEffectSymbol(k,e)}var nU=zK.prototype;nU.createLine=function(k,e,i){return new nH(k,e,i)};nU._updateEffectSymbol=function(v1,e){var v=v1.getItemModel(e);var k=v.getModel("effect");var m=k.get("symbolSize");var on=k.get("symbol");if(!IQ(m)){m=[m,m]}var i=k.get("color")||v1.getItemVisual(e,"color");var Z=this.childAt(1);if(this._symbolType!==on){this.remove(Z);Z=vz(on,-0.5,-0.5,1,1,i);Z.z2=100;Z.culling=true;this.add(Z)}if(!Z){return}Z.setStyle("shadowColor",i);Z.setStyle(k.getItemStyle(["color"]));Z.attr("scale",m);Z.setColor(i);Z.attr("scale",m);this._symbolType=on;this._symbolScale=m;this._updateEffectAnimation(v1,k,e)};nU._updateEffectAnimation=function(k,KA,v3){var m=this.childAt(1);if(!m){return}var KB=this;var Kz=k.getItemLayout(v3);var v2=KA.get("period")*1000;var Z=KA.get("loop");var v1=KA.get("constantSpeed");var e=g1(KA.get("delay"),function(KC){return KC/k.count()*v2/3});var on=typeof e==="function";m.ignore=true;this.updateAnimationPoints(m,Kz);if(v1>0){v2=this.getLineLength(m)/v1*1000}if(v2!==this._period||Z!==this._loop){m.stopAnimation();var v=e;if(on){v=e(v3)}if(m.__t>0){v=-v2*m.__t}m.__t=0;var i=m.animate("",Z).when(v2,{__t:1}).delay(v).during(function(){KB.updateSymbolPosition(m)});if(!Z){i.done(function(){KB.remove(m)})}i.start()}this._period=v2;this._loop=Z};nU.getLineLength=function(e){return(FX(e.__p1,e.__cp1)+FX(e.__cp1,e.__p2))};nU.updateAnimationPoints=function(i,e){i.__p1=e[0];i.__p2=e[1];i.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]};nU.updateData=function(k,e,i){this.childAt(0).updateData(k,e,i);this._updateEffectSymbol(k,e)};nU.updateSymbolPosition=function(e){var Kz=e.__p1;var v3=e.__p2;var v=e.__cp1;var KA=e.__t;var on=e.position;var v1=[on[0],on[1]];var Z=lj;var i=w5;on[0]=Z(Kz[0],v[0],v3[0],KA);on[1]=Z(Kz[1],v[1],v3[1],KA);var m=i(Kz[0],v[0],v3[0],KA);var k=i(Kz[1],v[1],v3[1],KA);e.rotation=-Math.atan2(k,m)-Math.PI/2;if(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect"){if(e.__lastT!==undefined&&e.__lastT<e.__t){var v2=FX(v1,on)*1.05;e.attr("scale",[e.scale[0],v2]);if(KA===1){on[0]=v1[0]+(on[0]-v1[0])/2;on[1]=v1[1]+(on[1]-v1[1])/2}}else{if(e.__lastT===1){var v2=2*FX(Kz,on);e.attr("scale",[e.scale[0],v2])}else{e.attr("scale",this._symbolScale)}}}e.__lastT=e.__t;e.ignore=false};nU.updateLayout=function(k,e){this.childAt(0).updateLayout(k,e);var i=k.getItemModel(e).getModel("effect");this._updateEffectAnimation(k,i,e)};nm(zK,D4);function jl(k,e,i){D4.call(this);this._createPolyline(k,e,i)}var az=jl.prototype;az._createPolyline=function(v,e,k){var m=v.getItemLayout(e);var i=new BY({shape:{points:m}});this.add(i);this._updateCommonStl(v,e,k)};az.updateData=function(Z,e,m){var k=Z.hostModel;var i=this.childAt(0);var v={shape:{points:Z.getItemLayout(e)}};pZ(i,v,k,e);this._updateCommonStl(Z,e,m)};az._updateCommonStl=function(v1,i,v){var k=this.childAt(0);var Z=v1.getItemModel(i);var m=v1.getItemVisual(i,"color");var e=v&&v.lineStyle;var on=v&&v.hoverLineStyle;if(!v||v1.hasItemOption){e=Z.getModel("lineStyle").getLineStyle();on=Z.getModel("emphasis.lineStyle").getLineStyle()}k.useStyle(Fg({strokeNoScale:true,fill:"none",stroke:m},e));k.hoverStyle=on;z3(this)};az.updateLayout=function(k,e){var i=this.childAt(0);i.setShape("points",k.getItemLayout(e))};nm(jl,D4);function g(k,e,i){zK.call(this,k,e,i);this._lastFrame=0;this._lastFramePercent=0}var sr=g.prototype;sr.createLine=function(k,e,i){return new jl(k,e,i)};sr.updateAnimationPoints=function(v,m){this._points=m;var v1=[0];var k=0;for(var e=1;e<m.length;e++){var on=m[e-1];var Z=m[e];k+=FX(on,Z);v1.push(k)}if(k===0){return}for(var e=0;e<v1.length;e++){v1[e]/=k}this._offsets=v1;this._length=k};sr.getLineLength=function(e){return this._length};sr.updateSymbolPosition=function(m){var v3=m.__t;var v2=this._points;var v=this._offsets;var v1=v2.length;if(!v){return}var i=this._lastFrame;var k;if(v3<this._lastFramePercent){var e=Math.min(i+1,v1-1);for(k=e;k>=0;k--){if(v[k]<=v3){break}}k=Math.min(k,v1-2)}else{for(var k=i;k<v1;k++){if(v[k]>v3){break}}k=Math.min(k-1,v1-2)}s2(m.position,v2[k],v2[k+1],(v3-v[k])/(v[k+1]-v[k]));var on=v2[k+1][0]-v2[k][0];var Z=v2[k+1][1]-v2[k][1];m.rotation=-Math.atan2(Z,on)-Math.PI/2;this._lastFrame=k;this._lastFramePercent=v3;m.ignore=false};nm(g,zK);var jK=JJ({shape:{polyline:false,curveness:0,segs:[]},buildPath:function(KD,Kz){var v=Kz.segs;var v1=Kz.curveness;if(Kz.polyline){for(var v2=0;v2<v.length;){var v3=v[v2++];if(v3>0){KD.moveTo(v[v2++],v[v2++]);for(var on=1;on<v3;on++){KD.lineTo(v[v2++],v[v2++])}}}}else{for(var v2=0;v2<v.length;){var Z=v[v2++];var KC=v[v2++];var m=v[v2++];var KB=v[v2++];KD.moveTo(Z,KC);if(v1>0){var e=(Z+m)/2-(KC-KB)*v1;var KA=(KC+KB)/2-(m-Z)*v1;KD.quadraticCurveTo(e,KA,m,KB)}else{KD.lineTo(m,KB)}}}},findDataIndex:function(KE,KB){var Kz=this.shape;var v=Kz.segs;var v1=Kz.curveness;if(Kz.polyline){var KD=0;for(var v2=0;v2<v.length;){var v3=v[v2++];if(v3>0){var Z=v[v2++];var KF=v[v2++];for(var on=1;on<v3;on++){var m=v[v2++];var KC=v[v2++];if(r9(Z,KF,m,KC)){return KD}}}KD++}}else{var KD=0;for(var v2=0;v2<v.length;){var Z=v[v2++];var KF=v[v2++];var m=v[v2++];var KC=v[v2++];if(v1>0){var e=(Z+m)/2-(KF-KC)*v1;var KA=(KF+KC)/2-(m-Z)*v1;if(r7(Z,KF,e,KA,m,KC)){return KD}}else{if(r9(Z,KF,m,KC)){return KD}}KD++}}return -1}});function JP(){this.group=new D4()}var fm=JP.prototype;fm.isPersistent=function(){return !this._incremental};fm.updateData=function(i){this.group.removeAll();var e=new jK({rectHover:true,cursor:"default"});e.setShape({segs:i.getLayout("linesPoints")});this._setCommon(e,i);this.group.add(e);this._incremental=null};fm.incrementalPrepareUpdate=function(e){this.group.removeAll();this._clearIncremental();if(e.count()>500000){if(!this._incremental){this._incremental=new BB({silent:true})}this.group.add(this._incremental)}else{this._incremental=null}};fm.incrementalUpdate=function(k,i){var e=new jK();e.setShape({segs:i.getLayout("linesPoints")});this._setCommon(e,i,!!this._incremental);if(!this._incremental){e.rectHover=true;e.cursor="default";e.__startIndex=k.start;this.group.add(e)}else{this._incremental.addDisplayable(e,true)}};fm.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};fm._setCommon=function(k,m,e){var v=m.hostModel;k.setShape({polyline:v.get("polyline"),curveness:v.get("lineStyle.curveness")});k.useStyle(v.getModel("lineStyle").getLineStyle());k.style.strokeNoScale=true;var i=m.getVisual("color");if(i){k.setStyle("stroke",i)}k.setStyle("fill");if(!e){k.seriesIndex=v.seriesIndex;k.on("mousemove",function(on){k.dataIndex=null;var Z=k.findDataIndex(on.offsetX,on.offsetY);if(Z>0){k.dataIndex=Z+k.__startIndex}})}};fm._clearIncremental=function(){var e=this._incremental;if(e){e.clearDisplaybles()}};var b8={seriesType:"lines",plan:Gy(),reset:function(e){var k=e.coordinateSystem;var v=e.get("polyline");var m=e.pipelineContext.large;function i(v2,on){var KE=[];if(m){var KF;var Z=v2.end-v2.start;if(v){var KB=0;for(var KC=v2.start;KC<v2.end;KC++){KB+=e.getLineCoordsCount(KC)}KF=new Float32Array(Z+KB*2)}else{KF=new Float32Array(Z*4)}var KA=0;var KI=[];for(var KC=v2.start;KC<v2.end;KC++){var KD=e.getLineCoords(KC,KE);if(v){KF[KA++]=KD}for(var v1=0;v1<KD;v1++){KI=k.dataToPoint(KE[v1],false,KI);KF[KA++]=KI[0];KF[KA++]=KI[1]}}on.setLayout("linesPoints",KF)}else{for(var KC=v2.start;KC<v2.end;KC++){var KG=on.getItemModel(KC);var KD=e.getLineCoords(KC,KE);var KH=[];if(v){for(var Kz=0;Kz<KD;Kz++){KH.push(k.dataToPoint(KE[Kz]))}}else{KH[0]=k.dataToPoint(KE[0]);KH[1]=k.dataToPoint(KE[1]);var v3=KG.get("lineStyle.curveness");if(+v3){KH[2]=[(KH[0][0]+KH[1][0])/2-(KH[0][1]-KH[1][1])*v3,(KH[0][1]+KH[1][1])/2-(KH[1][0]-KH[0][0])*v3]}}on.setItemLayout(KC,KH)}}}return{progress:i}}};DH({type:"lines",init:function(){},render:function(i,on,v1){var m=i.getData();var Kz=this._updateLineDraw(m,i);var Z=i.get("zlevel");var v=i.get("effect.trailLength");var v2=v1.getZr();var k=v2.painter.getType()==="svg";if(!k){v2.painter.getLayer(Z).clear(true)}if(this._lastZlevel!=null&&!k){v2.configLayer(this._lastZlevel,{motionBlur:false})}if(this._showEffect(i)&&v){if(pm){var e=false;on.eachSeries(function(KA){if(KA!==i&&KA.get("zlevel")===Z){e=true}});e&&console.warn("Lines with trail effect should have an individual zlevel")}if(!k){v2.configLayer(Z,{motionBlur:true,lastFrameAlpha:Math.max(Math.min(v/10+0.9,1),0)})}}Kz.updateData(m);var v3=i.get("clip",true)&&g6(i.coordinateSystem,false,i);if(v3){this.group.setClipPath(v3)}else{this.group.removeClipPath()}this._lastZlevel=Z;this._finished=true},incrementalPrepareRender:function(i,e,m){var v=i.getData();var k=this._updateLineDraw(v,i);k.incrementalPrepareUpdate(v);this._clearLayer(m);this._finished=false},incrementalRender:function(k,i,e){this._lineDraw.incrementalUpdate(k,i.getData());this._finished=k.end===i.getData().count()},updateTransform:function(i,e,m){var Z=i.getData();var v=i.pipelineContext;if(!this._finished||v.large||v.progressiveRender){return{update:true}}else{var k=b8.reset(i);if(k.progress){k.progress({start:0,end:Z.count()},Z)}this._lineDraw.updateLayout();this._clearLayer(m)}},_updateLineDraw:function(Z,k){var m=this._lineDraw;var e=this._showEffect(k);var on=!!k.get("polyline");var v=k.pipelineContext;var i=v.large;if(pm){if(e&&i){console.warn("Large lines not support effect")}}if(!m||e!==this._hasEffet||on!==this._isPolyline||i!==this._isLargeDraw){if(m){m.remove()}m=this._lineDraw=i?new JP():new h5(on?(e?g:jl):(e?zK:nH));this._hasEffet=e;this._isPolyline=on;this._isLargeDraw=i;this.group.removeAll()}this.group.add(m.group);return m},_showEffect:function(e){return !!e.get("effect.show")},_clearLayer:function(e){var k=e.getZr();var i=k.painter.getType()==="svg";if(!i&&this._lastZlevel!=null){k.painter.getLayer(this._lastZlevel).clear(true)}},remove:function(e,i){this._lineDraw&&this._lineDraw.remove();this._lineDraw=null;this._clearLayer(i)},dispose:function(){}});function mj(e){if(!(e instanceof Array)){e=[e,e]}return e}var BG="lineStyle.opacity".split(".");var HJ={seriesType:"lines",reset:function(i,e,m){var on=mj(i.get("symbol"));var Z=mj(i.get("symbolSize"));var v=i.getData();v.setVisual("fromSymbol",on&&on[0]);v.setVisual("toSymbol",on&&on[1]);v.setVisual("fromSymbolSize",Z&&Z[0]);v.setVisual("toSymbolSize",Z&&Z[1]);v.setVisual("opacity",i.get(BG));function k(KA,v1){var v3=KA.getItemModel(v1);var KB=mj(v3.getShallow("symbol",true));var Kz=mj(v3.getShallow("symbolSize",true));var v2=v3.get(BG);KB[0]&&KA.setItemVisual(v1,"fromSymbol",KB[0]);KB[1]&&KA.setItemVisual(v1,"toSymbol",KB[1]);Kz[0]&&KA.setItemVisual(v1,"fromSymbolSize",Kz[0]);Kz[1]&&KA.setItemVisual(v1,"toSymbolSize",Kz[1]);KA.setItemVisual(v1,"opacity",v2)}return{dataEach:v.hasItemOption?k:null}}};qz(b8);H(HJ);oW.extend({type:"series.heatmap",getInitialData:function(i,e){return b(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var e=fZ.get(this.get("coordinateSystem"));if(e&&e.dimensions){return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"}},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});var pT=256;function no(){var e=Fe();this.canvas=e;this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}no.prototype={update:function(KR,KI,KG,KL,k,e){var v=this._getBrush();var KD=this._getGradient(KR,k,"inRange");var v1=this._getGradient(KR,k,"outOfRange");var KE=this.pointSize+this.blurSize;var Z=this.canvas;var KK=Z.getContext("2d");var KO=KR.length;Z.width=KI;Z.height=KG;for(var KN=0;KN<KO;++KN){var KH=KR[KN];var KA=KH[0];var Kz=KH[1];var KJ=KH[2];var on=KL(KJ);KK.globalAlpha=on;KK.drawImage(v,KA-KE,Kz-KE)}if(!Z.width||!Z.height){return Z}var KP=KK.getImageData(0,0,Z.width,Z.height);var KF=KP.data;var v2=0;var v3=KF.length;var KM=this.minOpacity;var KQ=this.maxOpacity;var KB=KQ-KM;while(v2<v3){var on=KF[v2+3]/256;var KC=Math.floor(on*(pT-1))*4;if(on>0){var m=e(on)?KD:v1;on>0&&(on=on*KB+KM);KF[v2++]=m[KC];KF[v2++]=m[KC+1];KF[v2++]=m[KC+2];KF[v2++]=m[KC+3]*on*256}else{v2+=4}}KK.putImageData(KP,0,0);return Z},_getBrush:function(){var k=this._brushCanvas||(this._brushCanvas=Fe());var i=this.pointSize+this.blurSize;var m=i*2;k.width=m;k.height=m;var e=k.getContext("2d");e.clearRect(0,0,m,m);e.shadowOffsetX=m;e.shadowBlur=this.blurSize;e.shadowColor="#000";e.beginPath();e.arc(-i,i,this.pointSize,0,Math.PI*2,true);e.closePath();e.fill();return k},_getGradient:function(v1,v,on){var m=this._gradientPixels;var k=m[on]||(m[on]=new Uint8ClampedArray(256*4));var e=[0,0,0,0];var v2=0;for(var Z=0;Z<256;Z++){v[on](Z/255,true,e);k[v2++]=e[0];k[v2++]=e[1];k[v2++]=e[2];k[v2++]=e[3]}return k}};function c7(v,i,m){var k=v[1]-v[0];i=Gj(i,function(on){return{interval:[(on.interval[0]-v[0])/k,(on.interval[1]-v[0])/k]}});var e=i.length;var Z=0;return function(v2){for(var v1=Z;v1<e;v1++){var on=i[v1].interval;if(on[0]<=v2&&v2<=on[1]){Z=v1;break}}if(v1===e){for(var v1=Z-1;v1>=0;v1--){var on=i[v1].interval;if(on[0]<=v2&&v2<=on[1]){Z=v1;break}}}return v1>=0&&v1<e&&m[v1]}}function s(k,i){var e=k[1]-k[0];i=[(i[0]-k[0])/e,(i[1]-k[0])/e];return function(m){return m>=i[0]&&m<=i[1]}}function tV(e){var i=e.dimensions;return i[0]==="lng"&&i[1]==="lat"}DH({type:"heatmap",render:function(i,e,m){var v;e.eachComponent("visualMap",function(Z){Z.eachTargetSeries(function(on){if(on===i){v=Z}})});if(pm){if(!v){throw new Error("Heatmap must use with visualMap")}}this.group.removeAll();this._incrementalDisplayable=null;var k=i.coordinateSystem;if(k.type==="cartesian2d"||k.type==="calendar"){this._renderOnCartesianAndCalendar(i,m,0,i.getData().count())}else{if(tV(k)){this._renderOnGeo(k,i,v,m)}}},incrementalPrepareRender:function(i,e,k){this.group.removeAll()},incrementalRender:function(v,i,e,m){var k=i.coordinateSystem;if(k){this._renderOnCartesianAndCalendar(i,m,v.start,v.end,true)}},_renderOnCartesianAndCalendar:function(KF,KB,on,Z,KH){var v1=KF.coordinateSystem;var KG;var KD;if(v1.type==="cartesian2d"){var v3=v1.getAxis("x");var e=v1.getAxis("y");if(pm){if(!(v3.type==="category"&&e.type==="category")){throw new Error("Heatmap on cartesian must have two category axes")}if(!(v3.onBand&&e.onBand)){throw new Error("Heatmap on cartesian must have two axes with boundaryGap true")}}KG=v3.getBandWidth();KD=e.getBandWidth()}var v2=this.group;var KQ=KF.getData();var m="itemStyle";var k="emphasis.itemStyle";var KA="label";var KO="emphasis.label";var KN=KF.getModel(m).getItemStyle(["color"]);var KJ=KF.getModel(k).getItemStyle();var Kz=KF.getModel(KA);var KM=KF.getModel(KO);var KP=v1.type;var v=KP==="cartesian2d"?[KQ.mapDimension("x"),KQ.mapDimension("y"),KQ.mapDimension("value")]:[KQ.mapDimension("time"),KQ.mapDimension("value")];for(var KC=on;KC<Z;KC++){var i;if(KP==="cartesian2d"){if(isNaN(KQ.get(v[2],KC))){continue}var KI=v1.dataToPoint([KQ.get(v[0],KC),KQ.get(v[1],KC)]);i=new GM({shape:{x:Math.floor(Math.round(KI[0])-KG/2),y:Math.floor(Math.round(KI[1])-KD/2),width:Math.ceil(KG),height:Math.ceil(KD)},style:{fill:KQ.getItemVisual(KC,"color"),opacity:KQ.getItemVisual(KC,"opacity")}})}else{if(isNaN(KQ.get(v[1],KC))){continue}i=new GM({z2:1,shape:v1.dataToRect([KQ.get(v[0],KC)]).contentShape,style:{fill:KQ.getItemVisual(KC,"color"),opacity:KQ.getItemVisual(KC,"opacity")}})}var KL=KQ.getItemModel(KC);if(KQ.hasItemOption){KN=KL.getModel(m).getItemStyle(["color"]);KJ=KL.getModel(k).getItemStyle();Kz=KL.getModel(KA);KM=KL.getModel(KO)}var KK=KF.getRawValue(KC);var KE="-";if(KK&&KK[2]!=null){KE=KK[2]}Dz(KN,KJ,Kz,KM,{labelFetcher:KF,labelDataIndex:KC,defaultText:KE,isRectText:true});i.setStyle(KN);z3(i,KQ.hasItemOption?KJ:cc({},KJ));i.incremental=KH;if(KH){i.useHoverLayer=true}v2.add(i);KQ.setItemGraphicEl(KC,i)}},_renderOnGeo:function(KJ,KC,v1,Kz){var v=v1.targetVisuals.inRange;var v3=v1.targetVisuals.outOfRange;var KH=KC.getData();var Z=this._hmLayer||(this._hmLayer||new no());Z.blurSize=KC.get("blurSize");Z.pointSize=KC.get("pointSize");Z.minOpacity=KC.get("minOpacity");Z.maxOpacity=KC.get("maxOpacity");var i=KJ.getViewRect().clone();var m=KJ.getRoamTransform();i.applyTransform(m);var v2=Math.max(i.x,0);var on=Math.max(i.y,0);var KG=Math.min(i.width+i.x,Kz.getWidth());var k=Math.min(i.height+i.y,Kz.getHeight());var KD=KG-v2;var KA=k-on;var KB=[KH.mapDimension("lng"),KH.mapDimension("lat"),KH.mapDimension("value")];var KF=KH.mapArray(KB,function(KK,KN,KL){var KM=KJ.dataToPoint([KK,KN]);KM[0]-=v2;KM[1]-=on;KM.push(KL);return KM});var KE=v1.getExtent();var e=v1.type==="visualMap.continuous"?s(KE,v1.option.range):c7(KE,v1.getPieceList(),v1.option.selected);Z.update(KF,KD,KA,v.color.getNormalizer(),{inRange:v.color.getColorMapper(),outOfRange:v3.color.getColorMapper()},e);var KI=new Hz({style:{width:KD,height:KA,x:v2,y:on,image:Z.canvas},silent:true});this.group.add(KI)},dispose:function(){}});var hd=yp.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:false,symbolRepeatDirection:"end",symbolClip:false,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:false},getInitialData:function(e){e.stack=null;return hd.superApply(this,"getInitialData",arguments)}});var CI=["itemStyle","borderWidth"];var Au=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}];var Ee=new IS();var fG=DH({type:"pictorialBar",render:function(k,on,v1){var v3=this.group;var m=k.getData();var v=this._data;var Z=k.coordinateSystem;var i=Z.getBaseAxis();var v2=!!i.isHorizontal();var Kz=Z.grid.getRect();var e={ecSize:{width:v1.getWidth(),height:v1.getHeight()},seriesModel:k,coordSys:Z,coordSysExtent:[[Kz.x,Kz.x+Kz.width],[Kz.y,Kz.y+Kz.height]],isHorizontal:v2,valueDim:Au[+v2],categoryDim:Au[1-v2]};m.diff(v).add(function(KB){if(!m.hasValue(KB)){return}var KC=Bd(m,KB);var KA=pw(m,KB,KC,e);var KD=qi(m,e,KA);m.setItemGraphicEl(KB,KD);v3.add(KD);jB(KD,e,KA)}).update(function(KB,KF){var KD=v.getItemGraphicEl(KF);if(!m.hasValue(KB)){v3.remove(KD);return}var KC=Bd(m,KB);var KA=pw(m,KB,KC,e);var KE=cI(m,KA);if(KD&&KE!==KD.__pictorialShapeStr){v3.remove(KD);m.setItemGraphicEl(KB,null);KD=null}if(KD){dg(KD,e,KA)}else{KD=qi(m,e,KA,true)}m.setItemGraphicEl(KB,KD);KD.__pictorialSymbolMeta=KA;v3.add(KD);jB(KD,e,KA)}).remove(function(KA){var KB=v.getItemGraphicEl(KA);KB&&x8(v,KA,KB.__pictorialSymbolMeta.animationModel,KB)}).execute();this._data=m;return this.group},dispose:Y,remove:function(e,i){var m=this.group;var k=this._data;if(e.get("animation")){if(k){k.eachItemGraphicEl(function(v){x8(k,v.dataIndex,e,v)})}}else{m.removeAll()}}});function pw(on,KA,KD,e){var v1=on.getItemLayout(KA);var Z=KD.get("symbolRepeat");var v2=KD.get("symbolClip");var KB=KD.get("symbolPosition")||"start";var Kz=KD.get("symbolRotate");var KC=(Kz||0)*Math.PI/180||0;var v=KD.get("symbolPatternSize")||2;var i=KD.isAnimationEnabled();var k={dataIndex:KA,layout:v1,itemModel:KD,symbolType:on.getItemVisual(KA,"symbol")||"circle",color:on.getItemVisual(KA,"color"),symbolClip:v2,symbolRepeat:Z,symbolRepeatDirection:KD.get("symbolRepeatDirection"),symbolPatternSize:v,rotation:KC,animationModel:i?KD:null,hoverAnimation:i&&KD.get("hoverAnimation"),z2:KD.getShallow("z",true)||0};q(KD,Z,v1,e,k);BO(on,KA,v1,Z,v2,k.boundingLength,k.pxSign,v,e,k);rd(KD,k.symbolScale,KC,e,k);var m=k.symbolSize;var v3=KD.get("symbolOffset");if(IQ(v3)){v3=[BD(v3[0],m[0]),BD(v3[1],m[1])]}lG(KD,m,v1,Z,v2,v3,KB,k.valueLineWidth,k.boundingLength,k.repeatCutLength,e,k);return k}function q(KA,m,Z,e,i){var v1=e.valueDim;var on=KA.get("symbolBoundingData");var v3=e.coordSys.getOtherAxis(e.coordSys.getBaseAxis());var Kz=v3.toGlobalCoord(v3.dataToCoord(0));var k=1-+(Z[v1.wh]<=0);var v2;if(IQ(on)){var v=[j(v3,on[0])-Kz,j(v3,on[1])-Kz];v[1]<v[0]&&(v.reverse());v2=v[k]}else{if(on!=null){v2=j(v3,on)-Kz}else{if(m){v2=e.coordSysExtent[v1.index][k]-Kz}else{v2=Z[v1.wh]}}}i.boundingLength=v2;if(m){i.repeatCutLength=Z[v1.wh]}i.pxSign=v2>0?1:v2<0?-1:0}function j(e,i){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(i)))}function BO(on,KC,v3,Z,Kz,KB,v1,v,e,k){var KA=e.valueDim;var KD=e.categoryDim;var i=Math.abs(v3[KD.wh]);var m=on.getItemVisual(KC,"symbolSize");if(IQ(m)){m=m.slice()}else{if(m==null){m="100%"}m=[m,m]}m[KD.index]=BD(m[KD.index],i);m[KA.index]=BD(m[KA.index],Z?i:Math.abs(KB));k.symbolSize=m;var v2=k.symbolScale=[m[0]/v,m[1]/v];v2[KA.index]*=(e.isHorizontal?-1:1)*v1}function rd(m,Z,k,i,e){var v=m.get(CI)||0;if(v){Ee.attr({scale:Z.slice(),rotation:k});Ee.updateTransform();v/=Ee.getLineScale();v*=Z[i.valueDim.index]}e.valueLineWidth=v}function lG(KI,KQ,KO,KM,on,KH,KG,KL,v3,KE,m,KA){var KP=m.categoryDim;var Z=m.valueDim;var KS=KA.pxSign;var KN=Math.max(KQ[Z.index]+KL,0);var KJ=KN;if(KM){var KF=Math.abs(v3);var KD=g1(KI.get("symbolMargin"),"15%")+"";var KB=false;if(KD.lastIndexOf("!")===KD.length-1){KB=true;KD=KD.slice(0,KD.length-1)}KD=BD(KD,KQ[Z.index]);var KC=Math.max(KN+KD*2,0);var k=KB?0:KD*2;var i=mu(KM);var v=i?KM:yv((KF+k)/KC);var e=KF-v*KN;KD=e/2/(KB?v:v-1);KC=KN+KD*2;k=KB?0:KD*2;if(!i&&KM!=="fixed"){v=KE?yv((Math.abs(KE)+k)/KC):0}KJ=v*KC-k;KA.repeatTimes=v;KA.symbolMargin=KD}var v1=KS*(KJ/2);var KR=KA.pathPosition=[];KR[KP.index]=KO[KP.wh]/2;KR[Z.index]=KG==="start"?v1:KG==="end"?v3-v1:v3/2;if(KH){KR[0]+=KH[0];KR[1]+=KH[1]}var Kz=KA.bundlePosition=[];Kz[KP.index]=KO[KP.xy];Kz[Z.index]=KO[Z.xy];var KK=KA.barRectShape=cc({},KO);KK[Z.wh]=KS*Math.max(Math.abs(KO[Z.wh]),Math.abs(KR[Z.index]+v1));KK[KP.wh]=KO[KP.wh];var v2=KA.clipShape={};v2[KP.xy]=-KO[KP.xy];v2[KP.wh]=m.ecSize[KP.wh];v2[Z.xy]=0;v2[Z.wh]=KO[Z.wh]}function wc(e){var i=e.symbolPatternSize;var k=vz(e.symbolType,-i/2,-i/2,i,i,e.color);k.attr({culling:true});k.type!=="image"&&k.setStyle({strokeNoScale:true});return k}function iV(Kz,i,m,KE){var KF=Kz.__pictorialBundle;var v=m.symbolSize;var e=m.valueLineWidth;var on=m.pathPosition;var v3=i.valueDim;var KD=m.repeatTimes||0;var v1=0;var KB=v[i.valueDim.index]+e+m.symbolMargin*2;mt(Kz,function(KG){KG.__pictorialAnimationIndex=v1;KG.__pictorialRepeatTimes=KD;if(v1<KD){vO(KG,null,k(v1),m,KE)}else{vO(KG,null,{scale:[0,0]},m,KE,function(){KF.remove(KG)})}wv(KG,m);v1++});for(;v1<KD;v1++){var KC=wc(m);KC.__pictorialAnimationIndex=v1;KC.__pictorialRepeatTimes=KD;KF.add(KC);var v2=k(v1);vO(KC,{position:v2.position,scale:[0,0]},{scale:v2.scale,rotation:v2.rotation},m,KE);KC.on("mouseover",Z).on("mouseout",KA);wv(KC,m)}function k(KI){var KG=on.slice();var KH=m.pxSign;var KJ=KI;if(m.symbolRepeatDirection==="start"?KH>0:KH<0){KJ=KD-1-KI}KG[v3.index]=KB*(KJ-KD/2+0.5)+on[v3.index];return{position:KG,scale:m.symbolScale.slice(),rotation:m.rotation}}function Z(){mt(Kz,function(KG){KG.trigger("emphasis")})}function KA(){mt(Kz,function(KG){KG.trigger("normal")})}}function gL(on,v,i,v1){var k=on.__pictorialBundle;var m=on.__pictorialMainPath;if(!m){m=on.__pictorialMainPath=wc(i);k.add(m);vO(m,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,v1);m.on("mouseover",Z).on("mouseout",e)}else{vO(m,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,v1)}wv(m,i);function Z(){this.trigger("emphasis")}function e(){this.trigger("normal")}}function zc(k,e,m){var i=cc({},e.barRectShape);var v=k.__pictorialBarRect;if(!v){v=k.__pictorialBarRect=new GM({z2:2,shape:i,silent:true,style:{stroke:"transparent",fill:"transparent",lineWidth:0}});k.add(v)}else{vO(v,null,{shape:i},e,m)}}function nx(on,e,k,v3){if(k.symbolClip){var v1=on.__pictorialClipPath;var i=cc({},k.clipShape);var Z=e.valueDim;var m=k.animationModel;var v2=k.dataIndex;if(v1){pZ(v1,{shape:i},m,v2)}else{i[Z.wh]=0;v1=new GM({shape:i});on.__pictorialBundle.setClipPath(v1);on.__pictorialClipPath=v1;var v={};v[Z.wh]=k.clipShape[Z.wh];zV[v3?"updateProps":"initProps"](v1,{shape:v},m,v2)}}}function Bd(k,e){var i=k.getItemModel(e);i.getAnimationDelayParams=gE;i.isAnimationEnabled=at;return i}function gE(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function at(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function wv(i,e){i.off("emphasis").off("normal");var k=e.symbolScale.slice();e.hoverAnimation&&i.on("emphasis",function(){this.animateTo({scale:[k[0]*1.1,k[1]*1.1]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:k.slice()},400,"elasticOut")})}function qi(Z,k,e,v){var m=new D4();var i=new D4();m.add(i);m.__pictorialBundle=i;i.attr("position",e.bundlePosition.slice());if(e.symbolRepeat){iV(m,k,e)}else{gL(m,k,e)}zc(m,e,v);nx(m,k,e,v);m.__pictorialShapeStr=cI(Z,e);m.__pictorialSymbolMeta=e;return m}function dg(Z,v,e){var m=e.animationModel;var k=e.dataIndex;var i=Z.__pictorialBundle;pZ(i,{position:e.bundlePosition.slice()},m,k);if(e.symbolRepeat){iV(Z,v,e,true)}else{gL(Z,v,e,true)}zc(Z,e,true);nx(Z,v,e,true)}function x8(Z,m,k,v){var i=v.__pictorialBarRect;i&&(i.style.text=null);var e=[];mt(v,function(on){e.push(on)});v.__pictorialMainPath&&e.push(v.__pictorialMainPath);v.__pictorialClipPath&&(k=null);qg(e,function(on){pZ(on,{scale:[0,0]},k,m,function(){v.parent&&v.parent.remove(v)})});Z.setItemGraphicEl(m,null)}function cI(i,e){return[i.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function mt(k,e,i){qg(k.__pictorialBundle.children(),function(m){m!==k.__pictorialBarRect&&e.call(i,m)})}function vO(m,Z,k,i,v,e){Z&&m.attr(Z);if(i.symbolClip&&!v){k&&m.attr(k)}else{k&&zV[v?"updateProps":"initProps"](m,k,i.animationModel,i.dataIndex,e)}}function jB(on,i,k){var Z=k.color;var v2=k.dataIndex;var Kz=k.itemModel;var e=Kz.getModel("itemStyle").getItemStyle(["color"]);var m=Kz.getModel("emphasis.itemStyle").getItemStyle();var v3=Kz.getShallow("cursor");mt(on,function(KB){KB.setColor(Z);KB.setStyle(Fg({fill:Z,opacity:k.opacity},e));z3(KB,m);v3&&(KB.cursor=v3);KB.z2=k.z2});var v={};var v1=i.valueDim.posDesc[+(k.boundingLength>0)];var KA=on.__pictorialBarRect;GP(KA.style,v,Kz,Z,i.seriesModel,v2,v1);z3(KA,v)}function yv(i){var e=Math.round(i);return Math.abs(i-e)<0.0001?e:Math.ceil(i)}qz(tT(bL,"pictorialBar"));H(ng("pictorialBar","roundRect"));var s5=function(m,v,k,i,e){DO.call(this,m,v,k);this.type=i||"value";this.position=e||"bottom";this.orient=null};s5.prototype={constructor:s5,model:null,isHorizontal:function(){var e=this.position;return e==="top"||e==="bottom"},pointToData:function(e,i){return this.coordinateSystem.pointToData(e,i)[0]},toGlobalCoord:null,toLocalCoord:null};nm(s5,DO);function ck(i,e,k){this.dimension="single";this.dimensions=["single"];this._axis=null;this._rect;this._init(i,e,k);this.model=i}ck.prototype={type:"singleAxis",axisPointerEnabled:true,constructor:ck,_init:function(k,e,v){var Z=this.dimension;var m=new s5(Z,om(k),[0,0],k.get("type"),k.get("position"));var i=m.type==="category";m.onBand=i&&k.get("boundaryGap");m.inverse=k.get("inverse");m.orient=k.get("orient");k.axis=m;m.model=k;m.coordinateSystem=this;this._axis=m},update:function(e,i){e.eachSeries(function(k){if(k.coordinateSystem===this){var m=k.getData();qg(m.mapDimension(this.dimension,true),function(v){this._axis.scale.unionExtentFromData(m,v)},this);oM(this._axis.scale,this._axis.model)}},this)},resize:function(e,i){this._rect=lL({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:i.getWidth(),height:i.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var m=this._rect;var k=this._axis;var v=k.isHorizontal();var i=v?[0,m.width]:[0,m.height];var e=k.reverse?1:0;k.setExtent(i[e],i[1-e]);this._updateAxisTransform(k,v?m.x:m.y)},_updateAxisTransform:function(i,e){var v=i.getExtent();var m=v[0]+v[1];var k=i.isHorizontal();i.toGlobalCoord=k?function(Z){return Z+e}:function(Z){return m-Z+e};i.toLocalCoord=k?function(Z){return Z-e}:function(Z){return m-Z+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(e){var m=this.getRect();var k=this.getAxis();var i=k.orient;if(i==="horizontal"){return k.contain(k.toLocalCoord(e[0]))&&(e[1]>=m.y&&e[1]<=(m.y+m.height))}else{return k.contain(k.toLocalCoord(e[1]))&&(e[0]>=m.y&&e[0]<=(m.y+m.height))}},pointToData:function(e){var i=this.getAxis();return[i.coordToData(i.toLocalCoord(e[i.orient==="horizontal"?0:1]))]},dataToPoint:function(v){var i=this.getAxis();var k=this.getRect();var m=[];var e=i.orient==="horizontal"?0:1;if(v instanceof Array){v=v[0]}m[e]=i.toGlobalCoord(i.dataToCoord(+v));m[1-e]=e===0?(k.y+k.height/2):(k.x+k.width/2);return m}};function Ev(e,i){var k=[];e.eachComponent("singleAxis",function(v,m){var Z=new ck(v,e,i);Z.name="single_"+m;Z.resize(v,i);v.coordinateSystem=Z;k.push(Z)});e.eachSeries(function(m){if(m.get("coordinateSystem")==="singleAxis"){var v=e.queryComponents({mainType:"singleAxis",index:m.get("singleAxisIndex"),id:m.get("singleAxisId")})[0];m.coordinateSystem=v&&v.coordinateSystem}});return k}fZ.register("single",{create:Ev,dimensions:ck.prototype.dimensions});function eC(Kz,i){i=i||{};var v3=Kz.coordinateSystem;var k=Kz.axis;var v={};var Z=k.position;var m=k.orient;var v2=v3.getRect();var on=[v2.x,v2.x+v2.width,v2.y,v2.y+v2.height];var KB={horizontal:{top:on[2],bottom:on[3]},vertical:{left:on[0],right:on[1]}};v.position=[m==="vertical"?KB.vertical[Z]:on[0],m==="horizontal"?KB.horizontal[Z]:on[3]];var e={horizontal:0,vertical:1};v.rotation=Math.PI/2*e[m];var v1={top:-1,bottom:1,right:1,left:-1};v.labelDirection=v.tickDirection=v.nameDirection=v1[Z];if(Kz.get("axisTick.inside")){v.tickDirection=-v.tickDirection}if(g1(i.labelInside,Kz.get("axisLabel.inside"))){v.labelDirection=-v.labelDirection}var KA=i.rotate;KA==null&&(KA=Kz.get("axisLabel.rotate"));v.labelRotation=Z==="top"?-KA:KA;v.z2=1;return v}var GW=["axisLine","axisTickLabel","axisName"];var jb=["splitArea","splitLine"];var GO=gv.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(i,e,m,v1){var on=this.group;on.removeAll();var k=this._axisGroup;this._axisGroup=new D4();var v=eC(i);var Z=new dt(i,v);qg(GW,Z.add,Z);on.add(this._axisGroup);on.add(Z.getGroup());qg(jb,function(v2){if(i.get(v2+".show")){this["_"+v2](i)}},this);F(k,this._axisGroup,i);GO.superCall(this,"render",i,e,m,v1)},remove:function(){Ds(this)},_splitLine:function(KC){var v=KC.axis;if(v.scale.isBlank()){return}var m=KC.getModel("splitLine");var v3=m.getModel("lineStyle");var on=v3.get("width");var KF=v3.get("color");KF=KF instanceof Array?KF:[KF];var e=KC.coordinateSystem.getRect();var Kz=v.isHorizontal();var v1=[];var KE=0;var v2=v.getTicksCoords({tickModel:m});var KD=[];var KB=[];for(var Z=0;Z<v2.length;++Z){var k=v.toGlobalCoord(v2[Z].coord);if(Kz){KD[0]=k;KD[1]=e.y;KB[0]=k;KB[1]=e.y+e.height}else{KD[0]=e.x;KD[1]=k;KB[0]=e.x+e.width;KB[1]=k}var KA=(KE++)%KF.length;v1[KA]=v1[KA]||[];v1[KA].push(new Br({subPixelOptimize:true,shape:{x1:KD[0],y1:KD[1],x2:KB[0],y2:KB[1]},style:{lineWidth:on},silent:true}))}for(var Z=0;Z<v1.length;++Z){this.group.add(so(v1[Z],{style:{stroke:KF[Z%KF.length],lineDash:v3.getLineDash(on),lineWidth:on},silent:true}))}},_splitArea:function(e){bD(this,this._axisGroup,e,e)}});var nf=aO.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});var ru={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:true,lineStyle:{width:1,type:"solid"}},tooltip:{show:true},axisTick:{show:true,length:6,lineStyle:{width:1}},axisLabel:{show:true,interval:"auto"},splitLine:{show:true,lineStyle:{type:"dashed",opacity:0.2}}};function tz(i,e){return e.type||(e.data?"category":"value")}xF(nf.prototype,oz);nM("single",nf,tz,ru);var vI=function(e,on){var v3=[];var v=e.seriesIndex;var k;if(v==null||!(k=on.getSeriesByIndex(v))){return{point:[]}}var Z=k.getData();var v2=yQ(Z,e);if(v2==null||v2<0||IQ(v2)){return{point:[]}}var i=Z.getItemGraphicEl(v2);var m=k.coordinateSystem;if(k.getTooltipPosition){v3=k.getTooltipPosition(v2)||[]}else{if(m&&m.dataToPoint){v3=m.dataToPoint(Z.getValues(Gj(m.dimensions,function(Kz){return Z.mapDimension(Kz)}),v2,true))||[]}else{if(i){var v1=i.getBoundingRect().clone();v1.applyTransform(i.transform);v3=[v1.x+v1.width/2,v1.y+v1.height/2]}}}return{point:v3,el:i}};var vi=qg;var vJ=tT;var ii=gc();var uR=function(Kz,on,v1){var KD=Kz.currTrigger;var KA=[Kz.x,Kz.y];var i=Kz;var v=Kz.dispatchAction||k9(v1.dispatchAction,v1);var m=on.getComponent("axisPointer").coordSysAxesInfo;if(!m){return}if(yt(KA)){KA=vI({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},on).point}var v3=yt(KA);var v2=i.axesInfo;var k=m.axesInfo;var KF=KD==="leave"||yt(KA);var KB={};var Z={};var KC={list:[],map:{}};var KE={showPointer:vJ(xG,Z),showTooltip:vJ(g8,KC)};vi(m.coordSysMap,function(KH,KG){var KI=v3||KH.containPoint(KA);vi(m.coordSysAxesInfo[KG],function(KK,KL){var KM=KK.axis;var KJ=EN(v2,KK);if(!KF&&KI&&(!v2||KJ)){var KN=KJ&&KJ.value;if(KN==null&&!v3){KN=KM.pointToData(KA)}KN!=null&&wW(KK,KN,KE,false,KB)}})});var e={};vi(k,function(KH,KG){var KI=KH.linkGroup;if(KI&&!Z[KG]){vi(KI.axesInfo,function(KJ,KM){var KK=Z[KM];if(KJ!==KH&&KK){var KL=KK.value;KI.mapper&&(KL=KH.axis.scale.parse(KI.mapper(KL,zd(KJ),zd(KH))));e[KH.key]=KL}})}});vi(e,function(KH,KG){wW(k[KG],KH,KE,true,KB)});CZ(Z,k,KB);eM(KC,KA,Kz,v);FZ(k,v,v1);return KB};function wW(v,e,v2,Z,on){var k=v.axis;if(k.scale.isBlank()||!k.containData(e)){return}if(!v.involveSeries){v2.showPointer(v,e);return}var m=Bz(e,v);var v1=m.payloadBatch;var i=m.snapToValue;if(v1[0]&&on.seriesIndex==null){cc(on,v1[0])}if(!Z&&v.snap){if(k.containData(i)&&i!=null){e=i}}v2.showPointer(v,e,v1,on);v2.showTooltip(v,m,i)}function Bz(on,m){var v=m.axis;var v1=v.dim;var e=on;var Z=[];var k=Number.MAX_VALUE;var i=-1;vi(m.seriesModels,function(KA,v3){var Kz=KA.getData().mapDimension(v1,true);var KC;var KB;if(KA.getAxisTooltipData){var v2=KA.getAxisTooltipData(Kz,on,v);KB=v2.dataIndices;KC=v2.nestestValue}else{KB=KA.getData().indicesOfNearest(Kz[0],on,v.type==="category"?0.5:null);if(!KB.length){return}KC=KA.getData().get(Kz[0],KB[0])}if(KC==null||!isFinite(KC)){return}var KD=on-KC;var KE=Math.abs(KD);if(KE<=k){if(KE<k||(KD>=0&&i<0)){k=KE;i=KD;e=KC;Z.length=0}vi(KB,function(KF){Z.push({seriesIndex:KA.seriesIndex,dataIndexInside:KF,dataIndex:KA.getData().getRawIndex(KF)})})}});return{payloadBatch:Z,snapToValue:e}}function xG(i,e,m,k){i[e.key]={value:m,payloadBatch:k}}function g8(Kz,Z,m,v1){var v2=m.payloadBatch;var i=Z.axis;var v3=i.model;var on=Z.axisPointerModel;if(!Z.triggerTooltip||!v2.length){return}var v=Z.coordSys.model;var k=IM(v);var e=Kz.map[k];if(!e){e=Kz.map[k]={coordSysId:v.id,coordSysIndex:v.componentIndex,coordSysType:v.type,coordSysMainType:v.mainType,dataByAxis:[]};Kz.list.push(e)}e.dataByAxis.push({axisDim:i.dim,axisIndex:v3.componentIndex,axisType:v3.type,axisId:v3.id,value:v1,valueLabelOpt:{precision:on.get("label.precision"),formatter:on.get("label.formatter")},seriesDataIndices:v2.slice()})}function CZ(e,k,m){var i=m.axesInfo=[];vi(k,function(v,Z){var on=v.axisPointerModel.option;var v1=e[Z];if(v1){!v.useHandle&&(on.status="show");on.value=v1.value;on.seriesDataIndices=(v1.payloadBatch||[]).slice()}else{!v.useHandle&&(on.status="hide")}on.status==="show"&&i.push({axisDim:v.axis.dim,axisIndex:v.axis.model.componentIndex,value:on.value})})}function eM(k,e,v,m){if(yt(e)||!k.list.length){m({type:"hideTip"});return}var i=((k.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};m({type:"showTip",escapeConnect:true,x:e[0],y:e[1],tooltipOption:v.tooltipOption,position:v.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:k.list})}function FZ(e,k,v){var Z=v.getZr();var m="axisPointerLastHighlights";var on=ii(Z)[m]||{};var i=ii(Z)[m]={};vi(e,function(v3,Kz){var KA=v3.axisPointerModel.option;KA.status==="show"&&vi(KA.seriesDataIndices,function(KC){var KB=KC.seriesIndex+" | "+KC.dataIndex;i[KB]=KC})});var v1=[];var v2=[];qg(on,function(Kz,v3){!i[v3]&&v2.push(Kz)});qg(i,function(Kz,v3){!on[v3]&&v1.push(Kz)});v2.length&&v.dispatchAction({type:"downplay",escapeConnect:true,batch:v2});v1.length&&v.dispatchAction({type:"highlight",escapeConnect:true,batch:v1})}function EN(v,k){for(var m=0;m<(v||[]).length;m++){var e=v[m];if(k.axis.dim===e.axisDim&&k.axis.model.componentIndex===e.axisIndex){return e}}}function zd(e){var i=e.axis.model;var k={};var m=k.axisDim=e.axis.dim;k.axisIndex=k[m+"AxisIndex"]=i.componentIndex;k.axisName=k[m+"AxisName"]=i.name;k.axisId=k[m+"AxisId"]=i.id;return k}function yt(e){return !e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}var bh=rg({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:false,triggerTooltip:true,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:true,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:false,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var e6=gc();var vh=qg;function xz(i,m,k){if(uk.node){return}var v=m.getZr();e6(v).records||(e6(v).records={});HH(v,m);var e=e6(v).records[i]||(e6(v).records[i]={});e.handler=k}function HH(k,i){if(e6(k).initialized){return}e6(k).initialized=true;e("click",tT(lM,"click"));e("mousemove",tT(lM,"mousemove"));e("globalout",ep);function e(v,m){k.on(v,function(on){var Z=d9(i);vh(e6(k).records,function(v1){v1&&m(v1,on,Z.dispatchAction)});tU(Z.pendings,i)})}}function tU(k,i){var v=k.showTip.length;var e=k.hideTip.length;var m;if(v){m=k.showTip[v-1]}else{if(e){m=k.hideTip[e-1]}}if(m){m.dispatchAction=null;i.dispatchAction(m)}}function ep(i,m,k){i.handler("leave",null,k)}function lM(v,i,m,k){i.handler(v,m,k)}function d9(i){var e={showTip:[],hideTip:[]};var k=function(m){var v=e[m.type];if(v){v.push(m)}else{m.dispatchAction=k;i.dispatchAction(m)}};return{dispatchAction:k,pendings:e}}function al(i,k){if(uk.node){return}var m=k.getZr();var e=(e6(m).records||{})[i];if(e){e6(m).records[i]=null}}var AZ=rL({type:"axisPointer",render:function(v,e,m){var k=e.getComponent("tooltip");var i=v.get("triggerOn")||(k&&k.get("triggerOn")||"mousemove|click");xz("axisPointer",m,function(v1,on,Z){if(i!=="none"&&(v1==="leave"||i.indexOf(v1)>=0)){Z({type:"updateAxisPointer",currTrigger:v1,x:on&&on.offsetX,y:on&&on.offsetY})}})},remove:function(e,i){al(i.getZr(),"axisPointer");AZ.superApply(this._model,"remove",arguments)},dispose:function(e,i){al("axisPointer",i);AZ.superApply(this._model,"dispose",arguments)}});var e5=gc();var wf=E5;var qI=k9;function Ix(){}Ix.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:false,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(Kz,v1,Z,k){var v2=v1.get("value");var i=v1.get("status");this._axisModel=Kz;this._axisPointerModel=v1;this._api=Z;if(!k&&this._lastValue===v2&&this._lastStatus===i){return}this._lastValue=v2;this._lastStatus=i;var v3=this._group;var v=this._handle;if(!i||i==="hide"){v3&&v3.hide();v&&v.hide();return}v3&&v3.show();v&&v.show();var e={};this.makeElOption(e,v2,Kz,v1,Z);var KA=e.graphicKey;if(KA!==this._lastGraphicKey){this.clear(Z)}this._lastGraphicKey=KA;var on=this._moveAnimation=this.determineAnimation(Kz,v1);if(!v3){v3=this._group=new D4();this.createPointerEl(v3,e,Kz,v1);this.createLabelEl(v3,e,Kz,v1);Z.getZr().add(v3)}else{var m=tT(jY,v1,on);this.updatePointerEl(v3,e,m,v1);this.updateLabelEl(v3,e,m,v1)}mY(v3,v1,true);this._renderHandle(v2)},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(v1,on){var m=on.get("animation");var i=v1.axis;var Z=i.type==="category";var v=on.get("snap");if(!v&&!Z){return false}if(m==="auto"||m==null){var v2=this.animationThreshold;if(Z&&i.getBandWidth()>v2){return true}if(v){var e=Fw(v1).seriesDataCount;var k=i.getExtent();return Math.abs(k[0]-k[1])/e>v2}return false}return m===true},makeElOption:function(k,v,e,m,i){},createPointerEl:function(v,k,i,m){var Z=k.pointer;if(Z){var e=e5(v).pointerEl=new zV[Z.type](wf(k.pointer));v.add(e)}},createLabelEl:function(v,k,i,m){if(k.label){var e=e5(v).labelEl=new GM(wf(k.label));v.add(e);tb(e,m)}},updatePointerEl:function(k,i,m){var e=e5(k).pointerEl;if(e&&i.pointer){e.setStyle(i.pointer.style);m(e,{shape:i.pointer.shape})}},updateLabelEl:function(m,i,v,k){var e=e5(m).labelEl;if(e){e.setStyle(i.label.style);v(e,{shape:i.label.shape,position:i.label.position});tb(e,k)}},_renderHandle:function(v1){if(this._dragging||!this.updateHandleTransform){return}var Z=this._axisPointerModel;var v=this._api.getZr();var m=this._handle;var e=Z.getModel("handle");var i=Z.get("status");if(!e.get("show")||!i||i==="hide"){m&&v.remove(m);this._handle=null;return}var k;if(!this._handle){k=true;m=this._handle=Ih(e.get("icon"),{cursor:"move",draggable:true,onmousemove:function(v3){I1(v3.event)},onmousedown:qI(this._onHandleDragMove,this,0,0),drift:qI(this._onHandleDragMove,this),ondragend:qI(this._onHandleDragEnd,this)});v.add(m)}mY(m,Z,false);var v2=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];m.setStyle(e.getItemStyle(null,v2));var on=e.get("size");if(!IQ(on)){on=[on,on]}m.attr("scale",[on[0]/2,on[1]/2]);nF(this,"_doDispatchAxisPointer",e.get("throttle")||0,"fixRate");this._moveHandleToValue(v1,k)},_moveHandleToValue:function(e,i){jY(this._axisPointerModel,!i&&this._moveAnimation,this._handle,mi(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(i,e){var m=this._handle;if(!m){return}this._dragging=true;var k=this.updateHandleTransform(mi(m),[i,e],this._axisModel,this._axisPointerModel);this._payloadInfo=k;m.stopAnimation();m.attr(mi(k));e5(m).lastProp=null;this._doDispatchAxisPointer()},_doDispatchAxisPointer:function(){var i=this._handle;if(!i){return}var k=this._payloadInfo;var e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:k.cursorPoint[0],y:k.cursorPoint[1],tooltipOption:k.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})},_onHandleDragEnd:function(e){this._dragging=false;var k=this._handle;if(!k){return}var i=this._axisPointerModel.get("value");this._moveHandleToValue(i);this._api.dispatchAction({type:"hideTip"})},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null;this._lastStatus=null;var m=e.getZr();var k=this._group;var i=this._handle;if(m&&k){this._lastGraphicKey=null;k&&m.remove(k);i&&m.remove(i);this._group=null;this._handle=null;this._payloadInfo=null}},doClear:function(){},buildLabel:function(k,e,i){i=i||0;return{x:k[i],y:k[1-i],width:e[i],height:e[1-i]}}};Ix.prototype.constructor=Ix;function jY(i,e,m,k){if(!rD(e5(m).lastProp,k)){e5(m).lastProp=k;e?pZ(m,k,i):(m.stopAnimation(),m.attr(k))}}function rD(e,k){if(u7(e)&&u7(k)){var i=true;qg(k,function(v,m){i=i&&rD(e[m],v)});return !!i}else{return e===k}}function tb(e,i){e[i.get("label.show")?"show":"hide"]()}function mi(e){return{position:e.position.slice(),rotation:e.rotation||0}}function mY(m,k,i){var v=k.get("z");var e=k.get("zlevel");m&&m.traverse(function(Z){if(Z.type!=="group"){v!=null&&(Z.z=v);e!=null&&(Z.zlevel=e);Z.silent=i}})}Cz(Ix);function AR(i){var k=i.get("type");var m=i.getModel(k+"Style");var e;if(k==="line"){e=m.getLineStyle();e.fill=null}else{if(k==="shadow"){e=m.getAreaStyle();e.stroke=null}}return e}function Hx(e,KC,v3,v1,v){var KB=v3.get("value");var KE=t5(KB,KC.axis,KC.ecModel,v3.get("seriesDataIndices"),{precision:v3.get("label.precision"),formatter:v3.get("label.formatter")});var KF=v3.getModel("label");var m=Db(KF.get("padding")||0);var k=KF.getFont();var KA=IA(KE,k);var on=v.position;var i=KA.width+m[1]+m[3];var KD=KA.height+m[0]+m[2];var v2=v.align;v2==="right"&&(on[0]-=i);v2==="center"&&(on[0]-=i/2);var Z=v.verticalAlign;Z==="bottom"&&(on[1]-=KD);Z==="middle"&&(on[1]-=KD/2);dK(on,i,KD,v1);var Kz=KF.get("backgroundColor");if(!Kz||Kz==="auto"){Kz=KC.get("axisLine.lineStyle.color")}e.label={shape:{x:0,y:0,width:i,height:KD,r:KF.get("borderRadius")},position:on.slice(),style:{text:KE,textFont:k,textFill:KF.getTextColor(),textPosition:"inside",textPadding:m,fill:Kz,stroke:KF.get("borderColor")||"transparent",lineWidth:KF.get("borderWidth")||0,shadowBlur:KF.get("shadowBlur"),shadowColor:KF.get("shadowColor"),shadowOffsetX:KF.get("shadowOffsetX"),shadowOffsetY:KF.get("shadowOffsetY")},z2:10}}function dK(i,Z,e,v){var m=v.getWidth();var k=v.getHeight();i[0]=Math.min(i[0]+Z,m)-Z;i[1]=Math.min(i[1]+e,k)-e;i[0]=Math.max(i[0],0);i[1]=Math.max(i[1],0)}function t5(Z,v,e,i,m){Z=v.scale.parse(Z);var v1=v.scale.getLabel(Z,{precision:m.precision});var k=m.formatter;if(k){var on={value:oX(v,Z),axisDimension:v.dim,axisIndex:v.index,seriesData:[]};qg(i,function(KA){var Kz=e.getSeriesByIndex(KA.seriesIndex);var v3=KA.dataIndexInside;var v2=Kz&&Kz.getDataParams(v3);v2&&on.seriesData.push(v2)});if(xN(k)){v1=k.replace("{value}",v1)}else{if(Hb(k)){v1=k(on)}}}return v1}function wO(i,k,m){var e=Ez();k5(e,e,m.rotation);wV(e,e,m.position);return xI([i.dataToCoord(k),(m.labelOffset||0)+(m.labelDirection||1)*(m.labelMargin||0)],e)}function rJ(Z,m,on,i,v,k){var e=dt.innerTextLayout(on.rotation,0,on.labelDirection);on.labelMargin=v.get("label.margin");Hx(m,i,v,k,{position:wO(i.axis,Z,on),align:e.textAlign,verticalAlign:e.textVerticalAlign})}function IN(k,i,e){e=e||0;return{x1:k[e],y1:k[1-e],x2:i[e],y2:i[1-e]}}function fX(k,e,i){i=i||0;return{x:k[i],y:k[1-i],width:e[i],height:e[1-i]}}function la(e,Z,k,v,m,i){return{cx:e,cy:Z,r0:k,r:v,startAngle:m,endAngle:i,clockwise:true}}var lA=Ix.extend({makeElOption:function(e,v3,KA,v1,on){var k=KA.axis;var i=k.grid;var v2=v1.get("type");var Z=cT(i,k).getOtherAxis(k).getGlobalExtent();var v=k.toGlobalCoord(k.dataToCoord(v3,true));if(v2&&v2!=="none"){var Kz=AR(v1);var KB=dd[v2](k,v,Z);KB.style=Kz;e.graphicKey=KB.type;e.pointer=KB}var m=eE(i.model,KA);rJ(v3,e,m,KA,v1,on)},getHandleTransform:function(k,e,i){var m=eE(e.axis.grid.model,e,{labelInside:false});m.labelMargin=i.get("handle.margin");return{position:wO(e.axis,k,m),rotation:m.rotation+(m.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(i,Kz,KA,v3){var m=KA.axis;var e=m.grid;var v=m.getGlobalExtent(true);var v1=cT(e,m).getOtherAxis(m).getGlobalExtent();var KB=m.dim==="x"?0:1;var Z=i.position;Z[KB]+=Kz[KB];Z[KB]=Math.min(v[1],Z[KB]);Z[KB]=Math.max(v[0],Z[KB]);var on=(v1[1]+v1[0])/2;var v2=[on,on];v2[KB]=Z[KB];var k=[{verticalAlign:"middle"},{align:"center"}];return{position:Z,rotation:i.rotation,cursorPoint:v2,tooltipOption:k[KB]}}});function cT(i,k){var e={};e[k.dim+"AxisIndex"]=k.index;return i.getCartesian(e)}var dd={line:function(k,i,m){var e=IN([i,m[0]],[i,m[1]],dB(k));return{type:"Line",subPixelOptimize:true,shape:e}},shadow:function(m,i,v){var e=Math.max(1,m.getBandWidth());var k=v[1]-v[0];return{type:"Rect",shape:fX([i-e/2,v[0]],[e,k],dB(m))}}};function dB(e){return e.dim==="x"?0:1}gv.registerAxisPointerClass("CartesianAxisPointer",lA);AO(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var i=e.axisPointer.link;if(i&&!IQ(i)){e.axisPointer.link=[i]}}});ex(D2.PROCESSOR.STATISTIC,function(e,i){e.getComponent("axisPointer").coordSysAxesInfo=iW(e,i)});ce({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},uR);var cg=["x","y"];var cU=["width","height"];var j5=Ix.extend({makeElOption:function(e,v3,KA,v1,on){var i=KA.axis;var v=i.coordinateSystem;var Z=y3(v,1-Ay(i));var m=v.dataToPoint(v3)[0];var v2=v1.get("type");if(v2&&v2!=="none"){var Kz=AR(v1);var KB=ti[v2](i,m,Z);KB.style=Kz;e.graphicKey=KB.type;e.pointer=KB}var k=eC(KA);rJ(v3,e,k,KA,v1,on)},getHandleTransform:function(k,e,i){var m=eC(e,{labelInside:false});m.labelMargin=i.get("handle.margin");return{position:wO(e.axis,k,m),rotation:m.rotation+(m.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,v3,Kz,v2){var i=Kz.axis;var m=i.coordinateSystem;var KA=Ay(i);var k=y3(m,KA);var v=e.position;v[KA]+=v3[KA];v[KA]=Math.min(k[1],v[KA]);v[KA]=Math.max(k[0],v[KA]);var on=y3(m,1-KA);var Z=(on[1]+on[0])/2;var v1=[Z,Z];v1[KA]=v[KA];return{position:v,rotation:e.rotation,cursorPoint:v1,tooltipOption:{verticalAlign:"middle"}}}});var ti={line:function(k,i,m){var e=IN([i,m[0]],[i,m[1]],Ay(k));return{type:"Line",subPixelOptimize:true,shape:e}},shadow:function(m,i,v){var e=m.getBandWidth();var k=v[1]-v[0];return{type:"Rect",shape:fX([i-e/2,v[0]],[e,k],Ay(m))}}};function Ay(e){return e.isHorizontal()?0:1}function y3(e,k){var i=e.getRect();return[i[cg[k]],i[cg[k]]+i[cU[k]]]}gv.registerAxisPointerClass("SingleAxisPointer",j5);rL({type:"single"});var ag=2;var em=oW.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){em.superApply(this,"init",arguments);this.legendVisualProvider=new d8(k9(this.getData,this),k9(this.getRawData,this))},fixData:function(v2){var v=v2.length;var e={};var Kz=a1(v2,function(k){if(!e.hasOwnProperty(k[0])){e[k[0]]=-1}return k[2]});var v3=[];Kz.buckets.each(function(k,KA){v3.push({name:KA,dataList:k})});var v1=v3.length;for(var Z=0;Z<v1;++Z){var i=v3[Z].name;for(var on=0;on<v3[Z].dataList.length;++on){var m=v3[Z].dataList[on][0];e[m]=Z}for(var m in e){if(e.hasOwnProperty(m)&&e[m]!==Z){e[m]=Z;v2[v]=[];v2[v][0]=m;v2[v][1]=0;v2[v][2]=i;v++}}}return v2},getInitialData:function(on,v1){var e=v1.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0];var KB=e.get("type");var KA=sk(on.data,function(i){return i[2]!==undefined});var Z=this.fixData(KA||[]);var m=[];var Kz=this.nameMap=EI();var v2=0;for(var v=0;v<Z.length;++v){m.push(Z[v][ag]);if(!Kz.get(Z[v][ag])){Kz.set(Z[v][ag],v2);v2++}}var k=Ad(Z,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:rV(KB)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}});var v3=new y6(k,this);v3.initData(Z);return v3},getLayerSeries:function(){var Z=this.getData();var v=Z.count();var v1=[];for(var k=0;k<v;++k){v1[k]=k}var on=Z.mapDimension("single");var e=a1(v1,function(i){return Z.get("name",i)});var m=[];e.buckets.each(function(i,v2){i.sort(function(Kz,v3){return Z.get(on,Kz)-Z.get(on,v3)});m.push({name:v2,indices:i})});return m},getAxisTooltipData:function(v3,KB,m){if(!IQ(v3)){v3=v3?[v3]:[]}var v2=this.getData();var v=this.getLayerSeries();var KC=[];var on=v.length;var KD;for(var v1=0;v1<on;++v1){var KA=Number.MAX_VALUE;var KE=-1;var e=v[v1].indices.length;for(var Z=0;Z<e;++Z){var k=v2.get(v3[0],v[v1].indices[Z]);var Kz=Math.abs(k-KB);if(Kz<=KA){KD=k;KA=Kz;KE=v[v1].indices[Z]}}KC.push(KE)}return{dataIndices:KC,nestestValue:KD}},formatTooltip:function(k){var m=this.getData();var i=m.getName(k);var e=m.get(m.mapDimension("value"),k);if(isNaN(e)||e==null){e="-"}return nq(i+" : "+e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:true,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:true}}}});DH({type:"themeRiver",init:function(){this._layers=[]},render:function(v,v3,Kz){var v1=v.getData();var KB=this.group;var on=v.getLayerSeries();var m=v1.getLayout("layoutInfo");var KA=m.rect;var k=m.boundaryGap;KB.attr("position",[0,KA.y+k[0]]);function v2(KC){return KC.name}var e=new IF(this._layersSeries||[],on,v2,v2);var Z={};e.add(k9(i,this,"add")).update(k9(i,this,"update")).remove(k9(i,this,"remove")).execute();function i(KQ,KP,KD){var KT=this._layers;if(KQ==="remove"){KB.remove(KT[KP]);return}var KX=[];var KV=[];var KR;var KG=on[KP].indices;for(var KU=0;KU<KG.length;KU++){var KW=v1.getItemLayout(KG[KU]);var KL=KW.x;var KF=KW.y0;var KK=KW.y;KX.push([KL,KF]);KV.push([KL,KF+KK]);KR=v1.getItemVisual(KG[KU],"color")}var KM;var KN;var KH=v1.getItemLayout(KG[0]);var KS=v1.getItemModel(KG[KU-1]);var KJ=KS.getModel("label");var KO=KJ.get("margin");if(KQ==="add"){var KI=Z[KP]=new D4();KM=new jO({shape:{points:KX,stackedOnPoints:KV,smooth:0.4,stackedOnSmooth:0.4,smoothConstraint:false},z2:0});KN=new jv({style:{x:KH.x-KO,y:KH.y0+KH.y/2}});KI.add(KM);KI.add(KN);KB.add(KI);KM.setClipPath(wP(KM.getBoundingRect(),v,function(){KM.removeClipPath()}))}else{var KI=KT[KD];KM=KI.childAt(0);KN=KI.childAt(1);KB.add(KI);Z[KP]=KI;pZ(KM,{shape:{points:KX,stackedOnPoints:KV}},v);pZ(KN,{style:{x:KH.x-KO,y:KH.y0+KH.y/2}},v)}var KC=KS.getModel("emphasis.itemStyle");var KE=KS.getModel("itemStyle");ql(KN.style,KJ,{text:KJ.get("show")?v.getFormattedLabel(KG[KU-1],"normal")||v1.getName(KG[KU-1]):null,textVerticalAlign:"middle"});KM.setStyle(cc({fill:KR},KE.getItemStyle(["color"])));z3(KM,KC.getItemStyle())}this._layersSeries=on;this._layers=Z},dispose:function(){}});function wP(m,i,e){var k=new GM({shape:{x:m.x-10,y:m.y-10,width:0,height:m.height+20}});kl(k,{shape:{width:m.width+20,height:m.height+20}},i,e);return k}var zy=function(e,i){e.eachSeriesByType("themeRiver",function(on){var v1=on.getData();var v3=on.coordinateSystem;var Z={};var v2=v3.getRect();Z.rect=v2;var m=on.get("boundaryGap");var v=v3.getAxis();Z.boundaryGap=m;if(v.orient==="horizontal"){m[0]=BD(m[0],v2.height);m[1]=BD(m[1],v2.height);var Kz=v2.height-m[0]-m[1];qu(v1,on,Kz)}else{m[0]=BD(m[0],v2.width);m[1]=BD(m[1],v2.width);var k=v2.width-m[0]-m[1];qu(v1,on,k)}v1.setLayout("layoutInfo",Z)})};function qu(Kz,Z,KF){if(!Kz.count()){return}var v2=Z.coordinateSystem;var on=Z.getLayerSeries();var KE=Kz.mapDimension("single");var KC=Kz.mapDimension("value");var KD=Gj(on,function(i){return Gj(i.indices,function(m){var KH=v2.dataToPoint(Kz.get(KE,m));KH[1]=Kz.get(KC,m);return KH})});var e=xU(KD);var KG=e.y0;var KA=KF/e.max;var k=on.length;var v=on[0].indices.length;var KB;for(var v1=0;v1<v;++v1){KB=KG[v1]*KA;Kz.setItemLayout(on[0].indices[v1],{layerIndex:0,x:KD[0][v1][0],y0:KB,y:KD[0][v1][1]*KA});for(var v3=1;v3<k;++v3){KB+=KD[v3-1][v1][1]*KA;Kz.setItemLayout(on[v3].indices[v1],{layerIndex:v3,x:KD[v3][v1][0],y0:KB,y:KD[v3][v1][1]*KA})}}}function xU(v3){var v1=v3.length;var e=v3[0].length;var Kz=[];var KC=[];var KB=0;var KD;var m={};for(var v2=0;v2<e;++v2){for(var on=0,KD=0;on<v1;++on){KD+=v3[on][v2][1]}if(KD>KB){KB=KD}Kz.push(KD)}for(var Z=0;Z<e;++Z){KC[Z]=(KB-Kz[Z])/2}KB=0;for(var v=0;v<e;++v){var KA=Kz[v]+KC[v];if(KA>KB){KB=KA}}m.y0=KC;m.max=KB;return m}var h6=function(e){e.eachSeriesByType("themeRiver",function(i){var m=i.getData();var Z=i.getRawData();var k=i.get("color");var v=EI();m.each(function(on){v.set(m.getRawIndex(on),on)});Z.each(function(v3){var v2=Z.getName(v3);var v1=k[(i.nameMap.get(v2)-1)%k.length];Z.setItemVisual(v3,"color",v1);var on=v.get(v3);if(on!=null){m.setItemVisual(on,"color",v1)}})})};qz(zy);H(h6);ex(Gb("themeRiver"));oW.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(v,i){var k={name:v.name,children:v.data};Fj(k);var Z=Gj(v.levels||[],function(on){return new fV(on,this,i)},this);var e=oy.createTree(k,this,m);function m(on){on.wrapMethod("getItemModel",function(v2,v1){var v3=e.getNodeByDataIndex(v1);var Kz=Z[v3.depth];Kz&&(v2.parentModel=Kz);return v2})}return e.data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var k=oW.prototype.getDataParams.apply(this,arguments);var i=this.getData().tree.getNodeByDataIndex(e);k.treePathInfo=d4(i,this);return k},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:true,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:false,label:{rotate:"radial",show:true,opacity:1,align:"center",position:"inside",distance:5,silent:true},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:0.5},label:{opacity:0.6}},animationType:"expansion",animationDuration:1000,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(i){i?(this._viewRoot=i):(i=this._viewRoot);var e=this.getRawData().tree.root;if(!i||(i!==e&&!e.contains(i))){this._viewRoot=e}}});function Fj(i){var k=0;qg(i.children,function(v){Fj(v);var m=v.value;IQ(m)&&(m=m[0]);k+=m});var e=i.value;if(IQ(e)){e=e[0]}if(e==null||isNaN(e)){e=k}if(e<0){e=0}IQ(i.value)?(i.value[0]=e):(i.value=e)}var Gf={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"};var sW=2;var nz=4;function Bt(Z,m,k){D4.call(this);var v=new uW({z2:sW});v.seriesIndex=m.seriesIndex;var on=new jv({z2:nz,silent:Z.getModel("label").get("silent")});this.add(v);this.add(on);this.updateData(true,Z,"normal",m,k);function i(){on.ignore=on.hoverIgnore}function e(){on.ignore=on.normalIgnore}this.on("emphasis",i).on("normal",e).on("mouseover",i).on("mouseout",e)}var i4=Bt.prototype;i4.updateData=function(Kz,v,m,on,v2){this.node=v;v.piece=this;on=on||this._seriesModel;v2=v2||this._ecModel;var Z=this.childAt(0);Z.dataIndex=v.dataIndex;var KD=v.getModel();var v1=v.getLayout();var KB=cc({},v1);KB.label=null;var KA=BM(v,on,v2);cF(v,on,KA);var k=KD.getModel("itemStyle").getItemStyle();var i;if(m==="normal"){i=k}else{var v3=KD.getModel(m+".itemStyle").getItemStyle();i=xF(v3,k)}i=Fg({lineJoin:"bevel",fill:i.fill||KA},i);if(Kz){Z.setShape(KB);Z.shape.r=v1.r0;pZ(Z,{shape:{r:v1.r}},on,v.dataIndex);Z.useStyle(i)}else{if(typeof i.fill==="object"&&i.fill.type||typeof Z.style.fill==="object"&&Z.style.fill.type){pZ(Z,{shape:KB},on);Z.useStyle(i)}else{pZ(Z,{shape:KB,style:i},on)}}this._updateLabel(on,KA,m);var KC=KD.getShallow("cursor");KC&&Z.attr("cursor",KC);if(Kz){var e=on.getShallow("highlightPolicy");this._initEvents(Z,v,on,e)}this._seriesModel=on||this._seriesModel;this._ecModel=v2||this._ecModel;z3(this)};i4.onEmphasis=function(e){var i=this;this.node.hostTree.root.eachNode(function(k){if(k.piece){if(i.node===k){k.piece.updateData(false,k,"emphasis")}else{if(hf(k,i.node,e)){k.piece.childAt(0).trigger("highlight")}else{if(e!==Gf.NONE){k.piece.childAt(0).trigger("downplay")}}}}})};i4.onNormal=function(){this.node.hostTree.root.eachNode(function(e){if(e.piece){e.piece.updateData(false,e,"normal")}})};i4.onHighlight=function(){this.updateData(false,this.node,"highlight")};i4.onDownplay=function(){this.updateData(false,this.node,"downplay")};i4._updateLabel=function(KF,k,v){var KJ=this.node.getModel();var KI=KJ.getModel("label");var v1=v==="normal"||v==="emphasis"?KI:KJ.getModel(v+".label");var KG=KJ.getModel("emphasis.label");var Z=v1.get("formatter");var Kz=Z?v:"normal";var KB=g1(KF.getFormattedLabel(this.node.dataIndex,Kz,null,null,"label"),this.node.name);if(KH("show")===false){KB=""}var KN=this.node.getLayout();var KL=v1.get("minAngle");if(KL==null){KL=KI.get("minAngle")}KL=KL/180*Math.PI;var KM=KN.endAngle-KN.startAngle;if(KL!=null&&Math.abs(KM)<KL){KB=""}var on=this.childAt(1);Dz(on.style,on.hoverStyle||{},KI,KG,{defaultText:v1.getShallow("show")?KB:null,autoColor:k,useInsideStyle:true});var v2=(KN.startAngle+KN.endAngle)/2;var KA=Math.cos(v2);var v3=Math.sin(v2);var KC;var e=KH("position");var KO=KH("distance")||0;var m=KH("align");if(e==="outside"){KC=KN.r+KO;m=v2>Math.PI/2?"right":"left"}else{if(!m||m==="center"){KC=(KN.r+KN.r0)/2;m="center"}else{if(m==="left"){KC=KN.r0+KO;if(v2>Math.PI/2){m="right"}}else{if(m==="right"){KC=KN.r-KO;if(v2>Math.PI/2){m="left"}}}}}on.attr("style",{text:KB,textAlign:m,textVerticalAlign:KH("verticalAlign")||"middle",opacity:KH("opacity")});var KE=KC*KA+KN.cx;var KD=KC*v3+KN.cy;on.attr("position",[KE,KD]);var i=KH("rotate");var KK=0;if(i==="radial"){KK=-v2;if(KK<-Math.PI/2){KK+=Math.PI}}else{if(i==="tangential"){KK=Math.PI/2-v2;if(KK>Math.PI/2){KK-=Math.PI}else{if(KK<-Math.PI/2){KK+=Math.PI}}}else{if(typeof i==="number"){KK=i*Math.PI/180}}}on.attr("rotation",KK);function KH(KP){var KQ=v1.get(KP);if(KQ==null){return KI.get(KP)}else{return KQ}}};i4._initEvents=function(m,i,v,e){m.off("mouseover").off("mouseout").off("emphasis").off("normal");var v2=this;var Z=function(){v2.onEmphasis(e)};var on=function(){v2.onNormal()};var k=function(){v2.onDownplay()};var v1=function(){v2.onHighlight()};if(v.isAnimationEnabled()){m.on("mouseover",Z).on("mouseout",on).on("emphasis",Z).on("normal",on).on("downplay",k).on("highlight",v1)}};nm(Bt,D4);function BM(on,k,e){var v=on.getVisual("color");var m=on.getVisual("visualMeta");if(!m||m.length===0){v=null}var i=on.getModel("itemStyle").get("color");if(i){return i}else{if(v){return v}else{if(on.depth===0){return e.option.color[0]}else{var Z=e.option.color.length;i=e.option.color[vu(on)%Z]}}}return i}function vu(k){var e=k;while(e.depth>1){e=e.parentNode}var i=k.getAncestors()[0];return fc(i.children,e)}function hf(e,k,i){if(i===Gf.NONE){return false}else{if(i===Gf.SELF){return e===k}else{if(i===Gf.ANCESTOR){return e===k||e.isAncestorOf(k)}else{return e===k||e.isDescendantOf(k)}}}}function cF(k,i,e){var m=i.getData();m.setItemVisual(k.dataIndex,"color",e)}var DE="sunburstRootToNode";var hb=dW.extend({type:"sunburst",init:function(){},render:function(v2,KG,v1,v3){var v=this;this.seriesModel=v2;this.api=v1;this.ecModel=KG;var KF=v2.getData();var k=KF.tree.root;var i=v2.getViewRoot();var Z=this.group;var KB=v2.get("renderLabelForZeroData");var KD=[];i.eachNode(function(KH){KD.push(KH)});var KC=this._oldChildren||[];on(KD,KC);KE(k,i);if(v3&&v3.highlight&&v3.highlight.piece){var e=v2.getShallow("highlightPolicy");v3.highlight.piece.onEmphasis(e)}else{if(v3&&v3.unhighlight){var m=this.virtualPiece;if(!m&&k.children.length){m=k.children[0].piece}if(m){m.onNormal()}}}this._initEvents();this._oldChildren=KD;function on(KK,KJ){if(KK.length===0&&KJ.length===0){return}new IF(KJ,KK,KH,KH).add(KI).update(KI).remove(tT(KI,null)).execute();function KH(KL){return KL.getId()}function KI(KL,KO){var KM=KL==null?null:KK[KL];var KN=KO==null?null:KJ[KO];Kz(KM,KN)}}function Kz(KH,KJ){if(!KB&&KH&&!KH.getValue()){KH=null}if(KH!==k&&KJ!==k){if(KJ&&KJ.piece){if(KH){KJ.piece.updateData(false,KH,"normal",v2,KG);KF.setItemGraphicEl(KH.dataIndex,KJ.piece)}else{KA(KJ)}}else{if(KH){var KI=new Bt(KH,v2,KG);Z.add(KI);KF.setItemGraphicEl(KH.dataIndex,KI)}}}}function KA(KH){if(!KH){return}if(KH.piece){Z.remove(KH.piece);KH.piece=null}}function KE(KI,KJ){if(KJ.depth>0){if(v.virtualPiece){v.virtualPiece.updateData(false,KI,"normal",v2,KG)}else{v.virtualPiece=new Bt(KI,v2,KG);Z.add(v.virtualPiece)}if(KJ.piece._onclickEvent){KJ.piece.off("click",KJ.piece._onclickEvent)}var KH=function(KK){v._rootToNode(KJ.parentNode)};KJ.piece._onclickEvent=KH;v.virtualPiece.on("click",KH)}else{if(v.virtualPiece){Z.remove(v.virtualPiece);v.virtualPiece=null}}}},dispose:function(){},_initEvents:function(){var i=this;var e=function(v){var k=false;var m=i.seriesModel.getViewRoot();m.eachNode(function(v2){if(!k&&v2.piece&&v2.piece.childAt(0)===v.target){var Z=v2.getModel().get("nodeClick");if(Z==="rootToNode"){i._rootToNode(v2)}else{if(Z==="link"){var on=v2.getModel();var v1=on.get("link");if(v1){var v3=on.get("target",true)||"_blank";bj(v1,v3)}}}k=true}})};if(this.group._onclickEvent){this.group.off("click",this.group._onclickEvent)}this.group.on("click",e);this.group._onclickEvent=e},_rootToNode:function(e){if(e!==this.seriesModel.getViewRoot()){this.api.dispatchAction({type:DE,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})}},containPoint:function(i,Z){var v=Z.getData();var on=v.getItemLayout(0);if(on){var m=i[0]-on.cx;var k=i[1]-on.cy;var e=Math.sqrt(m*m+k*k);return e<=on.r&&e>=on.r0}}});var xl="sunburstRootToNode";ce({type:xl,update:"updateView"},function(k,e){e.eachComponent({mainType:"series",subType:"sunburst",query:k},i);function i(Z,v){var on=wo(k,[xl],Z);if(on){var m=Z.getViewRoot();if(m){k.direction=yo(m,on.node)?"rollUp":"drillDown"}Z.resetViewRoot(on.node)}}});var pq="sunburstHighlight";ce({type:pq,update:"updateView"},function(k,i){i.eachComponent({mainType:"series",subType:"sunburst",query:k},e);function e(v,m){var Z=wo(k,[pq],v);if(Z){k.highlight=Z.node}}});var tC="sunburstUnhighlight";ce({type:tC,update:"updateView"},function(k,e){e.eachComponent({mainType:"series",subType:"sunburst",query:k},i);function i(v,m){k.unhighlight=true}});var gq=Math.PI/180;var mO=function(i,e,k,m){e.eachSeriesByType(i,function(KM){var KV=KM.get("center");var Kz=KM.get("radius");if(!IQ(Kz)){Kz=[0,Kz]}if(!IQ(KV)){KV=[KV,KV]}var KN=k.getWidth();var KI=k.getHeight();var KH=Math.min(KN,KI);var v3=BD(KV[0],KN);var v1=BD(KV[1],KI);var KR=BD(Kz[0],KH/2);var KG=BD(Kz[1],KH/2);var KQ=-KM.get("startAngle")*gq;var KP=KM.get("minAngle")*gq;var v2=KM.getData().tree.root;var KO=KM.getViewRoot();var Z=KO.depth;var KU=KM.get("sort");if(KU!=null){CU(KO,KU)}var KL=0;qg(KO.children,function(KW){!isNaN(KW.getValue())&&KL++});var on=KO.getValue();var KK=Math.PI/(on||KL)*2;var KB=KO.depth>0;var KD=KO.height-(KB?-1:1);var v=(KG-KR)/(KD||1);var KS=KM.get("clockwise");var KA=KM.get("stillShowZeroSum");var KJ=KS?1:-1;var KC=function(KX,K0){if(!KX){return}var KW=K0;if(KX!==v2){var K2=KX.getValue();var KY=(on===0&&KA)?KK:(K2*KK);if(KY<KP){KY=KP}KW=K0+KJ*KY;var KZ=KX.depth-Z-(KB?-1:1);var K4=KR+v*KZ;var K1=KR+v*(KZ+1);var K5=KX.getModel();if(K5.get("r0")!=null){K4=BD(K5.get("r0"),KH/2)}if(K5.get("r")!=null){K1=BD(K5.get("r"),KH/2)}KX.setLayout({angle:KY,startAngle:K0,endAngle:KW,clockwise:KS,cx:v3,cy:v1,r0:K4,r:K1})}if(KX.children&&KX.children.length){var K3=0;qg(KX.children,function(K6){K3+=KC(K6,K0+K3)})}return KW-K0};if(KB){var KF=KR;var KE=KR+v;var KT=Math.PI*2;v2.setLayout({angle:KT,startAngle:KQ,endAngle:KQ+KT,clockwise:KS,cx:v3,cy:v1,r0:KF,r:KE})}KC(KO,KQ)})};function CU(k,e){var i=k.children||[];k.children=f0(i,e);if(i.length){qg(k.children,function(m){CU(m,e)})}}function f0(i,k){if(typeof k==="function"){return i.sort(k)}else{var e=k==="asc";return i.sort(function(v,m){var Z=(v.getValue()-m.getValue())*(e?1:-1);return Z===0?(v.dataIndex-m.dataIndex)*(e?-1:1):Z})}}H(tT(e9,"sunburst"));qz(tT(mO,"sunburst"));ex(tT(Gb,"sunburst"));function h2(e,i){i=i||[0,0];return Gj(["x","y"],function(Z,k){var v=this.getAxis(Z);var on=i[k];var m=e[k]/2;return v.type==="category"?v.getBandWidth():Math.abs(v.dataToCoord(on-m)-v.dataToCoord(on+m))},this)}var JM=function(e){var i=e.grid.getRect();return{coordSys:{type:"cartesian2d",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(k){return e.dataToPoint(k)},size:k9(h2,e)}}};function c2(e,i){i=i||[0,0];return Gj([0,1],function(k){var on=i[k];var m=e[k]/2;var Z=[];var v=[];Z[k]=on-m;v[k]=on+m;Z[1-k]=v[1-k]=i[1-k];return Math.abs(this.dataToPoint(Z)[k]-this.dataToPoint(v)[k])},this)}var Ju=function(e){var i=e.getBoundingRect();return{coordSys:{type:"geo",x:i.x,y:i.y,width:i.width,height:i.height,zoom:e.getZoom()},api:{coord:function(k){return e.dataToPoint(k)},size:k9(c2,e)}}};function c0(e,i){var m=this.getAxis();var v=i instanceof Array?i[0]:i;var k=(e instanceof Array?e[0]:e)/2;return m.type==="category"?m.getBandWidth():Math.abs(m.dataToCoord(v-k)-m.dataToCoord(v+k))}var kF=function(e){var i=e.getRect();return{coordSys:{type:"singleAxis",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(k){return e.dataToPoint(k)},size:k9(c0,e)}}};function cY(e,i){return Gj(["Radius","Angle"],function(on,m){var Z=this["get"+on+"Axis"]();var v1=i[m];var v=e[m]/2;var v2="dataTo"+on;var k=Z.type==="category"?Z.getBandWidth():Math.abs(Z[v2](v1-v)-Z[v2](v1+v));if(on==="Angle"){k=k*Math.PI/180}return k},this)}var Jd=function(k){var m=k.getRadiusAxis();var i=k.getAngleAxis();var e=m.getExtent();e[0]>e[1]&&e.reverse();return{coordSys:{type:"polar",cx:k.cx,cy:k.cy,r:e[1],r0:e[0]},api:{coord:k9(function(Z){var v=m.dataToRadius(Z[0]);var on=i.dataToAngle(Z[1]);var v1=k.coordToPoint([v,on]);v1.push(v,on*Math.PI/180);return v1}),size:k9(cY,k)}}};var BV=function(i){var k=i.getRect();var e=i.getRangeInfo();return{coordSys:{type:"calendar",x:k.x,y:k.y,width:k.width,height:k.height,cellWidth:i.getCellWidth(),cellHeight:i.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(m,v){return i.dataToPoint(m,v)}}}};var dn=wB;var xR=["itemStyle"];var Im=["emphasis","itemStyle"];var zl=["label"];var yY=["emphasis","label"];var vy="e\0\0";var jt={cartesian2d:JM,geo:Ju,singleAxis:kF,polar:Jd,calendar:BV};oW.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,useTransform:true,clip:false},getInitialData:function(i,e){return b(this.getSource(),this)},getDataParams:function(i,e,k){var m=oW.prototype.getDataParams.apply(this,arguments);k&&(m.info=k.info);return m}});dW.extend({type:"custom",_data:null,render:function(e,v,Z,v1){var m=this._data;var k=e.getData();var v2=this.group;var i=Ib(e,k,v,Z);k.diff(m).add(function(v3){bp(null,v3,i(v3,v1),e,v2,k)}).update(function(KA,v3){var Kz=m.getItemGraphicEl(v3);bp(Kz,KA,i(KA,v1),e,v2,k)}).remove(function(v3){var Kz=m.getItemGraphicEl(v3);Kz&&v2.remove(Kz)}).execute();var on=e.get("clip",true)?g6(e.coordinateSystem,false,e):null;if(on){v2.setClipPath(on)}else{v2.removeClipPath()}this._data=k},incrementalPrepareRender:function(i,e,k){this.group.removeAll();this._data=null},incrementalRender:function(i,k,Z,on,v3){var v=k.getData();var m=Ib(k,v,Z,on);function v1(Kz){if(!Kz.isGroup){Kz.incremental=true;Kz.useHoverLayer=true}}for(var v2=i.start;v2<i.end;v2++){var e=bp(null,v2,m(v2,v3),k,this.group,v);e.traverse(v1)}},dispose:Y,filterForExposedEvent:function(i,m,v,k){var e=m.element;if(e==null||v.name===e){return true}while((v=v.parent)&&v!==this.group){if(v.name===e){return true}}return false}});function q0(v){var k=v.type;var m;if(k==="path"){var i=v.shape;var Z=(i.width!=null&&i.height!=null)?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null;var on=ys(i);m=C5(on,null,Z,i.layout||"center");m.__customPathData=on}else{if(k==="image"){m=new Hz({});m.__customImagePath=v.style.image}else{if(k==="text"){m=new jv({});m.__customText=v.style.text}else{if(k==="group"){m=new D4()}else{if(k==="compoundPath"){throw new Error('"compoundPath" is not supported yet.')}else{var e=gX(k);if(pm){bY(e,'graphic type "'+k+'" can not be found.')}m=new e()}}}}}m.__customGraphicType=k;m.name=v.name;return m}function te(k,v3,e,v,Z,on,m){var KA={};var Kz=e.style||{};e.shape&&(KA.shape=E5(e.shape));e.position&&(KA.position=e.position.slice());e.scale&&(KA.scale=e.scale.slice());e.origin&&(KA.origin=e.origin.slice());e.rotation&&(KA.rotation=e.rotation);if(k.type==="image"&&e.style){var v1=KA.style={};qg(["x","y","width","height"],function(KB){nW(KB,v1,Kz,k.style,on)})}if(k.type==="text"&&e.style){var v1=KA.style={};qg(["x","y"],function(KB){nW(KB,v1,Kz,k.style,on)});!Kz.hasOwnProperty("textFill")&&Kz.fill&&(Kz.textFill=Kz.fill);!Kz.hasOwnProperty("textStroke")&&Kz.stroke&&(Kz.textStroke=Kz.stroke)}if(k.type!=="group"){k.useStyle(Kz);if(on){k.style.opacity=0;var v2=Kz.opacity;v2==null&&(v2=1);kl(k,{style:{opacity:v2}},v,v3)}}if(on){k.attr(KA)}else{pZ(k,KA,v,v3)}e.hasOwnProperty("z2")&&k.attr("z2",e.z2||0);e.hasOwnProperty("silent")&&k.attr("silent",e.silent);e.hasOwnProperty("invisible")&&k.attr("invisible",e.invisible);e.hasOwnProperty("ignore")&&k.attr("ignore",e.ignore);e.hasOwnProperty("info")&&k.attr("info",e.info);var i=e.styleEmphasis;l8(k,i);if(m){pK(k,i!==false)}}function nW(v,k,i,e,m){if(i[v]!=null&&!m){k[v]=i[v];i[v]=e[v]}}function Ib(i,KJ,KL,v3){var on=i.get("renderItem");var m=i.coordinateSystem;var k={};if(m){if(pm){bY(on,"series.render is required.");bY(m.prepareCustoms||jt[m.type],"This coordSys does not support custom series.")}k=m.prepareCustoms?m.prepareCustoms():jt[m.type](m)}var v1=Fg({getWidth:v3.getWidth,getHeight:v3.getHeight,getZr:v3.getZr,getDevicePixelRatio:v3.getDevicePixelRatio,value:KD,style:KF,styleEmphasis:KH,visual:KG,barLayout:e,currentSeriesIndices:v2,font:Kz},k.api||{});var KB={context:{},seriesId:i.id,seriesName:i.name,seriesIndex:i.seriesIndex,coordSys:k.coordSys,dataInsideLength:KJ.count(),encode:bH(i.getData())};var KK;var KE=true;var Z;var KA;var KI;var KC;return function(KM,KN){KK=KM;KE=true;return on&&on(Fg({dataIndexInside:KM,dataIndex:KJ.getRawIndex(KM),actionType:KN?KN.type:null},KB),v1)};function v(KM){KM==null&&(KM=KK);if(KE){Z=KJ.getItemModel(KM);KA=Z.getModel(zl);KI=Z.getModel(yY);KC=KJ.getItemVisual(KM,"color");KE=false}}function KD(KN,KM){KM==null&&(KM=KK);return KJ.get(KJ.getDimension(KN||0),KM)}function KF(KM,KP){KP==null&&(KP=KK);v(KP);var KO=Z.getModel(xR).getItemStyle();KC!=null&&(KO.fill=KC);var KN=KJ.getItemVisual(KP,"opacity");KN!=null&&(KO.opacity=KN);var KQ=KM?Cr(KM,KA):KA;ql(KO,KQ,null,{autoColor:KC,isRectText:true});KO.text=KQ.getShallow("show")?kY(i.getFormattedLabel(KP,"normal"),eh(KJ,KP)):null;KM&&dv(KO,KM);return KO}function KH(KM,KO){KO==null&&(KO=KK);v(KO);var KN=Z.getModel(Im).getItemStyle();var KP=KM?Cr(KM,KI):KI;ql(KN,KP,null,{isRectText:true},true);KN.text=KP.getShallow("show")?kX(i.getFormattedLabel(KO,"emphasis"),i.getFormattedLabel(KO,"normal"),eh(KJ,KO)):null;KM&&dv(KN,KM);return KN}function KG(KN,KM){KM==null&&(KM=KK);return KJ.getItemVisual(KM,KN)}function e(KM){if(m.getBaseAxis){var KN=m.getBaseAxis();return pj(Fg({axis:KN},KM),v3)}}function v2(){return KL.getCurrentSeriesIndices()}function Kz(KM){return kJ(KM,KL)}}function bH(e){var i={};qg(e.dimensions,function(on,k){var m=e.getDimensionInfo(on);if(!m.isExtraCoord){var v=m.coordDim;var Z=i[v]=i[v]||[];Z[m.coordDimIndex]=k}});return i}function bp(i,e,k,Z,v,m){i=rt(i,e,k,Z,v,m,true);i&&m.setItemGraphicEl(e,i);return i}function rt(i,v3,e,v,KA,on,k){var Z=!e;e=e||{};var v2=e.type;var m=e.shape;var Kz=e.style;if(i&&(Z||(v2!=null&&v2!==i.__customGraphicType)||(v2==="path"&&Jn(m)&&ys(m)!==i.__customPathData)||(v2==="image"&&IG(Kz,"image")&&Kz.image!==i.__customImagePath)||(v2==="text"&&IG(m,"text")&&Kz.text!==i.__customText))){KA.remove(i);i=null}if(Z){return}var v1=!i;!i&&(i=q0(e));te(i,v3,e,v,on,v1,k);if(v2==="group"){sp(i,v3,e,v,on)}KA.add(i);return i}function sp(i,v2,e,m,v){var k=e.children;var on=k?k.length:0;var v3=e.$mergeChildren;var Kz=v3==="byName"||e.diffChildrenByName;var Z=v3===false;if(!on&&!Kz&&!Z){return}if(Kz){bF({oldChildren:i.children()||[],newChildren:k||[],dataIndex:v2,animatableModel:m,group:i,data:v});return}Z&&i.removeAll();var v1=0;for(;v1<on;v1++){k[v1]&&rt(i.childAt(v1),v2,k[v1],m,i,v)}if(pm){bY(!Z||i.childCount()===v1,"MUST NOT contain empty item in children array when `group.$mergeChildren` is `false`.")}}function bF(e){(new IF(e.oldChildren,e.newChildren,gB,gB,e)).add(mp).update(mp).remove(A0).execute()}function gB(k,e){var i=k&&k.name;return i!=null?i:vy+e}function mp(i,v){var e=this.context;var k=i!=null?e.newChildren[i]:null;var m=v!=null?e.oldChildren[v]:null;rt(m,e.dataIndex,k,e.animatableModel,e.group,e.data)}function Cr(e,i){var k=new fV({},i);qg(dn,function(v,m){if(e.hasOwnProperty(v)){k.option[m]=e[v]}});return k}function dv(k,e){for(var i in e){if(e.hasOwnProperty(i)||!dn.hasOwnProperty(i)){k[i]=e[i]}}}function A0(k){var e=this.context;var i=e.oldChildren[k];i&&e.group.remove(i)}function ys(e){return e&&(e.pathData||e.d)}function Jn(e){return e&&(e.hasOwnProperty("pathData")||e.hasOwnProperty("d"))}function IG(e,i){return e&&e.hasOwnProperty(i)}function qn(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function zg(i,e){return e.dim+i.model.componentIndex}function AP(i,e,k){var v={};var m=DQ(sk(e.getSeriesByType(i),function(Z){return !e.isSeriesFiltered(Z)&&Z.coordinateSystem&&Z.coordinateSystem.type==="polar"}));e.eachSeriesByType(i,function(KJ){if(KJ.coordinateSystem.type!=="polar"){return}var KY=KJ.getData();var KZ=KJ.coordinateSystem;var KE=KZ.getBaseAxis();var KN=zg(KZ,KE);var KB=qn(KJ);var KF=m[KN][KB];var KC=KF.offset;var KA=KF.width;var KS=KZ.getOtherAxis(KE);var v1=KJ.coordinateSystem.cx;var on=KJ.coordinateSystem.cy;var Z=KJ.get("barMinHeight")||0;var KM=KJ.get("barMinAngle")||0;v[KB]=v[KB]||[];var v2=KY.mapDimension(KS.dim);var KI=KY.mapDimension(KE.dim);var KU=mM(KY,v2);var KD=KE.dim!=="radius"||!KJ.get("roundCap",true);var Kz=KS.dim==="radius"?KS.dataToRadius(0):KS.dataToAngle(0);for(var KH=0,KR=KY.count();KH<KR;KH++){var KL=KY.get(v2,KH);var KV=KY.get(KI,KH);var KX=KL>=0?"p":"n";var KW=Kz;if(KU){if(!v[KB][KV]){v[KB][KV]={p:Kz,n:Kz}}KW=v[KB][KV][KX]}var KQ;var KG;var KO;var KK;if(KS.dim==="radius"){var KP=KS.dataToRadius(KL)-Kz;var KT=KE.dataToAngle(KV);if(Math.abs(KP)<Z){KP=(KP<0?-1:1)*Z}KQ=KW;KG=KW+KP;KO=KT-KC;KK=KO-KA;KU&&(v[KB][KV][KX]=KG)}else{var K0=KS.dataToAngle(KL,KD)-Kz;var v3=KE.dataToRadius(KV);if(Math.abs(K0)<KM){K0=(K0<0?-1:1)*KM}KQ=v3+KC;KG=KQ+KA;KO=KW;KK=KW+K0;KU&&(v[KB][KV][KX]=KK)}KY.setItemLayout(KH,{cx:v1,cy:on,r0:KQ,r:KG,startAngle:-KO*Math.PI/180,endAngle:-KK*Math.PI/180})}},this)}function DQ(i,m){var k={};qg(i,function(KA,KF){var KD=KA.getData();var Z=KA.coordinateSystem;var v2=Z.getBaseAxis();var v1=zg(Z,v2);var Kz=v2.getExtent();var KC=v2.type==="category"?v2.getBandWidth():(Math.abs(Kz[1]-Kz[0])/KD.count());var KH=k[v1]||{bandWidth:KC,remainedWidth:KC,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var on=KH.stacks;k[v1]=KH;var KB=qn(KA);if(!on[KB]){KH.autoWidthCount++}on[KB]=on[KB]||{width:0,maxWidth:0};var KG=BD(KA.get("barWidth"),KC);var v=BD(KA.get("barMaxWidth"),KC);var KE=KA.get("barGap");var v3=KA.get("barCategoryGap");if(KG&&!on[KB].width){KG=Math.min(KH.remainedWidth,KG);on[KB].width=KG;KH.remainedWidth-=KG}v&&(on[KB].maxWidth=v);(KE!=null)&&(KH.gap=KE);(v3!=null)&&(KH.categoryGap=v3)});var e={};qg(k,function(KE,on){e[on]={};var v=KE.stacks;var v2=KE.bandWidth;var Z=BD(KE.categoryGap,v2);var KB=BD(KE.gap,1);var v1=KE.remainedWidth;var KC=KE.autoWidthCount;var KA=(v1-Z)/(KC+(KC-1)*KB);KA=Math.max(KA,0);qg(v,function(KG,KF){var KH=KG.maxWidth;if(KH&&KH<KA){KH=Math.min(KH,v1);if(KG.width){KH=Math.min(KH,KG.width)}v1-=KH;KG.width=KH;KC--}});KA=(v1-Z)/(KC+(KC-1)*KB);KA=Math.max(KA,0);var Kz=0;var KD;qg(v,function(KG,KF){if(!KG.width){KG.width=KA}KD=KG;Kz+=KG.width*(1+KB)});if(KD){Kz-=KD.width*KB}var v3=-Kz/2;qg(v,function(KG,KF){e[on][KF]=e[on][KF]||{offset:v3,width:KG.width};v3+=KG.width*(1+KB)})});return e}function hZ(i,e){DO.call(this,"radius",i,e);this.type="category"}hZ.prototype={constructor:hZ,pointToData:function(e,i){return this.polar.pointToData(e,i)[this.dim==="radius"?0:1]},dataToRadius:DO.prototype.dataToCoord,radiusToData:DO.prototype.coordToData};nm(hZ,DO);var e4=gc();function bl(i,e){e=e||[0,360];DO.call(this,"angle",i,e);this.type="category"}bl.prototype={constructor:bl,pointToData:function(e,i){return this.polar.pointToData(e,i)[this.dim==="radius"?0:1]},dataToAngle:DO.prototype.dataToCoord,angleToData:DO.prototype.coordToData,calculateCategoryInterval:function(){var m=this;var KC=m.getLabelModel();var KD=m.scale;var KB=KD.getExtent();var i=KD.count();if(KB[1]-KB[0]<1){return 0}var v=KB[0];var KA=m.dataToCoord(v+1)-m.dataToCoord(v);var Z=Math.abs(KA);var v3=IA(v,KC.getFont(),"center","top");var Kz=Math.max(v3.height,7);var v2=Kz/Z;isNaN(v2)&&(v2=Infinity);var k=Math.max(0,Math.floor(v2));var e=e4(m.model);var v1=e.lastAutoInterval;var on=e.lastTickCount;if(v1!=null&&on!=null&&Math.abs(v1-k)<=1&&Math.abs(on-i)<=1&&v1>k){k=v1}else{e.lastTickCount=i;e.lastAutoInterval=k}return k}};nm(bl,DO);var tK=function(e){this.name=e||"";this.cx=0;this.cy=0;this._radiusAxis=new hZ();this._angleAxis=new bl();this._radiusAxis.polar=this._angleAxis.polar=this};tK.prototype={type:"polar",axisPointerEnabled:true,constructor:tK,dimensions:["radius","angle"],model:null,containPoint:function(e){var i=this.pointToCoord(e);return this._radiusAxis.contain(i[0])&&this._angleAxis.contain(i[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var m=[];var i=this._angleAxis;var k=this._radiusAxis;i.scale.type===e&&m.push(i);k.scale.type===e&&m.push(k);return m},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(i){var e=this._angleAxis;return i===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(i){var e=(i!=null&&i!=="auto")?this.getAxis(i):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(e,i){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],i),this._angleAxis.dataToAngle(e[1],i)])},pointToData:function(e,i){var k=this.pointToCoord(e);return[this._radiusAxis.radiusToData(k[0],i),this._angleAxis.angleToData(k[1],i)]},pointToCoord:function(Z){var v3=Z[0]-this.cx;var v1=Z[1]-this.cy;var v2=this.getAngleAxis();var on=v2.getExtent();var k=Math.min(on[0],on[1]);var e=Math.max(on[0],on[1]);v2.inverse?(k=e-360):(e=k+360);var m=Math.sqrt(v3*v3+v1*v1);v3/=m;v1/=m;var v=Math.atan2(-v1,v3)/Math.PI*180;var i=v<k?1:-1;while(v<k||v>e){v+=i*360}return[m,v]},coordToPoint:function(v){var i=v[0];var k=v[1]/180*Math.PI;var e=Math.cos(k)*i+this.cx;var m=-Math.sin(k)*i+this.cy;return[e,m]},getArea:function(){var e=this.getAngleAxis();var i=this.getRadiusAxis();var v=i.getExtent().slice();v[0]>v[1]&&v.reverse();var k=e.getExtent();var m=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:v[0],r:v[1],startAngle:-k[0]*m,endAngle:-k[1]*m,clockwise:e.inverse,contain:function(Z,KA){var v1=Z-this.cx;var on=KA-this.cy;var Kz=v1*v1+on*on;var v3=this.r;var v2=this.r0;return Kz<=v3*v3&&Kz>=v2*v2}}}};var ax=aO.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});xF(ax.prototype,oz);var dH={angle:{startAngle:90,clockwise:true,splitNumber:12,axisLabel:{rotate:false}},radius:{splitNumber:5}};function ty(i,e){return e.type||(e.data?"category":"value")}nM("angle",ax,ty,dH.angle);nM("radius",ax,ty,dH.radius);rg({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(i){var k;var e=this.ecModel;e.eachComponent(i,function(m){if(m.getCoordSysModel()===this){k=m}},this);return k},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});function x7(i,v,on){var e=v.get("center");var k=on.getWidth();var v1=on.getHeight();i.cx=BD(e[0],k);i.cy=BD(e[1],v1);var m=i.getRadiusAxis();var v2=Math.min(k,v1)/2;var Z=v.get("radius");if(Z==null){Z=[0,"100%"]}else{if(!IQ(Z)){Z=[0,Z]}}Z=[BD(Z[0],v2),BD(Z[1],v2)];m.inverse?m.setExtent(Z[1],Z[0]):m.setExtent(Z[0],Z[1])}function Eb(e,m){var on=this;var i=on.getAngleAxis();var v=on.getRadiusAxis();i.scale.setExtent(Infinity,-Infinity);v.scale.setExtent(Infinity,-Infinity);e.eachSeries(function(v1){if(v1.coordinateSystem===on){var v2=v1.getData();qg(v2.mapDimension("radius",true),function(v3){v.scale.unionExtentFromData(v2,kk(v2,v3))});qg(v2.mapDimension("angle",true),function(v3){i.scale.unionExtentFromData(v2,kk(v2,v3))})}});oM(i.scale,i.model);oM(v.scale,v.model);if(i.type==="category"&&!i.onBand){var k=i.getExtent();var Z=360/i.scale.count();i.inverse?(k[1]+=Z):(k[1]-=Z);i.setExtent(k[0],k[1])}}function nJ(k,i){k.type=i.get("type");k.scale=om(i);k.onBand=i.get("boundaryGap")&&k.type==="category";k.inverse=i.get("inverse");if(i.mainType==="angleAxis"){k.inverse^=i.get("clockwise");var e=i.get("startAngle");k.setExtent(e,e+(k.inverse?-360:360))}i.axis=k;k.model=i}var yH={dimensions:tK.prototype.dimensions,create:function(e,i){var k=[];e.eachComponent("polar",function(on,m){var v3=new tK(m);v3.update=Eb;var v2=v3.getRadiusAxis();var Z=v3.getAngleAxis();var v1=on.findAxisModel("radiusAxis");var v=on.findAxisModel("angleAxis");nJ(v2,v1);nJ(Z,v);x7(v3,on,i);k.push(v3);on.coordinateSystem=v3;v3.model=on});e.eachSeries(function(m){if(m.get("coordinateSystem")==="polar"){var v=e.queryComponents({mainType:"polar",index:m.get("polarIndex"),id:m.get("polarId")})[0];if(pm){if(!v){throw new Error('Polar "'+g1(m.get("polarIndex"),m.get("polarId"),0)+'" not found')}}m.coordinateSystem=v.coordinateSystem}});return k}};fZ.register("polar",yH);var EU=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function c1(k,i,m){i[1]>i[0]&&(i=i.slice().reverse());var v=k.coordToPoint([i[0],m]);var e=k.coordToPoint([i[1],m]);return{x1:v[0],y1:v[1],x2:e[0],y2:e[1]}}function zZ(i){var e=i.getRadiusAxis();return e.inverse?0:1}function fs(i){var k=i[0];var e=i[i.length-1];if(k&&e&&Math.abs(Math.abs(k.coord-e.coord)-360)<0.0001){i.pop()}}gv.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(m,e){this.group.removeAll();if(!m.get("show")){return}var k=m.axis;var on=k.polar;var Z=on.getRadiusAxis().getExtent();var i=k.getTicksCoords();var v=k.getMinorTicksCoords();var v1=Gj(k.getViewLabels(),function(v2){var v2=E5(v2);v2.coord=k.dataToCoord(v2.tickValue);return v2});fs(v1);fs(i);qg(EU,function(v2){if(m.get(v2+".show")&&(!k.scale.isBlank()||v2==="axisLine")){this["_"+v2](m,on,i,v,Z,v1)}},this)},_axisLine:function(k,i,Z,v1,m){var on=k.getModel("axisLine.lineStyle");var e=zZ(i);var v2=e?0:1;var v;if(m[v2]===0){v=new IS({shape:{cx:i.cx,cy:i.cy,r:m[e]},style:on.getLineStyle(),z2:1,silent:true})}else{v=new tp({shape:{cx:i.cx,cy:i.cy,r:m[e],r0:m[v2]},style:on.getLineStyle(),z2:1,silent:true})}v.style.fill=null;this.group.add(v)},_axisTick:function(i,e,Z,on,m){var v2=i.getModel("axisTick");var k=(v2.get("inside")?-1:1)*v2.get("length");var v=m[zZ(e)];var v1=Gj(Z,function(v3){return new Br({shape:c1(e,[v,v+k],v3.coord)})});this.group.add(so(v1,{style:Fg(v2.getModel("lineStyle").getLineStyle(),{stroke:i.get("axisLine.lineStyle.color")})}))},_minorTick:function(v,e,m,KA,v2){if(!KA.length){return}var KC=v.getModel("axisTick");var Kz=v.getModel("minorTick");var Z=(KC.get("inside")?-1:1)*Kz.get("length");var v3=v2[zZ(e)];var KB=[];for(var v1=0;v1<KA.length;v1++){for(var on=0;on<KA[v1].length;on++){KB.push(new Br({shape:c1(e,[v3,v3+Z],KA[v1][on].coord)}))}}this.group.add(so(KB,{style:Fg(Kz.getModel("lineStyle").getLineStyle(),Fg(KC.getLineStyle(),{stroke:v.get("axisLine.lineStyle.color")}))}))},_axisLabel:function(i,e,on,v2,k,v){var Z=i.getCategories(true);var m=i.getModel("axisLabel");var v3=m.get("margin");var v1=i.get("triggerEvent");qg(v,function(KC,KF){var KJ=m;var KD=KC.tickValue;var Kz=k[zZ(e)];var KA=e.coordToPoint([Kz+v3,KC.coord]);var KE=e.cx;var KB=e.cy;var KG=Math.abs(KA[0]-KE)/Kz<0.3?"center":(KA[0]>KE?"left":"right");var KI=Math.abs(KA[1]-KB)/Kz<0.3?"middle":(KA[1]>KB?"top":"bottom");if(Z&&Z[KD]&&Z[KD].textStyle){KJ=new fV(Z[KD].textStyle,m,m.ecModel)}var KH=new jv({silent:dt.isLabelSilent(i)});this.group.add(KH);ql(KH.style,KJ,{x:KA[0],y:KA[1],textFill:KJ.getTextColor()||i.get("axisLine.lineStyle.color"),text:KC.formattedLabel,textAlign:KG,textVerticalAlign:KI});if(v1){KH.eventData=dt.makeAxisEventDataBase(i);KH.eventData.targetType="axisLabel";KH.eventData.value=KC.rawLabel}},this)},_splitLine:function(k,e,v1,v3,Z){var m=k.getModel("splitLine");var v2=m.getModel("lineStyle");var KB=v2.get("color");var KA=0;KB=KB instanceof Array?KB:[KB];var on=[];for(var v=0;v<v1.length;v++){var Kz=(KA++)%KB.length;on[Kz]=on[Kz]||[];on[Kz].push(new Br({shape:c1(e,Z,v1[v].coord)}))}for(var v=0;v<on.length;v++){this.group.add(so(on[v],{style:Fg({stroke:KB[v%KB.length]},v2.getLineStyle()),silent:true,z:k.get("z")}))}},_minorSplitLine:function(m,e,v2,Kz,v1){if(!Kz.length){return}var v=m.getModel("minorSplitLine");var v3=v.getModel("lineStyle");var KA=[];for(var on=0;on<Kz.length;on++){for(var Z=0;Z<Kz[on].length;Z++){KA.push(new Br({shape:c1(e,v1,Kz[on][Z].coord)}))}}this.group.add(so(KA,{style:v3.getLineStyle(),silent:true,z:m.get("z")}))},_splitArea:function(v,m,Kz,KC,v2){if(!Kz.length){return}var KB=v.getModel("splitArea");var KE=KB.getModel("areaStyle");var KF=KE.get("color");var KG=0;KF=KF instanceof Array?KF:[KF];var v3=[];var KA=Math.PI/180;var e=-Kz[0].coord*KA;var on=Math.min(v2[0],v2[1]);var Z=Math.max(v2[0],v2[1]);var k=v.get("clockwise");for(var v1=1;v1<Kz.length;v1++){var KD=(KG++)%KF.length;v3[KD]=v3[KD]||[];v3[KD].push(new uW({shape:{cx:m.cx,cy:m.cy,r0:on,r:Z,startAngle:e,endAngle:-Kz[v1].coord*KA,clockwise:k},silent:true}));e=-Kz[v1].coord*KA}for(var v1=0;v1<v3.length;v1++){this.group.add(so(v3[v1],{style:Fg({fill:KF[v1%KF.length]},KE.getAreaStyle()),silent:true}))}}});var GU=["axisLine","axisTickLabel","axisName"];var ja=["splitLine","splitArea","minorSplitLine"];gv.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(v2,Z){this.group.removeAll();if(!v2.get("show")){return}var k=v2.axis;var e=k.polar;var Kz=e.getAngleAxis();var v3=k.getTicksCoords();var i=k.getMinorTicksCoords();var v1=Kz.getExtent()[0];var m=k.getExtent();var v=l6(e,v2,v1);var on=new dt(v2,v);qg(GU,on.add,on);this.group.add(on.getGroup());qg(ja,function(KA){if(v2.get(KA+".show")&&!k.scale.isBlank()){this["_"+KA](v2,e,v1,m,v3,i)}},this)},_splitLine:function(v1,e,on,v,v3){var k=v1.getModel("splitLine");var v2=k.getModel("lineStyle");var KB=v2.get("color");var KA=0;KB=KB instanceof Array?KB:[KB];var Z=[];for(var m=0;m<v3.length;m++){var Kz=(KA++)%KB.length;Z[Kz]=Z[Kz]||[];Z[Kz].push(new IS({shape:{cx:e.cx,cy:e.cy,r:v3[m].coord}}))}for(var m=0;m<Z.length;m++){this.group.add(so(Z[m],{style:Fg({stroke:KB[m%KB.length],fill:null},v2.getLineStyle()),silent:true}))}},_minorSplitLine:function(v3,e,v2,v1,KA,Z){if(!Z.length){return}var m=v3.getModel("minorSplitLine");var Kz=m.getModel("lineStyle");var KB=[];for(var on=0;on<Z.length;on++){for(var v=0;v<Z[on].length;v++){KB.push(new IS({shape:{cx:e.cx,cy:e.cy,r:Z[on][v].coord}}))}}this.group.add(so(KB,{style:Fg({fill:null},Kz.getLineStyle()),silent:true}))},_splitArea:function(on,e,Z,m,v2){if(!v2.length){return}var v1=on.getModel("splitArea");var Kz=v1.getModel("areaStyle");var KB=Kz.get("color");var KC=0;KB=KB instanceof Array?KB:[KB];var v=[];var KA=v2[0].coord;for(var k=1;k<v2.length;k++){var v3=(KC++)%KB.length;v[v3]=v[v3]||[];v[v3].push(new uW({shape:{cx:e.cx,cy:e.cy,r0:KA,r:v2[k].coord,startAngle:0,endAngle:Math.PI*2},silent:true}));KA=v2[k].coord}for(var k=0;k<v.length;k++){this.group.add(so(v[k],{style:Fg({fill:KB[k%KB.length]},Kz.getAreaStyle()),silent:true}))}}});function l6(i,e,k){return{position:[i.cx,i.cy],rotation:k/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}var ej=Ix.extend({makeElOption:function(e,Kz,KB,v1,on){var m=KB.axis;if(m.dim==="angle"){this.animationThreshold=Math.PI/18}var i=m.polar;var v=i.getOtherAxis(m);var Z=v.getExtent();var KD;KD=m["dataTo"+uE(m.dim)](Kz);var v3=v1.get("type");if(v3&&v3!=="none"){var KA=AR(v1);var KC=th[v3](m,i,KD,Z,KA);KC.style=KA;e.graphicKey=KC.type;e.pointer=KC}var v2=v1.get("label.margin");var k=nV(Kz,KB,v1,i,v2);Hx(e,KB,v1,on,k)}});function nV(KB,v3,v,KG,k){var Z=v3.axis;var KC=Z.dataToCoord(KB);var e=KG.getAngleAxis().getExtent()[0];e=e/180*Math.PI;var on=KG.getRadiusAxis().getExtent();var KF;var KD;var i;if(Z.dim==="radius"){var Kz=Ez();k5(Kz,Kz,e);wV(Kz,Kz,[KG.cx,KG.cy]);KF=xI([KC,-k],Kz);var KE=v3.getModel("axisLabel").get("rotate")||0;var v2=dt.innerTextLayout(e,KE*Math.PI/180,-1);KD=v2.textAlign;i=v2.textVerticalAlign}else{var KA=on[1];KF=KG.coordToPoint([KA+k,KC]);var v1=KG.cx;var m=KG.cy;KD=Math.abs(KF[0]-v1)/KA<0.3?"center":(KF[0]>v1?"left":"right");i=Math.abs(KF[1]-m)/KA<0.3?"middle":(KF[1]>m?"top":"bottom")}return{position:KF,align:KD,verticalAlign:i}}var th={line:function(k,m,e,v,i){return k.dim==="angle"?{type:"Line",shape:IN(m.coordToPoint([v[0],e]),m.coordToPoint([v[1],e]))}:{type:"Circle",shape:{cx:m.cx,cy:m.cy,r:e}}},shadow:function(m,v,i,on,k){var e=Math.max(1,m.getBandWidth());var Z=Math.PI/180;return m.dim==="angle"?{type:"Sector",shape:la(v.cx,v.cy,on[0],on[1],(-i-e/2)*Z,(-i+e/2)*Z)}:{type:"Sector",shape:la(v.cx,v.cy,i-e/2,i+e/2,0,Math.PI*2)}}};gv.registerAxisPointerClass("PolarAxisPointer",ej);qz(tT(AP,"bar"));rL({type:"polar"});var zF=aO.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){aO.prototype.init.apply(this,arguments);FC(e,"label",["show"])},optionUpdated:function(){var i=this.option;var e=this;i.regions=iE.getFilledRegions(i.regions,i.map,i.nameMap);this._optionModelMap=yO(i.regions||[],function(m,k){if(k.name){m.set(k.name,new fV(k,e))}return m},EI());this.updateSelectedMap(i.regions)},defaultOption:{zlevel:0,z:0,show:true,left:"center",top:"center",aspectScale:null,silent:false,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:false,color:"#000"},itemStyle:{borderWidth:0.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new fV(null,this,this.ecModel)},getFormattedLabel:function(i,e){e=e||"normal";var m=this.getRegionModel(i);var k=m.get((e==="normal"?"":e+".")+"label.formatter");var v={name:i};if(typeof k==="function"){v.status=e;return k(v)}else{if(typeof k==="string"){return k.replace("{a}",i!=null?i:"")}}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}});Iz(zF,GZ);rL({type:"geo",init:function(e,k){var i=new Eg(k,true);this._mapDraw=i;this.group.add(i.group)},render:function(k,e,m,v){if(v&&v.type==="geoToggleSelect"&&v.from===this.uid){return}var i=this._mapDraw;if(k.get("show")){i.draw(k,e,m,this,v)}else{this._mapDraw.group.removeAll()}this.group.silent=k.get("silent")},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});function Er(i,e){e.update="updateView";ce(e,function(v,k){var m={};k.eachComponent({mainType:"geo",query:v},function(Z){Z[i](v.name);var on=Z.coordinateSystem;qg(on.regions,function(v1){m[v1.name]=Z.isSelected(v1.name)||false})});return{selected:m,name:v.name}})}Er("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});Er("select",{type:"geoSelect",event:"geoselected"});Er("unSelect",{type:"geoUnSelect",event:"geounselected"});var tm=86400000;function ew(i,e,k){this._model=i}ew.prototype={constructor:ew,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(k){k=xu(k);var Z=k.getFullYear();var e=k.getMonth()+1;e=e<10?"0"+e:e;var v=k.getDate();v=v<10?"0"+v:v;var i=k.getDay();i=Math.abs((i+7-this.getFirstDayOfWeek())%7);return{y:Z,m:e,d:v,day:i,time:k.getTime(),formatedDate:Z+"-"+e+"-"+v,date:k}},getNextNDay:function(e,i){i=i||0;if(i===0){return this.getDateInfo(e)}e=new Date(this.getDateInfo(e).time);e.setDate(e.getDate()+i);return this.getDateInfo(e)},update:function(on,v1){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var e=this._rangeInfo.weeks||1;var v3=["width","height"];var i=this._model.get("cellSize").slice();var m=this._model.getBoxLayoutParams();var Z=this._orient==="horizontal"?[e,7]:[7,e];qg([0,1],function(Kz){if(k(i,Kz)){m[v3[Kz]]=i[Kz]*Z[Kz]}});var v={width:v1.getWidth(),height:v1.getHeight()};var v2=this._rect=lL(m,v);qg([0,1],function(Kz){if(!k(i,Kz)){i[Kz]=v2[v3[Kz]]/Z[Kz]}});function k(KA,Kz){return KA[Kz]!=null&&KA[Kz]!=="auto"}this._sw=i[0];this._sh=i[1]},dataToPoint:function(v,on){IQ(v)&&(v=v[0]);on==null&&(on=true);var m=this.getDateInfo(v);var e=this._rangeInfo;var i=m.formatedDate;if(on&&!(m.time>=e.start.time&&m.time<e.end.time+tm)){return[NaN,NaN]}var k=m.day;var Z=this._getRangeInfo([e.start.time,i]).nthWeek;if(this._orient==="vertical"){return[this._rect.x+k*this._sw+this._sw/2,this._rect.y+Z*this._sh+this._sh/2]}return[this._rect.x+Z*this._sw+this._sw/2,this._rect.y+k*this._sh+this._sh/2]},pointToData:function(e){var i=this.pointToDate(e);return i&&i.time},dataToRect:function(i,k){var e=this.dataToPoint(i,k);return{contentShape:{x:e[0]-(this._sw-this._lineWidth)/2,y:e[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:e,tl:[e[0]-this._sw/2,e[1]-this._sh/2],tr:[e[0]+this._sw/2,e[1]-this._sh/2],br:[e[0]+this._sw/2,e[1]+this._sh/2],bl:[e[0]-this._sw/2,e[1]+this._sh/2]}},pointToDate:function(e){var m=Math.floor((e[0]-this._rect.x)/this._sw)+1;var k=Math.floor((e[1]-this._rect.y)/this._sh)+1;var i=this._rangeInfo.range;if(this._orient==="vertical"){return this._getDateByWeeksAndDay(k,m-1,i)}return this._getDateByWeeksAndDay(m,k-1,i)},convertToPixel:tT(hj,"dataToPoint"),convertFromPixel:tT(hj,"pointToData"),_initRangeOption:function(){var k=this._model.get("range");var m=k;if(IQ(m)&&m.length===1){m=m[0]}if(/^\d{4}$/.test(m)){k=[m+"-01-01",m+"-12-31"]}if(/^\d{4}[\/|-]\d{1,2}$/.test(m)){var Z=this.getDateInfo(m);var i=Z.date;i.setMonth(i.getMonth()+1);var e=this.getNextNDay(i,-1);k=[Z.formatedDate,e.formatedDate]}if(/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(m)){k=[m,m]}var v=this._getRangeInfo(k);if(v.start.time>v.end.time){k.reverse()}return k},_getRangeInfo:function(on){on=[this.getDateInfo(on[0]),this.getDateInfo(on[1])];var v;if(on[0].time>on[1].time){v=true;on.reverse()}var v3=Math.floor(on[1].time/tm)-Math.floor(on[0].time/tm)+1;var m=new Date(on[0].time);var Z=m.getDate();var v1=on[1].date.getDate();m.setDate(Z+v3-1);var i=m.getDate();if(i!==v1){var k=m.getTime()-on[1].time>0?1:-1;while((i=m.getDate())!==v1&&(m.getTime()-on[1].time)*k>0){v3-=k;m.setDate(i-k)}}var e=Math.floor((v3+on[0].day+6)/7);var v2=v?-e+1:e-1;v&&on.reverse();return{range:[on[0].formatedDate,on[1].formatedDate],start:on[0],end:on[1],allDay:v3,weeks:e,nthWeek:v2,fweek:on[0].day,lweek:on[1].day}},_getDateByWeeksAndDay:function(v,k,i){var e=this._getRangeInfo(i);if(v>e.weeks||(v===0&&k<e.fweek)||(v===e.weeks&&k>e.lweek)){return false}var Z=(v-1)*7-e.fweek+k;var m=new Date(e.start.time);m.setDate(e.start.d+Z);return this.getDateInfo(m)}};ew.dimensions=ew.prototype.dimensions;ew.getDimensionsInfo=ew.prototype.getDimensionsInfo;ew.create=function(e,i){var k=[];e.eachComponent("calendar",function(m){var v=new ew(m,e,i);k.push(v);m.coordinateSystem=v});e.eachSeries(function(m){if(m.get("coordinateSystem")==="calendar"){m.coordinateSystem=k[m.get("calendarIndex")||0]}});return k};function hj(k,e,on,Z){var m=on.calendarModel;var i=on.seriesModel;var v=m?m.coordinateSystem:i?i.coordinateSystem:null;return v===this?v[k](Z):null}fZ.register("calendar",ew);var o8=aO.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:true,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:true,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:true,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:true,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(k,i,e,m){var v=hD(k);o8.superApply(this,"init",arguments);vS(k,v)},mergeOption:function(e,i){o8.superApply(this,"mergeOption",arguments);vS(this.option,e)}});function vS(k,i){var m=k.cellSize;if(!IQ(m)){m=k.cellSize=[m,m]}else{if(m.length===1){m[1]=m[0]}}var e=Gj([0,1],function(v){if(nR(i,v)){m[v]="auto"}return m[v]!=null&&m[v]!=="auto"});hP(k,i,{type:"box",ignoreSize:e})}var qC={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]};var Cq={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]};rL({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(m,e,Z){var on=this.group;on.removeAll();var v=m.coordinateSystem;var i=v.getRangeInfo();var k=v.getOrient();this._renderDayRect(m,i,on);this._renderLines(m,i,k,on);this._renderYearText(m,i,k,on);this._renderMonthText(m,k,on);this._renderWeekText(m,i,k,on)},_renderDayRect:function(k,e,v3){var m=k.coordinateSystem;var Kz=k.getModel("itemStyle").getItemStyle();var v2=m.getCellWidth();var Z=m.getCellHeight();for(var v=e.start.time;v<=e.end.time;v=m.getNextNDay(v,1).time){var v1=m.dataToRect([v],false).tl;var on=new GM({shape:{x:v1[0],y:v1[1],width:v2,height:Z},cursor:"default",style:Kz});v3.add(on)}},_renderLines:function(Z,k,v1,KB){var KC=this;var on=Z.coordinateSystem;var Kz=Z.getModel("splitLine.lineStyle").getLineStyle();var KA=Z.get("splitLine.show");var v3=Kz.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];var e=k.start;for(var v2=0;e.time<=k.end.time;v2++){m(e.formatedDate);if(v2===0){e=on.getDateInfo(k.start.y+"-"+k.start.m)}var v=e.date;v.setMonth(v.getMonth()+1);e=on.getDateInfo(v)}m(on.getNextNDay(k.end.time,1).formatedDate);function m(i){KC._firstDayOfMonth.push(on.getDateInfo(i));KC._firstDayPoints.push(on.dataToRect([i],false).tl);var KD=KC._getLinePointsOfOneWeek(Z,i,v1);KC._tlpoints.push(KD[0]);KC._blpoints.push(KD[KD.length-1]);KA&&KC._drawSplitline(KD,Kz,KB)}KA&&this._drawSplitline(KC._getEdgesPoints(KC._tlpoints,v3,v1),Kz,KB);KA&&this._drawSplitline(KC._getEdgesPoints(KC._blpoints,v3,v1),Kz,KB)},_getEdgesPoints:function(v,i,m){var k=[v[0].slice(),v[v.length-1].slice()];var e=m==="horizontal"?0:1;k[0][e]=k[0][e]-i/2;k[1][e]=k[1][e]+i/2;return k},_drawSplitline:function(e,k,i){var m=new BY({z2:20,shape:{points:e},style:k});i.add(m)},_getLinePointsOfOneWeek:function(v,m,k){var on=v.coordinateSystem;m=on.getDateInfo(m);var v1=[];for(var Z=0;Z<7;Z++){var v2=on.getNextNDay(m.time,Z);var e=on.dataToRect([v2.time],false);v1[2*v2.day]=e.tl;v1[2*v2.day+1]=e[k==="horizontal"?"bl":"tr"]}return v1},_formatterLabel:function(e,i){if(typeof e==="string"&&e){return HE(e,i)}if(typeof e==="function"){return e(i)}return i.nameMap},_yearTextPositionControl:function(v,i,m,e,on){i=i.slice();var Z=["center","bottom"];if(e==="bottom"){i[1]+=on;Z=["center","top"]}else{if(e==="left"){i[0]-=on}else{if(e==="right"){i[0]+=on;Z=["center","top"]}else{i[1]-=on}}}var k=0;if(e==="left"||e==="right"){k=Math.PI/2}return{rotation:k,position:i,style:{textAlign:Z[0],textVerticalAlign:Z[1]}}},_renderYearText:function(v,i,v1,KC){var m=v.getModel("yearLabel");if(!m.get("show")){return}var on=m.get("margin");var Kz=m.get("position");if(!Kz){Kz=v1!=="horizontal"?"top":"left"}var KD=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]];var KF=(KD[0][0]+KD[1][0])/2;var v3=(KD[0][1]+KD[1][1])/2;var KB=v1==="horizontal"?0:1;var KE={top:[KF,KD[KB][1]],bottom:[KF,KD[1-KB][1]],left:[KD[1-KB][0],v3],right:[KD[KB][0],v3]};var e=i.start.y;if(+i.end.y>+i.start.y){e=e+"-"+i.end.y}var KA=m.get("formatter");var Z={start:i.start.y,end:i.end.y,nameMap:e};var v2=this._formatterLabel(KA,Z);var k=new jv({z2:30});ql(k.style,m,{text:v2}),k.attr(this._yearTextPositionControl(k,KE[Kz],v1,Kz,on));KC.add(k)},_monthTextPositionControl:function(v2,Z,i,k,e){var v="left";var m="top";var v1=v2[0];var on=v2[1];if(i==="horizontal"){on=on+e;if(Z){v="center"}if(k==="start"){m="bottom"}}else{v1=v1+e;if(Z){m="middle"}if(k==="start"){v="right"}}return{x:v1,y:on,textAlign:v,textVerticalAlign:m}},_renderMonthText:function(v1,v2,Z){var m=v1.getModel("monthLabel");if(!m.get("show")){return}var KF=m.get("nameMap");var KA=m.get("margin");var v=m.get("position");var KC=m.get("align");var e=[this._tlpoints,this._blpoints];if(xN(KF)){KF=qC[KF.toUpperCase()]||[]}var Kz=v==="start"?0:1;var k=v2==="horizontal"?0:1;KA=v==="start"?-KA:KA;var on=(KC==="center");for(var KE=0;KE<e[Kz].length-1;KE++){var KI=e[Kz][KE].slice();var v3=this._firstDayOfMonth[KE];if(on){var KG=this._firstDayPoints[KE];KI[k]=(KG[k]+e[0][KE+1][k])/2}var KD=m.get("formatter");var KK=KF[+v3.m-1];var KH={yyyy:v3.y,yy:(v3.y+"").slice(2),MM:v3.m,M:+v3.m,nameMap:KK};var KB=this._formatterLabel(KD,KH);var KJ=new jv({z2:30});cc(ql(KJ.style,m,{text:KB}),this._monthTextPositionControl(KI,on,v2,v,KA));Z.add(KJ)}},_weekTextPositionControl:function(v3,m,v,k,i){var on="center";var Z="middle";var v2=v3[0];var v1=v3[1];var e=v==="start";if(m==="horizontal"){v2=v2+k+(e?1:-1)*i[0]/2;on=e?"right":"left"}else{v1=v1+k+(e?1:-1)*i[1]/2;Z=e?"bottom":"top"}return{x:v2,y:v1,textAlign:on,textVerticalAlign:Z}},_renderWeekText:function(v1,v,Kz,KG){var Z=v1.getModel("dayLabel");if(!Z.get("show")){return}var v3=v1.coordinateSystem;var KE=Z.get("position");var KC=Z.get("nameMap");var v2=Z.get("margin");var e=v3.getFirstDayOfWeek();if(xN(KC)){KC=Cq[KC.toUpperCase()]||[]}var m=v3.getNextNDay(v.end.time,(7-v.lweek)).time;var k=[v3.getCellWidth(),v3.getCellHeight()];v2=BD(v2,k[Kz==="horizontal"?0:1]);if(KE==="start"){m=v3.getNextNDay(v.start.time,-(7+v.fweek)).time;v2=-v2}for(var KA=0;KA<7;KA++){var KB=v3.getNextNDay(m,KA);var KF=v3.dataToRect([KB.time],false).center;var KD=KA;KD=Math.abs((KA+e)%7);var on=new jv({z2:30});cc(ql(on.style,Z,{text:KC[KD]}),this._weekTextPositionControl(KF,Kz,KE,v2,k));KG.add(on)}}});var vv={path:null,compoundPath:null,group:D4,image:Hz,text:jv};AO(function(i){var e=i.graphic;if(IQ(e)){if(!e[0]||!e[0].elements){i.graphic=[{elements:e}]}else{i.graphic=[i.graphic[0]]}}else{if(e&&!e.elements){i.graphic=[{elements:[e]}]}}});var JX=rg({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var i=this.option.elements;this.option.elements=null;JX.superApply(this,"mergeOption",arguments);this.option.elements=i},optionUpdated:function(on,v){var v2=this.option;var e=(v?v2:on).elements;var k=v2.elements=v?[]:v2.elements;var v3=[];this._flatten(e,v3);var Z=dr(k,v3);BU(Z);var v1=this._elOptionsToUpdate=[];qg(Z,function(Kz,KA){var i=Kz.option;if(pm){bY(u7(i)||Kz.exist,"Empty graphic option definition")}if(!i){return}v1.push(i);IZ(Kz,i);GG(k,KA,i);ws(k[KA],i)},this);for(var m=k.length-1;m>=0;m--){if(k[m]==null){k.splice(m,1)}else{delete k[m].$action}}},_flatten:function(i,e,k){qg(i,function(v){if(!v){return}if(k){v.parentOption=k}e.push(v);var m=v.children;if(v.type==="group"&&m){this._flatten(m,e,v)}delete v.children},this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return e}});rL({type:"graphic",init:function(e,i){this._elMap=EI();this._lastGraphicModel},render:function(k,e,i){if(k!==this._lastGraphicModel){this._clear()}this._lastGraphicModel=k;this._updateElements(k);this._relocate(k,i)},_updateElements:function(m){var i=m.useElOptionsToUpdate();if(!i){return}var e=this._elMap;var k=this.group;qg(i,function(Z){var KB=Z.$action;var on=Z.id;var v=e.get(on);var v3=Z.parentId;var v2=v3!=null?e.get(v3):k;var Kz=Z.style;if(Z.type==="text"&&Kz){if(Z.hv&&Z.hv[1]){Kz.textVerticalAlign=Kz.textBaseline=null}!Kz.hasOwnProperty("textFill")&&Kz.fill&&(Kz.textFill=Kz.fill);!Kz.hasOwnProperty("textStroke")&&Kz.stroke&&(Kz.textStroke=Kz.stroke)}var KA=zU(Z);if(pm){v&&bY(v2===v.parent,"Changing parent is not supported.")}if(!KB||KB==="merge"){v?v.attr(KA):zx(on,v2,KA,e)}else{if(KB==="replace"){zI(v,e);zx(on,v2,KA,e)}else{if(KB==="remove"){zI(v,e)}}}var v1=e.get(on);if(v1){v1.__ecGraphicWidthOption=Z.width;v1.__ecGraphicHeightOption=Z.height;IW(v1,m,Z)}})},_relocate:function(on,v3){var KC=on.option.elements;var KB=this.group;var m=this._elMap;var v1=v3.getWidth();var KA=v3.getHeight();for(var Z=0;Z<KC.length;Z++){var e=KC[Z];var k=m.get(e.id);if(!k||!k.isGroup){continue}var v2=k.parent;var Kz=v2===KB;k.__ecGraphicWidth=BD(k.__ecGraphicWidthOption,Kz?v1:v2.__ecGraphicWidth)||0;k.__ecGraphicHeight=BD(k.__ecGraphicHeightOption,Kz?KA:v2.__ecGraphicHeight)||0}for(var Z=KC.length-1;Z>=0;Z--){var e=KC[Z];var k=m.get(e.id);if(!k){continue}var v2=k.parent;var v=v2===KB?{width:v1,height:KA}:{width:v2.__ecGraphicWidth,height:v2.__ecGraphicHeight};Cp(k,e,v,null,{hv:e.hv,boundingMode:e.bounding})}},_clear:function(){var e=this._elMap;e.each(function(i){zI(i,e)});this._elMap=EI()},dispose:function(){this._clear()}});function zx(on,k,Z,e){var m=Z.type;if(pm){bY(m,"graphic type MUST be set")}var i=vv.hasOwnProperty(m)?vv[m]:gX(m);if(pm){bY(i,"graphic type can not be found")}var v=new i(Z);k.add(v);e.set(on,v);v.__ecGraphicId=on}function zI(k,e){var i=k&&k.parent;if(i){k.type==="group"&&k.traverse(function(m){zI(m,e)});e.removeKey(k.__ecGraphicId);i.remove(k)}}function zU(e){e=cc({},e);qg(["id","parentId","$action","hv","bounding"].concat(sI),function(i){delete e[i]});return e}function fv(k,i){var e;qg(i,function(m){k[m]!=null&&k[m]!=="auto"&&(e=true)});return e}function IZ(k,i){var m=k.exist;i.id=k.keyInfo.id;!i.type&&m&&(i.type=m.type);if(i.parentId==null){var e=i.parentOption;if(e){i.parentId=e.id}else{if(m){i.parentId=m.parentId}}}i.parentOption=null}function GG(e,m,i){var Z=cc({},i);var v=e[m];var on=i.$action||"merge";if(on==="merge"){if(v){if(pm){var k=i.type;bY(!k||v.type===k,'Please set $action: "replace" to change `type`')}xF(v,Z,true);hP(v,Z,{ignoreSize:true});HO(i,v)}else{e[m]=Z}}else{if(on==="replace"){e[m]=Z}else{if(on==="remove"){v&&(e[m]=null)}}}}function ws(i,e){if(!i){return}i.hv=e.hv=[fv(e,["left","right"]),fv(e,["top","bottom"])];if(i.type==="group"){i.width==null&&(i.width=e.width=0);i.height==null&&(i.height=e.height=0)}}function IW(e,m,k){var i=e.eventData;if(!e.silent&&!e.ignore&&!i){i=e.eventData={componentType:"graphic",componentIndex:m.componentIndex,name:e.name}}if(i){i.info=e.info}}var fl={};function aM(e,i){fl[e]=i}function a8(e){return fl[e]}var lu=rg({type:"toolbox",layoutMode:{type:"box",ignoreSize:true},optionUpdated:function(){lu.superApply(this,"optionUpdated",arguments);qg(this.option.feature,function(k,i){var e=a8(i);e&&xF(k,e.defaultOption)})},defaultOption:{show:true,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:true,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:false}}});function eA(on,k,m){var i=k.getBoxLayoutParams();var Z=k.get("padding");var e={width:m.getWidth(),height:m.getHeight()};var v=lL(i,e,Z);fL(k.get("orient"),on,k.get("itemGap"),v.width,v.height);Cp(on,i,e,Z)}function Cf(k,e){var m=Db(e.get("padding"));var i=e.getItemStyle(["color","opacity"]);i.fill=e.get("backgroundColor");var k=new GM({shape:{x:k.x-m[3],y:k.y-m[0],width:k.width+m[1]+m[3],height:k.height+m[0]+m[2],r:e.get("borderRadius")},style:i,silent:true,z2:-1});return k}rL({type:"toolbox",render:function(Z,k,m,v1){var v2=this.group;v2.removeAll();if(!Z.get("show")){return}var v3=+Z.get("itemSize");var Kz=Z.get("feature")||{};var i=this._features||(this._features={});var e=[];qg(Kz,function(KB,KA){e.push(KA)});(new IF(this._featureNames||[],e)).add(on).update(on).remove(tT(on,null)).execute();this._featureNames=e;function on(KD,KH){var KB=e[KD];var KE=e[KH];var KG=Kz[KB];var KF=new fV(KG,Z,Z.ecModel);var KC;if(v1&&v1.newTitle!=null&&v1.featureName===KB){KG.title=v1.newTitle}if(KB&&!KE){if(tl(KB)){KC={model:KF,onclick:KF.option.onclick,featureName:KB}}else{var KA=a8(KB);if(!KA){return}KC=new KA(KF,k,m)}i[KB]=KC}else{KC=i[KE];if(!KC){return}KC.model=KF;KC.ecModel=k;KC.api=m}if(!KB&&KE){KC.dispose&&KC.dispose(k,m);return}if(!KF.get("show")||KC.unusable){KC.remove&&KC.remove(k,m);return}v(KF,KC,KB);KF.setIconStatus=function(KL,KI){var KK=this.option;var KJ=this.iconPaths;KK.iconStatus=KK.iconStatus||{};KK.iconStatus[KL]=KI;KJ[KL]&&KJ[KL].trigger(KI)};if(KC.render){KC.render(KF,k,m,v1)}}function v(KH,KJ,KI){var KC=KH.getModel("iconStyle");var KA=KH.getModel("emphasis.iconStyle");var KG=KJ.getIcons?KJ.getIcons():KH.get("icon");var KD=KH.get("title")||{};if(typeof KG==="string"){var KE=KG;var KF=KD;KG={};KD={};KG[KI]=KE;KD[KI]=KF}var KB=KH.iconPaths={};qg(KG,function(KK,KN){var KM=Ih(KK,{},{x:-v3/2,y:-v3/2,width:v3,height:v3});KM.setStyle(KC.getItemStyle());KM.hoverStyle=KA.getItemStyle();KM.setStyle({text:KD[KN],textAlign:KA.get("textAlign"),textBorderRadius:KA.get("textBorderRadius"),textPadding:KA.get("textPadding"),textFill:null});var KL=Z.getModel("tooltip");if(KL&&KL.get("show")){KM.attr("tooltip",cc({content:KD[KN],formatter:KL.get("formatter",true)||function(){return KD[KN]},formatterParams:{componentType:"toolbox",name:KN,title:KD[KN],$vars:["name","title"]},position:KL.get("position",true)||"bottom"},KL.option))}z3(KM);if(Z.get("showTitle")){KM.__title=KD[KN];KM.on("mouseover",function(){var KP=KA.getItemStyle();var KO=Z.get("orient")==="vertical"?(Z.get("right")==null?"right":"left"):(Z.get("bottom")==null?"bottom":"top");KM.setStyle({textFill:KA.get("textFill")||KP.fill||KP.stroke||"#000",textBackgroundColor:KA.get("textBackgroundColor"),textPosition:KA.get("textPosition")||KO})}).on("mouseout",function(){KM.setStyle({textFill:null,textBackgroundColor:null})})}KM.trigger(KH.get("iconStatus."+KN)||"normal");v2.add(KM);KM.on("click",k9(KJ.onclick,KJ,k,m,KN));KB[KN]=KM})}eA(v2,Z,m);v2.add(Cf(v2.getBoundingRect(),Z));v2.eachChild(function(KE){var KB=KE.__title;var KG=KE.hoverStyle;if(KG&&KB){var KF=IA(KB,qG(KG));var KA=KE.position[0]+v2.position[0];var KH=KE.position[1]+v2.position[1]+v3;var KD=false;if(KH+KF.height>m.getHeight()){KG.textPosition="top";KD=true}var KC=KD?(-5-KF.height):(v3+8);if(KA+KF.width/2>m.getWidth()){KG.textPosition=["100%",KC];KG.textAlign="right"}else{if(KA-KF.width/2<0){KG.textPosition=[0,KC];KG.textAlign="left"}}}})},updateView:function(m,e,i,k){qg(this._features,function(v){v.updateView&&v.updateView(v.model,e,i,k)})},remove:function(e,i){qg(this._features,function(k){k.remove&&k.remove(e,i)});this.group.removeAll()},dispose:function(e,i){qg(this._features,function(k){k.dispose&&k.dispose(e,i)})}});function tl(e){return e.indexOf("my")===0}var pt=Ek.toolbox.saveAsImage;function qw(e){this.model=e}qw.defaultOption={show:true,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:pt.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:pt.lang.slice()};qw.prototype.unusable=!uk.canvasSupported;var cs=qw.prototype;cs.onclick=function(v3,Kz){var v2=this.model;var KC=v2.get("name")||v3.get("title.0.text")||"echarts";var on=Kz.getZr().painter.getType()==="svg";var KB=on?"svg":v2.get("type",true)||"png";var i=Kz.getConnectedDataURL({type:KB,backgroundColor:v2.get("backgroundColor",true)||v3.get("backgroundColor")||"#fff",connectedBackgroundColor:v2.get("connectedBackgroundColor"),excludeComponents:v2.get("excludeComponents"),pixelRatio:v2.get("pixelRatio")});if(typeof MouseEvent==="function"&&!uk.browser.ie&&!uk.browser.edge){var Z=document.createElement("a");Z.download=KC+"."+KB;Z.target="_blank";Z.href=i;var KD=new MouseEvent("click",{view:document.defaultView,bubbles:true,cancelable:false});Z.dispatchEvent(KD)}else{if(window.navigator.msSaveOrOpenBlob){var k=atob(i.split(",")[1]);var v=k.length;var KA=new Uint8Array(v);while(v--){KA[v]=k.charCodeAt(v)}var e=new Blob([KA]);window.navigator.msSaveOrOpenBlob(e,KC+"."+KB)}else{var KE=v2.get("lang");var v1='<body style="margin:0;"><img src="'+i+'" style="max-width:100%;" title="'+((KE&&KE[0])||"")+'" /></body>';var m=window.open();m.document.write(v1)}}};aM("saveAsImage",qw);var uA=Ek.toolbox.magicType;var E4="__ec_magicType_stack__";function nB(e){this.model=e}nB.defaultOption={show:true,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:E5(uA.title),option:{},seriesIndex:{}};var cr=nB.prototype;cr.getIcons=function(){var e=this.model;var k=e.get("icon");var i={};qg(e.get("type"),function(m){if(k[m]){i[m]=k[m]}});return i};var vT={line:function(i,m,e,k){if(i==="bar"){return xF({id:m,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},k.get("option.line")||{},true)}},bar:function(i,m,e,k){if(i==="line"){return xF({id:m,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},k.get("option.bar")||{},true)}},stack:function(k,v,i,m){var e=i.get("stack")===E4;if(k==="line"||k==="bar"){m.setIconStatus("stack",e?"normal":"emphasis");return xF({id:v,stack:e?"":E4},m.get("option.stack")||{},true)}}};var tw=[["line","bar"],["stack"]];cr.onclick=function(v,Z,v2){var m=this.model;var k=m.get("seriesIndex."+v2);if(!vT[v2]){return}var on={series:[]};var i=function(v3){var KA=v3.subType;var KF=v3.id;var KI=vT[v2](KA,KF,v3,m);if(KI){Fg(KI,v3.option);on.series.push(KI)}var Kz=v3.coordinateSystem;if(Kz&&Kz.type==="cartesian2d"&&(v2==="line"||v2==="bar")){var KC=Kz.getAxesByScale("ordinal")[0];if(KC){var KD=KC.dim;var KG=KD+"Axis";var KE=v.queryComponents({mainType:KG,index:v3.get(name+"Index"),id:v3.get(name+"Id")})[0];var KH=KE.componentIndex;on[KG]=on[KG]||[];for(var KB=0;KB<=KH;KB++){on[KG][KH]=on[KG][KH]||{}}on[KG][KH].boundaryGap=v2==="bar"}}};qg(tw,function(v3){if(fc(v3,v2)>=0){qg(v3,function(Kz){m.setIconStatus(Kz,"normal")})}});m.setIconStatus(v2,"emphasis");v.eachComponent({mainType:"series",query:k==null?null:{seriesIndex:k}},i);var e;if(v2==="stack"){var v1=on.series&&on.series[0]&&on.series[0].stack===E4;e=v1?xF({stack:uA.title.tiled},uA.title):E5(uA.title)}Z.dispatchAction({type:"changeMagicType",currentType:v2,newOption:on,newTitle:e,featureName:"magicType"})};ce({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(i,e){e.mergeOption(i.newOption)});aM("magicType",nB);var Gs=Ek.toolbox.dataView;var fP=new Array(60).join("-");var JZ="\t";function fr(e){var i={};var m=[];var k=[];e.eachRawSeries(function(v){var on=v.coordinateSystem;if(on&&(on.type==="cartesian2d"||on.type==="polar")){var v1=on.getBaseAxis();if(v1.type==="category"){var Z=v1.dim+"_"+v1.index;if(!i[Z]){i[Z]={categoryAxis:v1,valueAxis:on.getOtherAxis(v1),series:[]};k.push({axisDim:v1.dim,axisIndex:v1.index})}i[Z].series.push(v)}else{m.push(v)}}else{m.push(v)}});return{seriesGroupByCategoryAxis:i,other:m,meta:k}}function kj(i){var e=[];qg(i,function(v3,Kz){var on=v3.categoryAxis;var KA=v3.valueAxis;var v1=KA.dim;var k=[" "].concat(Gj(v3.series,function(KC){return KC.name}));var m=[on.model.getCategories()];qg(v3.series,function(KC){var KD=KC.getRawData();m.push(KC.getRawData().mapArray(KD.mapDimension(v1),function(KE){return KE}))});var KB=[k.join(JZ)];for(var Z=0;Z<m[0].length;Z++){var v2=[];for(var v=0;v<m.length;v++){v2.push(m[v][Z])}KB.push(v2.join(JZ))}e.push(KB.join("\n"))});return e.join("\n\n"+fP+"\n\n")}function mE(e){return Gj(e,function(k){var v=k.getRawData();var i=[k.name];var m=[];v.each(v.dimensions,function(){var Z=arguments.length;var v2=arguments[Z-1];var on=v.getName(v2);for(var v1=0;v1<Z-1;v1++){m[v1]=arguments[v1]}i.push((on?(on+JZ):"")+m.join(JZ))});return i.join("\n")}).join("\n\n"+fP+"\n\n")}function yJ(i){var e=fr(i);return{value:sk([kj(e.seriesGroupByCategoryAxis),mE(e.other)],function(k){return k.replace(/[\n\t\s]/g,"")}).join("\n\n"+fP+"\n\n"),meta:e.meta}}function cN(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ba(i){var e=i.slice(0,i.indexOf("\n"));if(e.indexOf(JZ)>=0){return true}}var z8=new RegExp("["+JZ+"]+","g");function Kg(v2){var on=v2.split(/\n+/g);var v1=cN(on.shift()).split(z8);var k=[];var Z=Gj(v1,function(i){return{name:i,data:[]}});for(var v=0;v<on.length;v++){var e=cN(on[v]).split(z8);k.push(e.shift());for(var m=0;m<e.length;m++){Z[m]&&(Z[m].data[v]=e[m])}}return{series:Z,categories:k}}function dA(v1){var Kz=v1.split(/\n+/g);var v2=cN(Kz.shift());var m=[];for(var v=0;v<Kz.length;v++){var KA=cN(Kz[v]);if(!KA){continue}var on=KA.split(z8);var e="";var v3;var Z=false;if(isNaN(on[0])){Z=true;e=on[0];on=on.slice(1);m[v]={name:e,value:[]};v3=m[v].value}else{v3=m[v]=[]}for(var k=0;k<on.length;k++){v3.push(+on[k])}if(v3.length===1){Z?(m[v].value=v3[0]):(m[v]=v3[0])}}return{name:v2,data:m}}function Is(m,k){var i=m.split(new RegExp("\n*"+fP+"\n*","g"));var e={series:[]};qg(i,function(v2,Z){if(Ba(v2)){var v=Kg(v2);var v1=k[Z];var on=v1.axisDim+"Axis";if(v1){e[on]=e[on]||[];e[on][v1.axisIndex]={data:v.categories};e.series=e.series.concat(v.series)}}else{var v=dA(v2);e.series.push(v)}});return e}function m4(e){this._dom=null;this.model=e}m4.defaultOption={show:true,readOnly:false,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:E5(Gs.title),lang:E5(Gs.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};m4.prototype.onclick=function(KI,v1){var on=v1.getDom();var k=this.model;if(this._dom){on.removeChild(this._dom)}var KA=document.createElement("div");KA.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";KA.style.backgroundColor=k.get("backgroundColor")||"#fff";var KC=document.createElement("h4");var m=k.get("lang")||[];KC.innerHTML=m[0]||k.get("title");KC.style.cssText="margin: 10px 20px;";KC.style.color=k.get("textColor");var KH=document.createElement("div");var v3=document.createElement("textarea");KH.style.cssText="display:block;width:100%;overflow:auto;";var KB=k.get("optionToContent");var v=k.get("contentToOption");var Z=yJ(KI);if(typeof KB==="function"){var KG=KB(v1.getOption());if(typeof KG==="string"){KH.innerHTML=KG}else{if(aF(KG)){KH.appendChild(KG)}}}else{KH.appendChild(v3);v3.readOnly=k.get("readOnly");v3.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;";v3.style.color=k.get("textColor");v3.style.borderColor=k.get("textareaBorderColor");v3.style.backgroundColor=k.get("textareaColor");v3.value=Z.value}var KE=Z.meta;var KD=document.createElement("div");KD.style.cssText="position:absolute;bottom:0;left:0;right:0;";var KF="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px";var e=document.createElement("div");var i=document.createElement("div");KF+=";background-color:"+k.get("buttonColor");KF+=";color:"+k.get("buttonTextColor");var Kz=this;function v2(){on.removeChild(KA);Kz._dom=null}fR(e,"click",v2);fR(i,"click",function(){var KJ;try{if(typeof v==="function"){KJ=v(KH,v1.getOption())}else{KJ=Is(v3.value,KE)}}catch(KK){v2();throw new Error("Data view format error "+KK)}if(KJ){v1.dispatchAction({type:"changeDataView",newOption:KJ})}v2()});e.innerHTML=m[1];i.innerHTML=m[2];i.style.cssText=KF;e.style.cssText=KF;!k.get("readOnly")&&KD.appendChild(i);KD.appendChild(e);KA.appendChild(KC);KA.appendChild(KH);KA.appendChild(KD);KH.style.height=(on.clientHeight-80)+"px";on.appendChild(KA);this._dom=KA};m4.prototype.remove=function(e,i){this._dom&&i.getDom().removeChild(this._dom)};m4.prototype.dispose=function(e,i){this.remove(e,i)};function tM(e,i){return Gj(e,function(v,k){var Z=i&&i[k];if(u7(Z)&&!IQ(Z)){var m=u7(v)&&!IQ(v);if(!m){v={value:v}}var on=Z.name!=null&&v.name==null;v=Fg(v,Z);on&&(delete v.name);return v}else{return v}})}aM("dataView",m4);ce({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(k,e){var i=[];qg(k.newOption.series,function(m){var v=e.getSeriesByName(m.name)[0];if(!v){i.push(cc({type:"scatter"},m))}else{var Z=v.get("data");i.push({name:m.name,data:tM(m.data,Z)})}});e.mergeOption(Fg({series:i},k.newOption))});var vf=qg;var i3=fc;var vH=tT;var oS=["dataToPoint","pointToData"];var E7=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function Fo(v,e,m){var i=this._targetInfoList=[];var Z={};var k=Bi(e,v);vf(JN,function(on,v1){if(!m||!m.include||i3(m.include,v1)>=0){on(k,i,Z)}})}var cp=Fo.prototype;cp.setOutputRanges=function(i,e){this.matchOutputRanges(i,e,function(v,Z,m){(v.coordRanges||(v.coordRanges=[])).push(Z);if(!v.coordRange){v.coordRange=Z;var k=xr[v.brushType](0,m,Z);v.__rangeOffset={offset:u2[v.brushType](k.values,v.range,[1,1]),xyMinMax:k.xyMinMax}}})};cp.matchOutputRanges=function(k,i,e){vf(k,function(m){var v=this.findTargetInfo(m,i);if(v&&v!==true){qg(v.coordSyses,function(on){var Z=xr[m.brushType](1,on,m.range);e(m,Z.values,on,i)})}},this)};cp.setInputRanges=function(i,e){vf(i,function(m){var Z=this.findTargetInfo(m,e);if(pm){bY(!Z||Z===true||m.coordRange,"coordRange must be specified when coord index specified.");bY(!Z||Z!==true||m.range,"range must be specified in global brush.")}m.range=m.range||[];if(Z&&Z!==true){m.panelId=Z.panelId;var k=xr[m.brushType](0,Z.coordSys,m.coordRange);var v=m.__rangeOffset;m.range=v?u2[m.brushType](k.values,v.offset,Gn(k.xyMinMax,v.xyMinMax)):k.values}},this)};cp.makePanelOpts=function(i,e){return Gj(this._targetInfoList,function(m){var k=m.getPanelRect();return{panelId:m.panelId,defaultBrushType:e&&e(m),clipPath:Hl(k),isTargetByCursor:rY(k,i,m.coordSysModel),getLinearBrushOtherExtent:w9(k)}})};cp.controlSeries=function(k,i,e){var m=this.findTargetInfo(k,e);return m===true||(m&&i3(m.coordSyses,i.coordinateSystem)>=0)};cp.findTargetInfo=function(on,e){var k=this._targetInfoList;var m=Bi(e,on);for(var Z=0;Z<k.length;Z++){var v1=k[Z];var v=on.panelId;if(v){if(v1.panelId===v){return v1}}else{for(var Z=0;Z<z9.length;Z++){if(z9[Z](m,v1)){return v1}}}}return true};function l9(e){e[0]>e[1]&&e.reverse();return e}function Bi(e,i){return oD(e,i,{includeMainTypes:E7})}var JN={grid:function(i,e){var k=i.xAxisModels;var v1=i.yAxisModels;var Z=i.gridModels;var on=EI();var v={};var m={};if(!k&&!v1&&!Z){return}vf(k,function(v2){var v3=v2.axis.grid.model;on.set(v3.id,v3);v[v3.id]=true});vf(v1,function(v2){var v3=v2.axis.grid.model;on.set(v3.id,v3);m[v3.id]=true});vf(Z,function(v2){on.set(v2.id,v2);v[v2.id]=true;m[v2.id]=true});on.each(function(Kz){var v2=Kz.coordinateSystem;var v3=[];vf(v2.getCartesians(),function(KB,KA){if(i3(k,KB.getAxis("x").model)>=0||i3(v1,KB.getAxis("y").model)>=0){v3.push(KB)}});e.push({panelId:"grid--"+Kz.id,gridModel:Kz,coordSysModel:Kz,coordSys:v3[0],coordSyses:v3,getPanelRect:pp.grid,xAxisDeclared:v[Kz.id],yAxisDeclared:m[Kz.id]})})},geo:function(i,e){vf(i.geoModels,function(k){var m=k.coordinateSystem;e.push({panelId:"geo--"+k.id,geoModel:k,coordSysModel:k,coordSys:m,coordSyses:[m],getPanelRect:pp.geo})})}};var z9=[function(i,v){var e=i.xAxisModel;var k=i.yAxisModel;var m=i.gridModel;!m&&e&&(m=e.axis.grid.model);!m&&k&&(m=k.axis.grid.model);return m&&m===v.gridModel},function(i,k){var e=i.geoModel;return e&&e===k.geoModel}];var pp={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys;var i=e.getBoundingRect().clone();i.applyTransform(aP(e));return i}};var xr={lineX:vH(li,0),lineY:vH(li,1),rect:function(Z,i,v){var m=i[oS[Z]]([v[0][0],v[1][0]]);var k=i[oS[Z]]([v[0][1],v[1][1]]);var e=[l9([m[0],k[0]]),l9([m[1],k[1]])];return{values:e,xyMinMax:e}},polygon:function(v,k,m){var e=[[Infinity,-Infinity],[Infinity,-Infinity]];var i=Gj(m,function(Z){var on=k[oS[v]](Z);e[0][0]=Math.min(e[0][0],on[0]);e[1][0]=Math.min(e[1][0],on[1]);e[0][1]=Math.max(e[0][1],on[0]);e[1][1]=Math.max(e[1][1],on[1]);return on});return{values:i,xyMinMax:e}}};function li(k,on,m,Z){if(pm){bY(m.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.")}var v=m.getAxis(["x","y"][k]);var i=l9(Gj([0,1],function(v1){return on?v.coordToData(v.toLocalCoord(Z[v1])):v.toGlobalCoord(v.dataToCoord(Z[v1]))}));var e=[];e[k]=i;e[1-k]=[NaN,NaN];return{values:i,xyMinMax:e}}var u2={lineX:vH(oq,0),lineY:vH(oq,1),rect:function(e,i,k){return[[e[0][0]-k[0]*i[0][0],e[0][1]-k[0]*i[0][1]],[e[1][0]-k[1]*i[1][0],e[1][1]-k[1]*i[1][1]]]},polygon:function(e,i,k){return Gj(e,function(v,m){return[v[0]-k[0]*i[m][0],v[1]-k[1]*i[m][1]]})}};function oq(i,e,k,m){return[e[0]-m[i]*k[0],e[1]-m[i]*k[1]]}function Gn(v,e){var k=Jm(v);var i=Jm(e);var m=[k[0]/i[0],k[1]/i[1]];isNaN(m[0])&&(m[0]=1);isNaN(m[1])&&(m[1]=1);return m}function Jm(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var ve=qg;var bB="\0_ec_hist_store";function zW(e,k){var i=pP(e);ve(k,function(v1,v){var on=i.length-1;for(;on>=0;on--){var Z=i[on];if(Z[v]){break}}if(on<0){var v2=e.queryComponents({mainType:"dataZoom",subType:"select",id:v})[0];if(v2){var m=v2.getPercentRange();i[0][v]={dataZoomId:v,start:m[0],end:m[1]}}}});i.push(k)}function Do(e){var k=pP(e);var m=k[k.length-1];k.length>1&&k.pop();var i={};ve(m,function(on,v){for(var Z=k.length-1;Z>=0;Z--){var on=k[Z][v];if(on){i[v]=on;break}}});return i}function Gv(e){e[bB]=null}function Fz(e){return pP(e).length}function pP(e){var i=e[bB];if(!i){i=e[bB]=[{}]}return i}aO.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var O=["x","y","z","radius","angle","single"];var w=["cartesian2d","polar","singleAxis"];function EE(e){return fc(w,e)>=0}function cV(m,i){m=m.slice();var k=Gj(m,uE);i=(i||[]).slice();var e=Gj(i,uE);return function(Z,v){qg(m,function(v2,v1){var v3={name:v2,capital:k[v1]};for(var on=0;on<i.length;on++){v3[i[on]]=v2+e[on]}Z.call(v,v3)})}}var jr=cV(O,["axisIndex","axis","index","id"]);function q9(m,e,i){return function(v2){var on={nodes:[],records:{}};e(function(Kz){on.records[Kz.name]={}});if(!v2){return on}v(v2,on);var v3;do{v3=false;m(v1)}while(v3);function v1(Kz){if(!Z(Kz,on)&&k(Kz,on)){v(Kz,on);v3=true}}return on};function Z(v1,on){return fc(on.nodes,v1)>=0}function k(v2,on){var v1=false;e(function(v3){qg(i(v2,v3)||[],function(Kz){on.records[v3.name][Kz]&&(v1=true)})});return v1}function v(v1,on){on.nodes.push(v1);e(function(v2){qg(i(v1,v2)||[],function(v3){on.records[v2.name][v3]=true})})}}var uV=qg;var G5=qe;var gD=function(k,i,m,e){this._dimName=k;this._axisIndex=i;this._valueWindow;this._percentWindow;this._dataExtent;this._minMaxSpan;this.ecModel=e;this._dataZoomModel=m};gD.prototype={constructor:gD,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var i=[];var e=this.ecModel;e.eachSeries(function(k){if(EE(k.get("coordinateSystem"))){var v=this._dimName;var m=e.queryComponents({mainType:v+"Axis",index:k.get(v+"AxisIndex"),id:k.get(v+"AxisId")})[0];if(this._axisIndex===(m&&m.componentIndex)){i.push(k)}}},this);return i},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var k=this._dimName;var e=this.ecModel;var i=this.getAxisModel();var on=k==="x"||k==="y";var v;var m;if(on){m="gridIndex";v=k==="x"?"y":"x"}else{m="polarIndex";v=k==="angle"?"radius":"angle"}var Z;e.eachComponent(v+"Axis",function(v1){if((v1.get(m)||0)===(i.get(m)||0)){Z=v1}});return Z},getMinMaxSpan:function(){return E5(this._minMaxSpan)},calculateDataWindow:function(e){var Kz=this._dataExtent;var v3=this.getAxisModel();var m=v3.axis.scale;var i=this._dataZoomModel.getRangePropMode();var v2=[0,100];var Z=[];var v=[];var k;uV(["start","end"],function(KD,KA){var KB=e[KD];var KC=e[KD+"Value"];if(i[KA]==="percent"){KB==null&&(KB=v2[KA]);KC=m.parse(GV(KB,v2,Kz))}else{k=true;KC=KC==null?Kz[KA]:m.parse(KC);KB=GV(KC,Kz,v2)}v[KA]=KC;Z[KA]=KB});G5(v);G5(Z);var on=this._minMaxSpan;k?v1(v,Z,Kz,v2,false):v1(Z,v,v2,Kz,true);function v1(KC,KA,KG,KF,KB){var KE=KB?"Span":"ValueSpan";ot(0,KC,KG,"all",on["min"+KE],on["max"+KE]);for(var KD=0;KD<2;KD++){KA[KD]=GV(KC[KD],KG,KF,true);KB&&(KA[KD]=m.parse(KA[KD]))}}return{valueWindow:v,percentWindow:Z}},reset:function(k){if(k!==this._dataZoomModel){return}var e=this.getTargetSeriesModels();this._dataExtent=u9(this,this._dimName,e);xQ(this);var i=this.calculateDataWindow(k.settledOption);this._valueWindow=i.valueWindow;this._percentWindow=i.percentWindow;F0(this)},restore:function(e){if(e!==this._dataZoomModel){return}this._valueWindow=this._percentWindow=null;F0(this,true)},filterData:function(on,k){if(on!==this._dataZoomModel){return}var i=this._dimName;var e=this.getTargetSeriesModels();var Z=on.get("filterMode");var m=this._valueWindow;if(Z==="none"){return}uV(e,function(v1){var v2=v1.getData();var v3=v2.mapDimension(i,true);if(!v3.length){return}if(Z==="weakFilter"){v2.filterSelf(function(KD){var KH;var KA;var KG;for(var KB=0;KB<v3.length;KB++){var KE=v2.get(v3[KB],KD);var KF=!isNaN(KE);var KC=KE<m[0];var Kz=KE>m[1];if(KF&&!KC&&!Kz){return true}KF&&(KG=true);KC&&(KH=true);Kz&&(KA=true)}return KG&&KH&&KA})}else{uV(v3,function(KA){if(Z==="empty"){v1.setData(v2=v2.map(KA,function(KB){return !v(KB)?NaN:KB}))}else{var Kz={};Kz[KA]=m;v2.selectRange(Kz)}})}uV(v3,function(Kz){v2.setApproximateExtent(m,Kz)})});function v(v1){return v1>=m[0]&&v1<=m[1]}}};function u9(k,i,e){var m=[Infinity,-Infinity];uV(e,function(v){var Z=v.getData();if(Z){uV(Z.mapDimension(i,true),function(v1){var on=Z.getApproximateExtent(v1);on[0]<m[0]&&(m[0]=on[0]);on[1]>m[1]&&(m[1]=on[1])})}});if(m[1]<m[0]){m=[NaN,NaN]}qt(k,m);return m}function qt(v,on){var m=v.getAxisModel();var k=m.getMin(true);var Z=m.get("type")==="category";var i=Z&&m.getCategories().length;if(k!=null&&k!=="dataMin"&&typeof k!=="function"){on[0]=k}else{if(Z){on[0]=i>0?0:NaN}}var e=m.getMax(true);if(e!=null&&e!=="dataMax"&&typeof e!=="function"){on[1]=e}else{if(Z){on[1]=i>0?i-1:NaN}}if(!m.get("scale",true)){on[0]>0&&(on[0]=0);on[1]<0&&(on[1]=0)}return on}function F0(m,on){var k=m.getAxisModel();var i=m._percentWindow;var v=m._valueWindow;if(!i){return}var e=zQ(v,[0,500]);e=Math.min(e,20);var Z=on||(i[0]===0&&i[1]===100);k.setRange(Z?null:+v[0].toFixed(e),Z?null:+v[1].toFixed(e))}function xQ(e){var k=e._minMaxSpan={};var m=e._dataZoomModel;var i=e._dataExtent;uV(["min","max"],function(v){var Z=m.get(v+"Span");var on=m.get(v+"ValueSpan");on!=null&&(on=e.getAxisModel().axis.scale.parse(on));if(on!=null){Z=GV(i[0]+on,i,[0,100],true)}else{if(Z!=null){on=GV(Z,[0,100],i,true)-i[0]}}k[v+"Span"]=Z;k[v+"ValueSpan"]=on})}var vd=qg;var rZ=jr;var Ai=rg({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(m,k,e){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=true;this._rangePropMode=["percent","percent"];var i=s4(m);this.settledOption=i;this.mergeDefaultAndTheme(m,e);this.doInit(i)},mergeOption:function(i){var e=s4(i);xF(this.option,i,true);xF(this.settledOption,e,true);this.doInit(e)},doInit:function(e){var i=this.option;if(!uk.canvasSupported){i.realtime=false}this._setDefaultThrottle(e);a0(this,e);var k=this.settledOption;vd([["start","startValue"],["end","endValue"]],function(v,m){if(this._rangePropMode[m]==="value"){i[v[0]]=k[v[0]]=null}},this);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(k,v,on,i){var m=this.dependentModels[k.axis][v];var Z=m.__dzAxisProxy||(m.__dzAxisProxy=new gD(k.name,v,this,i));e[k.name+"_"+v]=Z},this)},_resetTarget:function(){var e=this.option;var i=this._judgeAutoMode();rZ(function(k){var m=k.axisIndex;e[m]=nk(e[m])},this);if(i==="axisIndex"){this._autoSetAxisIndex()}else{if(i==="orient"){this._autoSetOrient()}}},_judgeAutoMode:function(){var i=this.option;var k=false;rZ(function(m){if(i[m.axisIndex]!=null){k=true}},this);var e=i.orient;if(e==null&&k){return"orient"}else{if(!k){if(e==null){i.orient="horizontal"}return"axisIndex"}}},_autoSetAxisIndex:function(){var v=true;var e=this.get("orient",true);var i=this.option;var k=this.dependentModels;if(v){var m=e==="vertical"?"y":"x";if(k[m+"Axis"].length){i[m+"AxisIndex"]=[0];v=false}else{vd(k.singleAxis,function(Z){if(v&&Z.get("orient",true)===e){i.singleAxisIndex=[Z.componentIndex];v=false}})}}if(v){rZ(function(on){if(!v){return}var v3=[];var v2=this.dependentModels[on.axis];if(v2.length&&!v3.length){for(var v1=0,Z=v2.length;v1<Z;v1++){if(v2[v1].get("type")==="category"){v3.push(v1)}}}i[on.axisIndex]=v3;if(v3.length){v=false}},this)}if(v){this.ecModel.eachSeries(function(Z){if(this._isSeriesHasAllAxesTypeOf(Z,"value")){rZ(function(on){var Kz=i[on.axisIndex];var v2=Z.get(on.axisIndex);var v3=Z.get(on.axisId);var v1=Z.ecModel.queryComponents({mainType:on.axis,index:v2,id:v3})[0];if(pm){if(!v1){throw new Error(on.axis+' "'+g1(v2,v3,0)+'" not found')}}v2=v1.componentIndex;if(fc(Kz,v2)<0){Kz.push(v2)}})}},this)}},_autoSetOrient:function(){var e;this.eachTargetAxis(function(i){!e&&(e=i.name)},this);this.option.orient=e==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(i,e){var k=true;rZ(function(m){var Z=i.get(m.axisIndex);var v=this.dependentModels[m.axis][Z];if(!v||v.get("type")!==e){k=false}},this);return k},_setDefaultThrottle:function(i){if(i.hasOwnProperty("throttle")){this._autoThrottle=false}if(this._autoThrottle){var e=this.ecModel.option;this.option.throttle=(e.animation&&e.animationDurationUpdate>0)?100:20}},getFirstTargetAxisModel:function(){var e;rZ(function(i){if(e==null){var k=this.get(i.axisIndex);if(k.length){e=this.dependentModels[i.axis][k[0]]}}},this);return e},eachTargetAxis:function(k,i){var e=this.ecModel;rZ(function(m){vd(this.get(m.axisIndex),function(v){k.call(i,m,v,this,e)},this)},this)},getAxisProxy:function(i,e){return this._axisProxies[i+"_"+e]},getAxisModel:function(k,e){var i=this.getAxisProxy(k,e);return i&&i.getAxisModel()},setRawRange:function(i){var e=this.option;var k=this.settledOption;vd([["start","startValue"],["end","endValue"]],function(m){if(i[m[0]]!=null||i[m[1]]!=null){e[m[0]]=k[m[0]]=i[m[0]];e[m[1]]=k[m[1]]=i[m[1]]}},this);a0(this,i)},setCalculatedRange:function(e){var i=this.option;vd(["start","startValue","end","endValue"],function(k){i[k]=e[k]})},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e){return e.getDataPercentWindow()}},getValueRange:function(i,e){if(i==null&&e==null){var k=this.findRepresentativeAxisProxy();if(k){return k.getDataValueWindow()}}else{return this.getAxisProxy(i,e).getDataValueWindow()}},findRepresentativeAxisProxy:function(i){if(i){return i.__dzAxisProxy}var k=this._axisProxies;for(var e in k){if(k.hasOwnProperty(e)&&k[e].hostedBy(this)){return k[e]}}for(var e in k){if(k.hasOwnProperty(e)&&!k[e].hostedBy(this)){return k[e]}}},getRangePropMode:function(){return this._rangePropMode.slice()}});function s4(i){var e={};vd(["start","end","startValue","endValue","throttle"],function(k){i.hasOwnProperty(k)&&(e[k]=i[k])});return e}function a0(m,k){var i=m._rangePropMode;var e=m.get("rangeMode");vd([["start","startValue"],["end","endValue"]],function(on,Z){var v1=k[on[0]]!=null;var v=k[on[1]]!=null;if(v1&&!v){i[Z]="percent"}else{if(!v1&&v){i[Z]="value"}else{if(e){i[Z]=e[Z]}else{if(v1){i[Z]="percent"}}}}})}var Ga=FY.extend({type:"dataZoom",render:function(m,e,i,k){this.dataZoomModel=m;this.ecModel=e;this.api=i},getTargetCoordInfo:function(){var m=this.dataZoomModel;var e=this.ecModel;var i={};m.eachTargetAxis(function(v,on){var Z=e.getComponent(v.axis,on);if(Z){var v1=Z.getCoordSysModel();v1&&k(v1,Z,i[v1.mainType]||(i[v1.mainType]=[]),v1.componentIndex)}},this);function k(v3,on,v,v2){var v1;for(var Z=0;Z<v.length;Z++){if(v[Z].model===v3){v1=v[Z];break}}if(!v1){v.push(v1={model:v3,axisModels:[],coordIndex:v2})}v1.axisModels.push(on)}return i}});Ai.extend({type:"dataZoom.select"});Ga.extend({type:"dataZoom.select"});ex({getTargetSeries:function(e){var i=EI();e.eachComponent("dataZoom",function(k){k.eachTargetAxis(function(m,v,on){var Z=on.getAxisProxy(m.name,v);qg(Z.getTargetSeriesModels(),function(v1){i.set(v1.uid,v1)})})});return i},modifyOutputEnd:true,overallReset:function(e,i){e.eachComponent("dataZoom",function(k){k.eachTargetAxis(function(m,v,Z){Z.getAxisProxy(m.name,v).reset(Z,i)});k.eachTargetAxis(function(m,v,Z){Z.getAxisProxy(m.name,v).filterData(Z,i)})});e.eachComponent("dataZoom",function(Z){var m=Z.findRepresentativeAxisProxy();var k=m.getDataPercentWindow();var v=m.getDataValueWindow();Z.setCalculatedRange({start:k[0],end:k[1],startValue:v[0],endValue:v[1]})})}});ce("dataZoom",function(i,e){var k=q9(k9(e.eachComponent,e,"dataZoom"),jr,function(Z,v){return Z.get(v.axisIndex)});var m=[];e.eachComponent({mainType:"dataZoom",query:i},function(Z,v){m.push.apply(m,k(Z).nodes)});qg(m,function(Z,v){Z.setRawRange({start:i.start,end:i.end,startValue:i.startValue,endValue:i.endValue})})});var nN=Ek.toolbox.dataZoom;var vg=qg;var dF="\0_ec_\0toolbox-dataZoom_";function vB(i,e,k){(this._brushController=new lk(k.getZr())).on("brush",k9(this._onBrush,this)).mount();this._isZoomActive}vB.defaultOption={show:true,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:E5(nN.title),brushStyle:{borderWidth:0,color:"rgba(0,0,0,0.2)"}};var cq=vB.prototype;cq.render=function(m,e,i,k){this.model=m;this.ecModel=e;this.api=i;iz(m,e,this,k,i);rS(m,e)};cq.onclick=function(e,k,i){si[i].call(this)};cq.remove=function(e,i){this._brushController.unmount()};cq.dispose=function(e,i){this._brushController.dispose()};var si={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(Do(this.ecModel))}};cq._onBrush=function(k,v){if(!v.isEnd||!k.length){return}var i={};var e=this.ecModel;this._brushController.updateCovers([]);var on=new Fo(qS(this.model.option),e,{include:["grid"]});on.matchOutputRanges(k,e,function(v2,Kz,v1){if(v1.type!=="cartesian2d"){return}var v3=v2.brushType;if(v3==="rect"){Z("x",v1,Kz[0]);Z("y",v1,Kz[1])}else{Z(({lineX:"x",lineY:"y"})[v3],v1,Kz)}});zW(e,i);this._dispatchZoomAction(i);function Z(KB,v3,v1){var Kz=v3.getAxis(KB);var v2=Kz.model;var KC=m(KB,v2,e);var KA=KC.findRepresentativeAxisProxy(v2).getMinMaxSpan();if(KA.minValueSpan!=null||KA.maxValueSpan!=null){v1=ot(0,v1.slice(),Kz.scale.getExtent(),0,KA.minValueSpan,KA.maxValueSpan)}KC&&(i[KC.id]={dataZoomId:KC.id,startValue:v1[0],endValue:v1[1]})}function m(Kz,v2,v1){var v3;v1.eachComponent({mainType:"dataZoom",subType:"select"},function(KB){var KA=KB.getAxisModel(Kz,v2.componentIndex);KA&&(v3=KB)});return v3}};cq._dispatchZoomAction=function(e){var i=[];vg(e,function(m,k){i.push(E5(m))});i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})};function qS(i){var e={};qg(["xAxisIndex","yAxisIndex"],function(k){e[k]=i[k];e[k]==null&&(e[k]="all");(e[k]===false||e[k]==="none")&&(e[k]=[])});return e}function rS(i,e){i.setIconStatus("back",Fz(e)>1?"emphasis":"normal")}function iz(Z,e,i,v,m){var on=i._isZoomActive;if(v&&v.type==="takeGlobalCursor"){on=v.key==="dataZoomSelect"?v.dataZoomSelectActive:false}i._isZoomActive=on;Z.setIconStatus("zoom",on?"emphasis":"normal");var k=new Fo(qS(Z.option),e,{include:["grid"]});i._brushController.setPanels(k.makePanelOpts(m,function(v1){return(v1.xAxisDeclared&&!v1.yAxisDeclared)?"lineX":(!v1.xAxisDeclared&&v1.yAxisDeclared)?"lineY":"rect"})).enableBrush(on?{brushType:"auto",brushStyle:Z.getModel("brushStyle").getItemStyle()}:false)}aM("dataZoom",vB);AO(function(k){if(!k){return}var v=k.dataZoom||(k.dataZoom=[]);if(!IQ(v)){k.dataZoom=v=[v]}var Z=k.toolbox;if(Z){if(IQ(Z)){Z=Z[0]}if(Z&&Z.feature){var i=Z.feature.dataZoom;e("xAxis",i);e("yAxis",i)}}function e(v3,v1){if(!v1){return}var on=v3+"Index";var v2=v1[on];if(v2!=null&&v2!=="all"&&!IQ(v2)){v2=(v2===false||v2==="none")?[]:[v2]}m(v3,function(Kz,KA){if(v2!=null&&v2!=="all"&&fc(v2,KA)===-1){return}var KB={type:"select",$fromToolbox:true,filterMode:v1.filterMode||"filter",id:dF+v3+KA};KB[on]=KA;v.push(KB)})}function m(v2,on){var v1=k[v2];if(!IQ(v1)){v1=v1?[v1]:[]}vg(v1,on)}});var u1=Ek.toolbox.restore;function xs(e){this.model=e}xs.defaultOption={show:true,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:u1.title};var co=xs.prototype;co.onclick=function(e,k,i){Gv(e);k.dispatchAction({type:"restore",from:this.uid})};aM("restore",xs);ce({type:"restore",event:"restore",update:"prepareAndUpdate"},function(i,e){e.resetOption("recreate")});rg({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:true,showContent:true,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:false,displayMode:"single",renderMode:"auto",confine:false,showDelay:0,hideDelay:100,transitionDuration:0.4,enterable:false,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var uS=qg;var jA=sv;var rz=["","-webkit-","-moz-","-o-"];var bJ="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function nE(k){var i="cubic-bezier(0.23, 1, 0.32, 1)";var e="left "+k+"s "+i+",top "+k+"s "+i;return Gj(rz,function(m){return m+"transition:"+e}).join(";")}function DB(on){var e=[];var v2=on.get("fontSize");var k=on.getTextColor();k&&e.push("color:"+k);e.push("font:"+on.getFont());var v1=on.get("lineHeight");if(v1==null){v1=Math.round(v2*3/2)}v2&&e.push("line-height:"+v1+"px");var Z=on.get("textShadowColor");var v=on.get("textShadowBlur")||0;var m=on.get("textShadowOffsetX")||0;var i=on.get("textShadowOffsetY")||0;v&&e.push("text-shadow:"+m+"px "+i+"px "+v+"px "+Z);uS(["decoration","align"],function(v3){var Kz=on.get(v3);Kz&&e.push("text-"+v3+":"+Kz)});return e.join(";")}function n1(v){var m=[];var e=v.get("transitionDuration");var i=v.get("backgroundColor");var k=v.getModel("textStyle");var Z=v.get("padding");e&&m.push(nE(e));if(i){if(uk.canvasSupported){m.push("background-Color:"+i)}else{m.push("background-Color:#"+A5(i));m.push("filter:alpha(opacity=70)")}}uS(["width","color","radius"],function(v1){var on="border-"+v1;var v2=jA(on);var v3=v.get(v2);v3!=null&&m.push(on+":"+v3+(v1==="color"?"":"px"))});m.push(DB(k));if(Z!=null){m.push("padding:"+Db(Z).join("px ")+"px")}return m.join(";")+";"}function uU(v,on,v1,m,k){var Z=on&&on.painter;if(v1){var e=Z&&Z.getViewportRoot();if(e){G7(v,e,document.body,m,k)}}else{v[0]=m;v[1]=k;var i=Z&&Z.getViewportRootOffset();if(i){v[0]+=i.offsetLeft;v[1]+=i.offsetTop}}v[2]=v[0]/on.getWidth();v[3]=v[1]/on.getHeight()}function u(e,v,k){if(uk.wxa){return null}var m=document.createElement("div");m.domBelongToZr=true;this.el=m;var Z=this._zr=v.getZr();var on=this._appendToBody=k&&k.appendToBody;this._styleCoord=[0,0,0,0];uU(this._styleCoord,Z,on,v.getWidth()/2,v.getHeight()/2);if(on){document.body.appendChild(m)}else{e.appendChild(m)}this._container=e;this._show=false;this._hideTimeout;var i=this;m.onmouseenter=function(){if(i._enterable){clearTimeout(i._hideTimeout);i._show=true}i._inContent=true};m.onmousemove=function(v3){v3=v3||window.event;if(!i._enterable){var v2=Z.handler;var v1=Z.painter.getViewportRoot();C4(v1,v3,true);v2.dispatch("mousemove",v3)}};m.onmouseleave=function(){if(i._enterable){if(i._show){i.hideLater(i._hideDelay)}}i._inContent=false}}u.prototype={constructor:u,_enterable:true,update:function(v){var e=this._container;var m=e.currentStyle||document.defaultView.getComputedStyle(e);var k=e.style;if(k.position!=="absolute"&&m.position!=="absolute"){k.position="relative"}var i=v.get("alwaysShowContent");i&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[2];var m=this._styleCoord[3];var k=e*this._zr.getWidth();var i=m*this._zr.getHeight();this.moveTo(k,i)},show:function(k){clearTimeout(this._hideTimeout);var i=this.el;var e=this._styleCoord;i.style.cssText=bJ+n1(k)+";left:"+e[0]+"px;top:"+e[1]+"px;"+(k.get("extraCssText")||"");i.style.display=i.innerHTML?"block":"none";i.style.pointerEvents=this._enterable?"auto":"none";this._show=true},setContent:function(e){this.el.innerHTML=e==null?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(i,e){var m=this._styleCoord;uU(m,this._zr,this._appendToBody,i,e);var k=this.el.style;k.left=m[0]+"px";k.top=m[1]+"px"},hide:function(){this.el.style.display="none";this._show=false},hideLater:function(e){if(this._show&&!(this._inContent&&this._enterable)){if(e){this._hideDelay=e;this._show=false;this._hideTimeout=setTimeout(k9(this.hide,this),e)}else{this.hide()}}},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var k=this.el.clientWidth;var e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(this.el);if(i){k+=parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10);e+=parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)}}return{width:k,height:e}}};function dY(k,m,i,e){k[0]=i;k[1]=e;k[2]=k[0]/m.getWidth();k[3]=k[1]/m.getHeight()}function FL(e){var i=this._zr=e.getZr();this._styleCoord=[0,0,0,0];dY(this._styleCoord,i,e.getWidth()/2,e.getHeight()/2);this._show=false;this._hideTimeout}FL.prototype={constructor:FL,_enterable:true,update:function(i){var e=i.get("alwaysShowContent");e&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[2];var m=this._styleCoord[3];var k=e*this._zr.getWidth();var i=m*this._zr.getHeight();this.moveTo(k,i)},show:function(e){if(this._hideTimeout){clearTimeout(this._hideTimeout)}this.el.attr("show",true);this._show=true},setContent:function(Z,v3,v2){if(this.el){this._zr.remove(this.el)}var i={};var Kz=Z;var v="{marker";var KA="|}";var k=Kz.indexOf(v);while(k>=0){var m=Kz.indexOf(KA);var e=Kz.substr(k+v.length,m-k-v.length);if(e.indexOf("sub")>-1){i["marker"+e]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:v3[e],textOffset:[3,0]}}else{i["marker"+e]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:v3[e]}}Kz=Kz.substr(m+1);k=Kz.indexOf("{marker")}var on=v2.getModel("textStyle");var KC=on.get("fontSize");var v1=v2.get("textLineHeight");if(v1==null){v1=Math.round(KC*3/2)}this.el=new jv({style:ql({},on,{rich:i,text:Z,textBackgroundColor:v2.get("backgroundColor"),textBorderRadius:v2.get("borderRadius"),textFill:v2.get("textStyle.color"),textPadding:v2.get("padding"),textLineHeight:v1}),z:v2.get("z")});this._zr.add(this.el);var KB=this;this.el.on("mouseover",function(){if(KB._enterable){clearTimeout(KB._hideTimeout);KB._show=true}KB._inContent=true});this.el.on("mouseout",function(){if(KB._enterable){if(KB._show){KB.hideLater(KB._hideDelay)}}KB._inContent=false})},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el.getBoundingRect();return[e.width,e.height]},moveTo:function(e,k){if(this.el){var i=this._styleCoord;dY(i,this._zr,e,k);this.el.attr("position",[i[0],i[1]])}},hide:function(){if(this.el){this.el.hide()}this._show=false},hideLater:function(e){if(this._show&&!(this._inContent&&this._enterable)){if(e){this._hideDelay=e;this._show=false;this._hideTimeout=setTimeout(k9(this.hide,this),e)}else{this.hide()}}},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout);if(this.el){this._zr.remove(this.el)}},getOuterSize:function(){var e=this.getSize();return{width:e[0],height:e[1]}}};var qH=k9;var uT=qg;var By=BD;var aT=new GM({shape:{x:-1,y:-1,width:2,height:2}});rL({type:"tooltip",init:function(e,k){if(uk.node){return}var i=e.getComponent("tooltip");var v=i.get("renderMode");this._renderMode=AW(v);var m;if(this._renderMode==="html"){m=new u(k.getDom(),k,{appendToBody:i.get("appendToBody",true)});this._newLine="<br/>"}else{m=new FL(k);this._newLine="\n"}this._tooltipContent=m},render:function(k,e,i){if(uk.node){return}this.group.removeAll();this._tooltipModel=k;this._ecModel=e;this._api=i;this._lastDataByCoordSys=null;this._alwaysShowContent=k.get("alwaysShowContent");var m=this._tooltipContent;m.update(k);m.setEnterable(k.get("enterable"));this._initGlobalListener();this._keepShow()},_initGlobalListener:function(){var i=this._tooltipModel;var e=i.get("triggerOn");xz("itemTooltip",this._api,qH(function(v,m,k){if(e!=="none"){if(e.indexOf(v)>=0){this._tryShow(m,k)}else{if(v==="leave"){this._hide(k)}}}},this))},_keepShow:function(){var m=this._tooltipModel;var e=this._ecModel;var k=this._api;if(this._lastX!=null&&this._lastY!=null&&m.get("triggerOn")!=="none"){var i=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){!k.isDisposed()&&i.manuallyShowTip(m,e,k,{x:i._lastX,y:i._lastY})})}},manuallyShowTip:function(v2,v,Z,v1){if(v1.from===this.uid||uk.node){return}var m=Dt(v1,Z);this._ticket="";var v3=v1.dataByCoordSys;if(v1.tooltip&&v1.x!=null&&v1.y!=null){var e=aT;e.position=[v1.x,v1.y];e.update();e.tooltip=v1.tooltip;this._tryShow({offsetX:v1.x,offsetY:v1.y,target:e},m)}else{if(v3){this._tryShow({offsetX:v1.x,offsetY:v1.y,position:v1.position,dataByCoordSys:v1.dataByCoordSys,tooltipOption:v1.tooltipOption},m)}else{if(v1.seriesIndex!=null){if(this._manuallyAxisShowTip(v2,v,Z,v1)){return}var on=vI(v1,v);var k=on.point[0];var i=on.point[1];if(k!=null&&i!=null){this._tryShow({offsetX:k,offsetY:i,position:v1.position,target:on.el},m)}}else{if(v1.x!=null&&v1.y!=null){Z.dispatchAction({type:"updateAxisPointer",x:v1.x,y:v1.y});this._tryShow({offsetX:v1.x,offsetY:v1.y,position:v1.position,target:Z.getZr().findHover(v1.x,v1.y).target},m)}}}}},manuallyHideTip:function(k,e,i,v){var m=this._tooltipContent;if(!this._alwaysShowContent&&this._tooltipModel){m.hideLater(this._tooltipModel.get("hideDelay"))}this._lastX=this._lastY=null;if(v.from!==this.uid){this._hide(Dt(v,i))}},_manuallyAxisShowTip:function(v2,v,Z,v1){var k=v1.seriesIndex;var on=v1.dataIndex;var e=v.getComponent("axisPointer").coordSysAxesInfo;if(k==null||on==null||e==null){return}var i=v.getSeriesByIndex(k);if(!i){return}var m=i.getData();var v2=Ff([m.getItemModel(on),i,(i.coordinateSystem||{}).model,v2]);if(v2.get("trigger")!=="axis"){return}Z.dispatchAction({type:"updateAxisPointer",seriesIndex:k,dataIndex:on,position:v1.position});return true},_tryShow:function(Z,v){var k=Z.target;var i=this._tooltipModel;if(!i){return}this._lastX=Z.offsetX;this._lastY=Z.offsetY;var m=Z.dataByCoordSys;if(m&&m.length){this._showAxisTooltip(m,Z)}else{if(k&&k.dataIndex!=null){this._lastDataByCoordSys=null;this._showSeriesItemTooltip(Z,k,v)}else{if(k&&k.tooltip){this._lastDataByCoordSys=null;this._showComponentItemTooltip(Z,k,v)}else{this._lastDataByCoordSys=null;this._hide(v)}}}},_showOrMove:function(k,e){var i=k.get("showDelay");e=k9(e,this);clearTimeout(this._showTimout);i>0?(this._showTimout=setTimeout(e,i)):e()},_showAxisTooltip:function(v3,Z){var m=this._ecModel;var KB=this._tooltipModel;var v2=[Z.offsetX,Z.offsetY];var i=[];var v1=[];var KA=Ff([Z.tooltipOption,KB]);var Kz=this._renderMode;var v=this._newLine;var k={};uT(v3,function(e){uT(e.dataByAxis,function(KF){var KE=m.getComponent(KF.axisDim+"Axis",KF.axisIndex);var KG=KF.value;var KD=[];if(!KE||KG==null){return}var KH=t5(KG,KE.axis,m,KF.seriesDataIndices,KF.valueLabelOpt);qg(KF.seriesDataIndices,function(KO){var KM=m.getSeriesByIndex(KO.seriesIndex);var KL=KO.dataIndexInside;var KI=KM&&KM.getDataParams(KL);KI.axisDim=KF.axisDim;KI.axisIndex=KF.axisIndex;KI.axisType=KF.axisType;KI.axisId=KF.axisId;KI.axisValue=oX(KE.axis,KG);KI.axisValueLabel=KH;if(KI){v1.push(KI);var KN=KM.formatTooltip(KL,true,null,Kz);var KK;if(u7(KN)){KK=KN.html;var KJ=KN.markers;xF(k,KJ)}else{KK=KN}KD.push(KK)}});var KC=KH;if(Kz!=="html"){i.push(KD.join(v))}else{i.push((KC?nq(KC)+v:"")+KD.join(v))}})},this);i.reverse();i=i.join(this._newLine+this._newLine);var on=Z.position;this._showOrMove(KA,function(){if(this._updateContentNotChangedOnAxis(v3)){this._updatePosition(KA,on,v2[0],v2[1],this._tooltipContent,v1)}else{this._showTooltipContent(KA,i,v1,Math.random(),v2[0],v2[1],on,undefined,k)}})},_showSeriesItemTooltip:function(KA,k,on){var Kz=this._ecModel;var v2=k.seriesIndex;var v=Kz.getSeriesByIndex(v2);var KB=k.dataModel||v;var KE=k.dataIndex;var KD=k.dataType;var v3=KB.getData(KD);var KF=Ff([v3.getItemModel(KE),KB,v&&(v.coordinateSystem||{}).model,this._tooltipModel]);var KC=KF.get("trigger");if(KC!=null&&KC!=="item"){return}var Z=KB.getDataParams(KE,KD);var i=KB.formatTooltip(KE,false,KD,this._renderMode);var m;var v1;if(u7(i)){m=i.html;v1=i.markers}else{m=i;v1=null}var KG="item_"+KB.name+"_"+KE;this._showOrMove(KF,function(){this._showTooltipContent(KF,m,Z,KG,KA.offsetX,KA.offsetY,KA.position,KA.target,v1)});on({type:"showTip",dataIndexInside:KE,dataIndex:v3.getRawIndex(KE),seriesIndex:v2,from:this.uid})},_showComponentItemTooltip:function(v1,k,on){var i=k.tooltip;if(typeof i==="string"){var v=i;i={content:v,formatter:v}}var Z=new fV(i,this._tooltipModel,this._ecModel);var v2=Z.get("content");var m=Math.random();this._showOrMove(Z,function(){this._showTooltipContent(Z,v2,Z.get("formatterParams")||{},m,v1.offsetX,v1.offsetY,v1.position,k)});on({type:"showTip",from:this.uid})},_showTooltipContent:function(v3,i,k,KB,v1,on,Z,e,m){this._ticket="";if(!v3.get("showContent")||!v3.get("show")){return}var Kz=this._tooltipContent;var v2=v3.get("formatter");Z=Z||v3.get("position");var v=i;if(v2&&typeof v2==="string"){v=eR(v2,k,true)}else{if(typeof v2==="function"){var KA=qH(function(KD,KC){if(KD===this._ticket){Kz.setContent(KC,m,v3);this._updatePosition(v3,Z,v1,on,Kz,k,e)}},this);this._ticket=KB;v=v2(k,KB,KA)}}Kz.setContent(v,m,v3);Kz.show(v3);this._updatePosition(v3,Z,v1,on,Kz,k,e)},_updatePosition:function(KD,v2,KB,KA,v1,m,i){var v=this._api.getWidth();var k=this._api.getHeight();v2=v2||KD.get("position");var e=v1.getSize();var on=KD.get("align");var Z=KD.get("verticalAlign");var Kz=i&&i.getBoundingRect().clone();i&&Kz.applyTransform(i.transform);if(typeof v2==="function"){v2=v2([KB,KA],m,v1.el,Kz,{viewSize:[v,k],contentSize:e.slice()})}if(IQ(v2)){KB=By(v2[0],v);KA=By(v2[1],k)}else{if(u7(v2)){v2.width=e[0];v2.height=e[1];var KC=lL(v2,{width:v,height:k});KB=KC.x;KA=KC.y;on=null;Z=null}else{if(typeof v2==="string"&&i){var v3=C(v2,Kz,e);KB=v3[0];KA=v3[1]}else{var v3=dJ(KB,KA,v1,v,k,on?null:20,Z?null:20);KB=v3[0];KA=v3[1]}}}on&&(KB-=E2(on)?e[0]/2:on==="right"?e[0]:0);Z&&(KA-=E2(Z)?e[1]/2:Z==="bottom"?e[1]:0);if(KD.get("confine")){var v3=op(KB,KA,v1,v,k);KB=v3[0];KA=v3[1]}v1.moveTo(KB,KA)},_updateContentNotChangedOnAxis:function(k){var i=this._lastDataByCoordSys;var e=!!i&&i.length===k.length;e&&uT(i,function(on,Z){var v=on.dataByAxis||{};var m=k[Z]||{};var v1=m.dataByAxis||[];e&=v.length===v1.length;e&&uT(v,function(KB,v2){var Kz=v1[v2]||{};var v3=KB.seriesDataIndices||[];var KA=Kz.seriesDataIndices||[];e&=KB.value===Kz.value&&KB.axisType===Kz.axisType&&KB.axisId===Kz.axisId&&v3.length===KA.length;e&&uT(v3,function(KD,KC){var KE=KA[KC];e&=KD.seriesIndex===KE.seriesIndex&&KD.dataIndex===KE.dataIndex})})});this._lastDataByCoordSys=k;return !!e},_hide:function(e){this._lastDataByCoordSys=null;e({type:"hideTip",from:this.uid})},dispose:function(e,i){if(uk.node){return}this._tooltipContent.dispose();al("itemTooltip",i)}});function Ff(k){var e=k.pop();while(k.length){var i=k.pop();if(i){if(fV.isInstance(i)){i=i.get("tooltip",true)}if(typeof i==="string"){i={formatter:i}}e=new fV(i,e,e.ecModel)}}return e}function Dt(i,e){return i.dispatchAction||k9(e.dispatchAction,e)}function dJ(v1,on,Z,m,k,i,v){var v3=Z.getOuterSize();var e=v3.width;var v2=v3.height;if(i!=null){if(v1+e+i>m){v1-=e+i}else{v1+=i}}if(v!=null){if(on+v2+v>k){on-=v2+v}else{on+=v}}return[v1,on]}function op(i,v1,on,Z,k){var m=on.getOuterSize();var v=m.width;var e=m.height;i=Math.min(i+v,Z)-v;v1=Math.min(v1+e,k)-e;i=Math.max(i,0);v1=Math.max(v1,0);return[i,v1]}function C(m,v1,e){var v=e[0];var k=e[1];var v2=5;var v3=0;var on=0;var i=v1.width;var Z=v1.height;switch(m){case"inside":v3=v1.x+i/2-v/2;on=v1.y+Z/2-k/2;break;case"top":v3=v1.x+i/2-v/2;on=v1.y-k-v2;break;case"bottom":v3=v1.x+i/2-v/2;on=v1.y+Z+v2;break;case"left":v3=v1.x-v-v2;on=v1.y+Z/2-k/2;break;case"right":v3=v1.x+i+v2;on=v1.y+Z/2-k/2}return[v3,on]}function E2(e){return e==="center"||e==="middle"}ce({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});ce({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var wM=["rect","polygon","keep","clear"];var Ke=function(v,e){var m=v&&v.brush;if(!IQ(m)){m=m?[m]:[]}if(!m.length){return}var i=[];qg(m,function(v3){var v2=v3.hasOwnProperty("toolbox")?v3.toolbox:[];if(v2 instanceof Array){i=i.concat(v2)}});var Z=v&&v.toolbox;if(IQ(Z)){Z=Z[0]}if(!Z){Z={feature:{}};v.toolbox=[Z]}var on=(Z.feature||(Z.feature={}));var v1=on.brush||(on.brush={});var k=v1.type||(v1.type=[]);k.push.apply(k,i);l5(k);if(e&&!k.length){k.push.apply(k,wM)}};function l5(e){var i={};qg(e,function(k){i[k]=1});e.length=0;qg(i,function(k,m){e.push(m)})}var uQ=qg;function sw(i){if(i){for(var e in i){if(i.hasOwnProperty(e)){return true}}}}function B2(k,e,m){var i={};uQ(e,function(Z){var on=i[Z]=v();uQ(k[Z],function(v3,v2){if(!nC.isValidType(v2)){return}var v1={type:v2,visual:v3};m&&m(v1,Z);on[v2]=new nC(v1);if(v2==="opacity"){v1=E5(v1);v1.type="colorAlpha";on.__hidden.__alphaForOpacity=new nC(v1)}})});return i;function v(){var Z=function(){};Z.prototype.__hidden=Z.prototype;var on=new Z();return on}}function n7(i,m,k){var e;qg(k,function(v){if(m.hasOwnProperty(v)&&sw(m[v])){e=true}});e&&qg(k,function(v){if(m.hasOwnProperty(v)&&sw(m[v])){i[v]=E5(m[v])}else{delete i[v]}})}function dO(m,Z,k,v1,Kz,i){var v={};qg(m,function(KB){var KA=nC.prepareVisualTypes(Z[KB]);v[KB]=KA});var v2;function on(KA){return k.getItemVisual(v2,KA)}function v3(KA,KB){k.setItemVisual(v2,KA,KB)}if(i==null){k.each(e)}else{k.each([i],e)}function e(KA,KG){v2=i==null?KA:KG;var KD=k.getRawDataItem(v2);if(KD&&KD.visualMap===false){return}var KC=v1.call(Kz,KA);var KF=Z[KC];var KB=v[KC];for(var KE=0,KH=KB.length;KE<KH;KE++){var KI=KB[KE];KF[KI]&&KF[KI].applyVisual(KA,on,v3)}}}function md(e,i,Z,v){var m={};qg(e,function(v1){var on=nC.prepareVisualTypes(i[v1]);m[v1]=on});function k(v2,KA){if(v!=null){v=KA.getDimension(v)}function KD(KI){return KA.getItemVisual(KF,KI)}function KG(KI,KJ){KA.setItemVisual(KF,KI,KJ)}var KF;while((KF=v2.next())!=null){var v3=KA.getRawDataItem(KF);if(v3&&v3.visualMap===false){continue}var KH=v!=null?KA.get(v,KF,true):KF;var v1=Z(KH);var KB=i[v1];var on=m[v1];for(var Kz=0,KC=on.length;Kz<KC;Kz++){var KE=on[Kz];KB[KE]&&KB[KE].applyVisual(KH,KD,KG)}}}return{progress:k}}var aD={lineX:u4(0),lineY:u4(1),rect:{point:function(i,e,k){return i&&k.boundingRect.contain(i[0],i[1])},rect:function(i,e,k){return i&&k.boundingRect.intersect(i)}},polygon:{point:function(i,e,k){return i&&k.boundingRect.contain(i[0],i[1])&&GS(k.range,i[0],i[1])},rect:function(v1,on,i){var Z=i.range;if(!v1||Z.length<=1){return false}var v=v1.x;var m=v1.y;var k=v1.width;var v2=v1.height;var e=Z[0];if(GS(Z,v,m)||GS(Z,v+k,m)||GS(Z,v,m+v2)||GS(Z,v+k,m+v2)||EG.create(v1).contain(e[0],e[1])||g5(v,m,v+k,m,Z)||g5(v,m,v,m+v2,Z)||g5(v+k,m,v+k,m+v2,Z)||g5(v,m+v2,v+k,m+v2,Z)){return true}}}};function u4(k){var i=["x","y"];var e=["width","height"];return{point:function(Z,v,on){if(Z){var m=on.range;var v1=Z[k];return eY(v1,m)}},rect:function(Z,v,on){if(Z){var m=on.range;var v1=[Z[i[k]],Z[i[k]]+Z[e[k]]];v1[1]<v1[0]&&v1.reverse();return eY(v1[0],m)||eY(v1[1],m)||eY(m[0],v1)||eY(m[1],v1)}}}}function eY(i,e){return e[0]<=i&&i<=e[1]}var I0=["inBrush","outOfBrush"];var qv="__ecBrushSelect";var xP="__ecInBrushSelectEvent";var Dq=D2.VISUAL.BRUSH;qz(Dq,function(e,i,k){e.eachComponent({mainType:"brush"},function(m){k&&k.type==="takeGlobalCursor"&&m.setBrushOption(k.key==="brush"?k.brushOption:{brushType:false})});pH(e)});function pH(e){e.eachComponent({mainType:"brush"},function(i){var k=i.brushTargetManager=new Fo(i.option,e);k.setInputRanges(i.areas,e)})}H(Dq,function(i,k,v){var m=[];var Z;var e;i.eachComponent({mainType:"brush"},function(KJ,v2){var KB={brushId:KJ.id,brushIndex:v2,brushName:KJ.name,areas:E5(KJ.areas),selected:[]};m.push(KB);var Kz=KJ.option;var KF=Kz.brushLink;var KD=[];var v1=[];var KI=[];var KG=0;if(!v2){Z=Kz.throttleType;e=Kz.throttleDelay}var on=Gj(KJ.areas,function(KK){return kw(Fg({boundingRect:rh[KK.brushType](KK)},KK))});var KC=B2(KJ.option,I0,function(KK){KK.mappingMethod="fixed"});IQ(KF)&&qg(KF,function(KK){KD[KK]=1});function KA(KK){return KF==="all"||KD[KK]}function v3(KK){return !!KK.length}i.eachSeries(function(KM,KL){var KK=KI[KL]=[];KM.subType==="parallel"?KE(KM,KL,KK):KH(KM,KL,KK)});function KE(KL,KK){var KM=KL.coordinateSystem;KG|=KM.hasAxisBrushed();KA(KK)&&KM.eachActiveState(KL.getData(),function(KO,KN){KO==="active"&&(v1[KN]=1)})}function KH(KN,KM,KL){var KK=FV(KN);if(!KK||Jp(KJ,KM)){return}qg(on,function(KP){KK[KP.brushType]&&KJ.brushTargetManager.controlSeries(KP,KN,i)&&KL.push(KP);KG|=v3(KL)});if(KA(KM)&&v3(KL)){var KO=KN.getData();KO.each(function(KP){if(DV(KK,KL,KO,KP)){v1[KP]=1}})}}i.eachSeries(function(KO,KN){var KM={seriesId:KO.id,seriesIndex:KN,seriesName:KO.name,dataIndex:[]};KB.selected.push(KM);var KL=FV(KO);var KK=KI[KN];var KP=KO.getData();var KQ=KA(KN)?function(KR){return v1[KR]?(KM.dataIndex.push(KP.getRawIndex(KR)),"inBrush"):"outOfBrush"}:function(KR){return DV(KL,KK,KP,KR)?(KM.dataIndex.push(KP.getRawIndex(KR)),"inBrush"):"outOfBrush"};(KA(KN)?KG:v3(KK))&&dO(I0,KC,KP,KQ)})});q8(k,Z,e,m,v)});function q8(k,on,e,Z,v){if(!v){return}var m=k.getZr();if(m[xP]){return}if(!m[qv]){m[qv]=CM}var i=nF(m,qv,e,on);i(k,Z)}function CM(e,k){if(!e.isDisposed()){var i=e.getZr();i[xP]=true;e.dispatchAction({type:"brushSelect",batch:k});i[xP]=false}}function DV(m,k,v1,Z){for(var v=0,e=k.length;v<e;v++){var on=k[v];if(m[on.brushType](Z,v1,on.selectors,on)){return true}}}function FV(k){var m=k.brushSelector;if(xN(m)){var e=[];qg(aD,function(Z,v){e[v]=function(v1,Kz,on,v3){var v2=Kz.getItemLayout(v1);return Z[m](v2,on,v3)}});return e}else{if(Hb(m)){var i={};qg(aD,function(Z,v){i[v]=m});return i}}return m}function Jp(i,e){var k=i.option.seriesIndex;return k!=null&&k!=="all"&&(IQ(k)?fc(k,e)<0:e!==k)}function kw(i){var e=i.selectors={};qg(aD[i.brushType],function(m,k){e[k]=function(v){return m(v,e,i)}});return i}var rh={lineX:Y,lineY:Y,rect:function(e){return bU(e.range)},polygon:function(on){var m;var k=on.range;for(var Z=0,e=k.length;Z<e;Z++){m=m||[[Infinity,-Infinity],[Infinity,-Infinity]];var v=k[Z];v[0]<m[0][0]&&(m[0][0]=v[0]);v[0]>m[0][1]&&(m[0][1]=v[0]);v[1]<m[1][0]&&(m[1][0]=v[1]);v[1]>m[1][1]&&(m[1][1]=v[1])}return m&&bU(m)}};function bU(e){return new EG(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var fN=["#ddd"];var FG=rg({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:true,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:true,z:10000},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(i,m){var e=this.option;!m&&n7(e,i,["inBrush","outOfBrush"]);var k=e.inBrush=e.inBrush||{};e.outOfBrush=e.outOfBrush||{color:fN};if(!k.hasOwnProperty("liftZ")){k.liftZ=5}},setAreas:function(e){if(pm){bY(IQ(e));qg(e,function(i){bY(i.brushType,"Illegal areas")})}if(!e){return}this.areas=Gj(e,function(i){return vj(this.option,i)},this)},setBrushOption:function(e){this.brushOption=vj(this.option,e);this.brushType=this.brushOption.brushType}});function vj(e,i){return xF({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new fV(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},i,true)}rL({type:"brush",init:function(e,i){this.ecModel=e;this.api=i;this.model;(this._brushController=new lk(i.getZr())).on("brush",k9(this._onBrush,this)).mount()},render:function(e){this.model=e;return c3.apply(this,arguments)},updateTransform:function(i,e){pH(e);return c3.apply(this,arguments)},updateView:c3,dispose:function(){this._brushController.dispose()},_onBrush:function(e,i){var k=this.model.id;this.model.brushTargetManager.setOutputRanges(e,this.ecModel);(!i.isEnd||i.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:k,areas:E5(e),$from:k});i.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:k,areas:E5(e),$from:k})}});function c3(i,e,k,m){(!m||m.$from!==i.id)&&this._brushController.setPanels(i.brushTargetManager.makePanelOpts(k)).enableBrush(i.brushOption).updateCovers(i.areas.slice())}ce({type:"brush",event:"brush"},function(i,e){e.eachComponent({mainType:"brush",query:i},function(k){k.setAreas(i.areas)})});ce({type:"brushSelect",event:"brushSelected",update:"none"},function(){});ce({type:"brushEnd",event:"brushEnd",update:"none"},function(){});var rp=Ek.toolbox.brush;function uz(i,e,k){this.model=i;this.ecModel=e;this.api=k;this._brushType;this._brushMode}uz.defaultOption={show:true,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:E5(rp.title)};var cn=uz.prototype;cn.render=cn.updateView=function(Z,i,m){var v;var e;var k;i.eachComponent({mainType:"brush"},function(on){v=on.brushType;e=on.brushOption.brushMode||"single";k|=on.areas.length});this._brushType=v;this._brushMode=e;qg(Z.get("type",true),function(on){Z.setIconStatus(on,(on==="keep"?e==="multiple":on==="clear"?k:on===v)?"emphasis":"normal")})};cn.getIcons=function(){var e=this.model;var k=e.get("icon",true);var i={};qg(e.get("type",true),function(m){if(k[m]){i[m]=k[m]}});return i};cn.onclick=function(i,m,k){var v=this._brushType;var e=this._brushMode;if(k==="clear"){m.dispatchAction({type:"axisAreaSelect",intervals:[]});m.dispatchAction({type:"brush",command:"clear",areas:[]})}else{m.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:k==="keep"?v:(v===k?false:k),brushMode:k==="keep"?(e==="multiple"?"single":"multiple"):e}})}};aM("brush",uz);AO(Ke);rg({type:"title",layoutMode:{type:"box",ignoreSize:true},defaultOption:{zlevel:0,z:6,show:true,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});rL({type:"title",render:function(on,KK,KC){this.group.removeAll();if(!on.get("show")){return}var Kz=this.group;var v3=on.getModel("textStyle");var KJ=on.getModel("subtextStyle");var v1=on.get("textAlign");var KD=kY(on.get("textBaseline"),on.get("textVerticalAlign"));var KH=new jv({style:ql({},v3,{text:on.get("text"),textFill:v3.getTextColor()},{disableBox:true}),z2:10});var e=KH.getBoundingRect();var Z=on.get("subtext");var v=new jv({style:ql({},KJ,{text:Z,textFill:KJ.getTextColor(),y:e.height+on.get("itemGap"),textVerticalAlign:"top"},{disableBox:true}),z2:10});var v2=on.get("link");var KF=on.get("sublink");var m=on.get("triggerEvent",true);KH.silent=!v2&&!m;v.silent=!KF&&!m;if(v2){KH.on("click",function(){bj(v2,"_"+on.get("target"))})}if(KF){v.on("click",function(){bj(KF,"_"+on.get("subtarget"))})}KH.eventData=v.eventData=m?{componentType:"title",componentIndex:on.componentIndex}:null;Kz.add(KH);Z&&Kz.add(v);var KE=Kz.getBoundingRect();var k=on.getBoxLayoutParams();k.width=KE.width;k.height=KE.height;var KI=lL(k,{width:KC.getWidth(),height:KC.getHeight()},on.get("padding"));if(!v1){v1=on.get("left")||on.get("right");if(v1==="middle"){v1="center"}if(v1==="right"){KI.x+=KI.width}else{if(v1==="center"){KI.x+=KI.width/2}}}if(!KD){KD=on.get("top")||on.get("bottom");if(KD==="center"){KD="middle"}if(KD==="bottom"){KI.y+=KI.height}else{if(KD==="middle"){KI.y+=KI.height/2}}KD=KD||"top"}Kz.attr("position",[KI.x,KI.y]);var KA={textAlign:v1,textVerticalAlign:KD};KH.setStyle(KA);v.setStyle(KA);KE=Kz.getBoundingRect();var KB=KI.margin;var KG=on.getItemStyle(["color","opacity"]);KG.fill=on.get("backgroundColor");var i=new GM({shape:{x:KE.x-KB[3],y:KE.y-KB[0],width:KE.width+KB[1]+KB[3],height:KE.height+KB[0]+KB[2],r:on.get("borderRadius")},style:KG,subPixelOptimize:true,silent:true});Kz.add(i)}});var Kd=function(i){var e=i&&i.timeline;if(!IQ(e)){e=e?[e]:[]}qg(e,function(k){if(!k){return}y(k)})};function y(i){var k=i.type;var e={number:"value",time:"time"};if(e[k]){i.axisType=e[k];delete i.type}D0(i);if(pS(i,"controlPosition")){var m=i.controlStyle||(i.controlStyle={});if(!pS(m,"position")){m.position=i.controlPosition}if(m.position==="none"&&!pS(m,"show")){m.show=false;delete m.position}delete i.controlPosition}qg(i.data||[],function(v){if(u7(v)&&!IQ(v)){if(!pS(v,"value")&&pS(v,"name")){v.value=v.name}D0(v)}})}function D0(m){var Z=m.itemStyle||(m.itemStyle={});var k=Z.emphasis||(Z.emphasis={});var i=m.label||(m.label||{});var v=i.normal||(i.normal={});var e={normal:1,emphasis:1};qg(i,function(v1,on){if(!e[on]&&!pS(v,on)){v[on]=v1}});if(k.label&&!pS(i,"emphasis")){i.emphasis=k.label;delete k.label}}function pS(i,e){return i.hasOwnProperty(e)}aO.registerSubTypeDefaulter("timeline",function(){return"slider"});ce({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(k,e){var i=e.getComponent("timeline");if(i&&k.currentIndex!=null){i.setCurrentIndex(k.currentIndex);if(!i.get("loop",true)&&i.isIndexMax()){i.setPlayState(false)}}e.resetOption("timeline");return Fg({currentIndex:i.option.currentIndex},k)});ce({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(k,e){var i=e.getComponent("timeline");if(i&&k.playState!=null){i.setPlayState(k.playState)}});var ch=aO.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:true,axisType:"time",realtime:true,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:false,rewind:false,loop:true,playInterval:2000,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(k,i,e){this._data;this._names;this.mergeDefaultAndTheme(k,e);this._initData()},mergeOption:function(e){ch.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(e){if(e==null){e=this.option.currentIndex}var i=this._data.count();if(this.option.loop){e=(e%i+i)%i}else{e>=i&&(e=i-1);e<0&&(e=0)}this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(e){this.option.autoPlay=!!e},getPlayState:function(){return !!this.option.autoPlay},_initData:function(){var k=this.option;var m=k.data||[];var e=k.axisType;var Z=this._names=[];if(e==="category"){var i=[];qg(m,function(v3,v1){var Kz=zB(v3);var v2;if(u7(v3)){v2=E5(v3);v2.value=v1}else{v2=v1}i.push(v2);if(!xN(Kz)&&(Kz==null||isNaN(Kz))){Kz=""}Z.push(Kz+"")});m=i}var on=({category:"ordinal",time:"time"})[e]||"number";var v=this._data=new y6([{name:"value",type:on}],this);v.initData(m,Z)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category"){return this._names.slice()}}});var R=ch.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:false,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:true,width:2,color:"#304654"},label:{position:"auto",show:true,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:true,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:true,showPlayBtn:true,showPrevBtn:true,showNextBtn:true,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:true,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});Iz(R,wI);var ug=FY.extend({type:"timeline"});var tL=function(k,m,i,e){DO.call(this,k,m,i);this.type=e||"value";this.model=null};tL.prototype={constructor:tL,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return this.model.get("orient")==="horizontal"}};nm(tL,DO);var qE=k9;var uP=qg;var Ah=Math.PI;ug.extend({type:"timeline.slider",init:function(e,i){this.api=i;this._axis;this._viewRect;this._timer;this._currentPointer;this._mainGroup;this._labelGroup},render:function(Z,e,v,v1){this.model=Z;this.api=v;this.ecModel=e;this.group.removeAll();if(Z.get("show",true)){var on=this._layout(Z,v);var k=this._createGroup("mainGroup");var i=this._createGroup("labelGroup");var m=this._axis=this._createAxis(on,Z);Z.formatTooltip=function(v2){return nq(m.scale.getLabel(v2))};uP(["AxisLine","AxisTick","Control","CurrentPointer"],function(v2){this["_render"+v2](on,k,m,Z)},this);this._renderAxisLabel(on,i,m,Z);this._position(on,Z)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(v1,KA){var k=v1.get("label.position");var v2=v1.get("orient");var KH=ta(v1,KA);if(k==null||k==="auto"){k=v2==="horizontal"?((KH.y+KH.height/2)<KA.getHeight()/2?"-":"+"):((KH.x+KH.width/2)<KA.getWidth()/2?"+":"-")}else{if(isNaN(k)){k=({horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}})[v2][k]}}var KE={horizontal:"center",vertical:(k>=0||k==="+")?"left":"right"};var v={horizontal:(k>=0||k==="+")?"top":"bottom",vertical:"middle"};var KN={horizontal:0,vertical:Ah/2};var i=v2==="vertical"?KH.height:KH.width;var KC=v1.getModel("controlStyle");var on=KC.get("show",true);var KB=on?KC.get("itemSize"):0;var KJ=on?KC.get("itemGap"):0;var KL=KB+KJ;var KI=v1.get("label.rotate")||0;KI=KI*Ah/180;var KK;var m;var KG;var Z;var KD=KC.get("position",true);var Kz=on&&KC.get("showPlayBtn",true);var KF=on&&KC.get("showPrevBtn",true);var e=on&&KC.get("showNextBtn",true);var v3=0;var KM=i;if(KD==="left"||KD==="bottom"){Kz&&(KK=[0,0],v3+=KL);KF&&(m=[v3,0],v3+=KL);e&&(KG=[KM-KB,0],KM-=KL)}else{Kz&&(KK=[KM-KB,0],KM-=KL);KF&&(m=[0,0],v3+=KL);e&&(KG=[KM-KB,0],KM-=KL)}Z=[v3,KM];if(v1.get("inverse")){Z.reverse()}return{viewRect:KH,mainLength:i,orient:v2,rotation:KN[v2],labelRotation:KI,labelPosOpt:k,labelAlign:v1.get("label.align")||KE[v2],labelBaseline:v1.get("label.verticalAlign")||v1.get("label.baseline")||v[v2],playPosition:KK,prevBtnPosition:m,nextBtnPosition:KG,axisExtent:Z,controlSize:KB,controlGap:KJ}},_position:function(KB,v2){var Z=this._mainGroup;var KA=this._labelGroup;var KE=KB.viewRect;if(KB.orient==="vertical"){var KD=Ez();var i=KE.x;var e=KE.y+KE.height;wV(KD,KD,[-i,-e]);k5(KD,KD,-Ah/2);wV(KD,KD,[i,e]);KE=KE.clone();KE.applyTransform(KD)}var k=v3(KE);var KH=v3(Z.getBoundingRect());var on=v3(KA.getBoundingRect());var KG=Z.position;var KF=KA.position;KF[0]=KG[0]=k[0][0];var v=KB.labelPosOpt;if(isNaN(v)){var Kz=v==="+"?0:1;v1(KG,KH,k,1,Kz);v1(KF,on,k,1,1-Kz)}else{var Kz=v>=0?0:1;v1(KG,KH,k,1,Kz);KF[1]=KG[1]+v}Z.attr("position",KG);KA.attr("position",KF);Z.rotation=KA.rotation=KB.rotation;KC(Z);KC(KA);function KC(m){var KI=m.position;m.origin=[k[0][0]-KI[0],k[1][0]-KI[1]]}function v3(m){return[[m.x,m.x+m.width],[m.y,m.y+m.height]]}function v1(KJ,KL,KK,KI,m){KJ[KI]+=KK[KI][m]-KL[KI][m]}},_createAxis:function(Z,k){var v=k.getData();var e=k.get("axisType");var on=om(k,e);on.getTicks=function(){return v.mapArray(["value"],function(v1){return v1})};var m=v.getDataExtent("value");on.setExtent(m[0],m[1]);on.niceTicks();var i=new tL("value",on,Z.axisExtent,e);i.model=k;return i},_createGroup:function(e){var i=this["_"+e]=new D4();this.group.add(i);return i},_renderAxisLine:function(m,k,e,i){var v=e.getExtent();if(!i.get("lineStyle.show")){return}k.add(new Br({shape:{x1:v[0],y1:0,x2:v[1],y2:0},style:cc({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:true,z2:1}))},_renderAxisTick:function(Z,v,e,k){var m=k.getData();var i=e.scale.getTicks();uP(i,function(KB){var Kz=e.dataToCoord(KB);var v3=m.getItemModel(KB);var KA=v3.getModel("itemStyle");var v1=v3.getModel("emphasis.itemStyle");var on={position:[Kz,0],onclick:qE(this._changeTimeline,this,KB)};var v2=n5(v3,KA,v,on);z3(v2,v1.getItemStyle());if(v3.get("tooltip")){v2.dataIndex=KB;v2.dataModel=k}else{v2.dataIndex=v2.dataModel=null}},this)},_renderAxisLabel:function(v,m,e,i){var Z=e.getLabelModel();if(!Z.get("show")){return}var k=i.getData();var on=e.getViewLabels();uP(on,function(v3){var Kz=v3.tickValue;var KC=k.getItemModel(Kz);var v2=KC.getModel("label");var v1=KC.getModel("emphasis.label");var KB=e.dataToCoord(v3.tickValue);var KA=new jv({position:[KB,0],rotation:v.labelRotation-v.rotation,onclick:qE(this._changeTimeline,this,Kz),silent:false});ql(KA.style,v2,{text:v3.formattedLabel,textAlign:v.labelAlign,textVerticalAlign:v.labelBaseline});m.add(KA);z3(KA,ql({},v1))},this)},_renderControl:function(k,Kz,i,e){var Z=k.controlSize;var KA=k.rotation;var v1=e.getModel("controlStyle").getItemStyle();var m=e.getModel("emphasis.controlStyle").getItemStyle();var v2=[0,-Z/2,Z,Z];var v3=e.getPlayState();var v=e.get("inverse",true);on(k.nextBtnPosition,"controlStyle.nextIcon",qE(this._changeTimeline,this,v?"-":"+"));on(k.prevBtnPosition,"controlStyle.prevIcon",qE(this._changeTimeline,this,v?"+":"-"));on(k.playPosition,"controlStyle."+(v3?"stopIcon":"playIcon"),qE(this._handlePlayClick,this,!v3),true);function on(KB,KF,KC,KG){if(!KB){return}var KE={position:KB,origin:[Z/2,0],rotation:KG?-KA:0,rectHover:true,style:v1,onclick:KC};var KD=dw(e,KF,v2,KE);Kz.add(KD);z3(KD,m)}},_renderCurrentPointer:function(m,v1,k,e){var v=e.getData();var Z=e.getCurrentIndex();var i=v.getItemModel(Z).getModel("checkpointStyle");var on=this;var v2={onCreate:function(v3){v3.draggable=true;v3.drift=qE(on._handlePointerDrag,on);v3.ondragend=qE(on._handlePointerDragend,on);vU(v3,Z,k,e,true)},onUpdate:function(v3){vU(v3,Z,k,e)}};this._currentPointer=n5(i,i,this._mainGroup,{},this._currentPointer,v2)},_handlePlayClick:function(e){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},_handlePointerDrag:function(k,i,m){this._clearTimer();this._pointerChangeTimeline([m.offsetX,m.offsetY])},_handlePointerDragend:function(i){this._pointerChangeTimeline([i.offsetX,i.offsetY],true)},_pointerChangeTimeline:function(e,i){var k=this._toAxisCoord(e)[0];var m=this._axis;var on=qe(m.getExtent().slice());k>on[1]&&(k=on[1]);k<on[0]&&(k=on[0]);this._currentPointer.position[0]=k;this._currentPointer.dirty();var Z=this._findNearestTick(k);var v=this.model;if(i||(Z!==v.getCurrentIndex()&&v.get("realtime"))){this._changeTimeline(Z)}},_doPlayStop:function(){this._clearTimer();if(this.model.getPlayState()){this._timer=setTimeout(qE(e,this),this.model.get("playInterval"))}function e(){var i=this.model;this._changeTimeline(i.getCurrentIndex()+(i.get("rewind",true)?-1:1))}},_toAxisCoord:function(i){var e=this._mainGroup.getLocalTransform();return xI(i,e,true)},_findNearestTick:function(e){var k=this.model.getData();var v=Infinity;var m;var i=this._axis;k.each(["value"],function(on,Z){var v2=i.dataToCoord(on);var v1=Math.abs(v2-e);if(v1<v){v=v1;m=Z}});return m},_clearTimer:function(){if(this._timer){clearTimeout(this._timer);this._timer=null}},_changeTimeline:function(e){var i=this.model.getCurrentIndex();if(e==="+"){e=i+1}else{if(e==="-"){e=i-1}}this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})}});function ta(e,i){return lL(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},e.get("padding"))}function dw(Z,e,v,m){var k=m.style;var i=Ih(Z.get(e),m||{},new EG(v[0],v[1],v[2],v[3]));if(k){i.setStyle(k)}return i}function n5(i,Z,Kz,e,m,KA){var v=Z.get("color");if(!m){var KB=i.get("symbol");m=vz(KB,-1,-1,2,2,v);m.setStyle("strokeNoScale",true);Kz.add(m);KA&&KA.onCreate(m)}else{m.setColor(v);Kz.add(m);KA&&KA.onUpdate(m)}var on=Z.getItemStyle(["color","symbol","symbolSize"]);m.setStyle(on);e=xF({rectHover:true,z2:100},e,true);var k=i.get("symbolSize");k=k instanceof Array?k.slice():[+k,+k];k[0]/=2;k[1]/=2;e.scale=k;var v2=i.get("symbolOffset");if(v2){var v3=e.position=e.position||[0,0];v3[0]+=BD(v2[0],k[0]);v3[1]+=BD(v2[1],k[1])}var v1=i.get("symbolRotate");e.rotation=(v1||0)*Math.PI/180||0;m.attr(e);m.updateTransform();return m}function vU(on,m,v,Z,i){if(on.dragging){return}var e=Z.getModel("checkpointStyle");var k=v.dataToCoord(Z.getData().get(["value"],m));if(i||!e.get("animation",true)){on.attr({position:[k,0]})}else{on.stopAnimation(true);on.animateTo({position:[k,0]},e.get("animationDuration",true),e.get("animationEasing",true))}}AO(Kd);var cD=kU;var cH=nq;function xn(e){FC(e,"label",["show"])}var tX=rg({type:"marker",dependencies:["series","grid","polar","geo"],init:function(k,i,e){if(pm){if(this.type==="marker"){throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.")}}this.mergeDefaultAndTheme(k,e);this._mergeOption(k,e,false,true)},isAnimationEnabled:function(){if(uk.node){return false}var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(i,e){this._mergeOption(i,e,false,false)},_mergeOption:function(v,k,i,Z){var m=this.constructor;var e=this.mainType+"Model";if(!i){k.eachSeries(function(v1){var v2=v1.get(this.mainType,true);var on=v1[e];if(!v2||!v2.data){v1[e]=null;return}if(!on){if(Z){xn(v2)}qg(v2.data,function(v3){if(v3 instanceof Array){xn(v3[0]);xn(v3[1])}else{xn(v3)}});on=new m(v2,this,k);cc(on,{mainType:this.mainType,seriesIndex:v1.seriesIndex,name:v1.name,createdBySelf:true});on.__hostSeries=v1}else{on._mergeOption(v2,k,true)}v1[e]=on},this)}},formatTooltip:function(on,i,v1,v3){var k=this.getData();var v2=this.getRawValue(on);var m=IQ(v2)?Gj(v2,cD).join(", "):cD(v2);var e=k.getName(on);var v=cH(this.name);var Z=v3==="html"?"<br/>":"\n";if(v2!=null||e){v+=Z}if(e){v+=cH(e);if(v2!=null){v+=" : "}}if(v2!=null){v+=cH(m)}return v},getData:function(){return this._data},setData:function(e){this._data=e}});Iz(tX,wI);tX.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:true,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:true}}}});var i2=fc;function mK(e){return !(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function jX(e){return !isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function ui(e,k,v1,i,v,Kz){var KA=[];var Z=mM(k,i);var on=Z?k.getCalculationInfo("stackResultDimension"):i;var v3=yN(k,on,e);var v2=k.indicesOfNearest(on,v3)[0];KA[v]=k.get(v1,v2);KA[Kz]=k.get(on,v2);var KB=k.get(i,v2);var m=pQ(k.get(i,v2));m=Math.min(m,20);if(m>=0){KA[Kz]=+KA[Kz].toFixed(m)}return[KA,KB]}var vF=tT;var dP={min:vF(ui,"min"),max:vF(ui,"max"),average:vF(ui,"average")};function Hi(k,KA){var on=k.getData();var m=k.coordinateSystem;if(KA&&!jX(KA)&&!IQ(KA.coord)&&m){var v3=m.dimensions;var v=Km(KA,on,m,k);KA=E5(KA);if(KA.type&&dP[KA.type]&&v.baseAxis&&v.valueAxis){var v1=i2(v3,v.baseAxis.dim);var Kz=i2(v3,v.valueAxis.dim);var e=dP[KA.type](on,v.baseDataDim,v.valueDataDim,v1,Kz);KA.coord=e[0];KA.value=e[1]}else{var v2=[KA.xAxis!=null?KA.xAxis:KA.radiusAxis,KA.yAxis!=null?KA.yAxis:KA.angleAxis];for(var Z=0;Z<2;Z++){if(dP[v2[Z]]){v2[Z]=yN(on,on.mapDimension(v3[Z]),v2[Z])}}KA.coord=v2}}return KA}function Km(m,v,k,e){var i={};if(m.valueIndex!=null||m.valueDim!=null){i.valueDataDim=m.valueIndex!=null?v.getDimension(m.valueIndex):m.valueDim;i.valueAxis=k.getAxis(wu(e,i.valueDataDim));i.baseAxis=k.getOtherAxis(i.valueAxis);i.baseDataDim=v.mapDimension(i.baseAxis.dim)}else{i.baseAxis=e.getBaseAxis();i.valueAxis=k.getOtherAxis(i.baseAxis);i.baseDataDim=v.mapDimension(i.baseAxis.dim);i.valueDataDim=v.mapDimension(i.valueAxis.dim)}return i}function wu(m,k){var on=m.getData();var Z=on.dimensions;k=on.getDimension(k);for(var v=0;v<Z.length;v++){var e=on.getDimensionInfo(Z[v]);if(e.name===k){return e.coordDim}}}function di(e,i){return(e&&e.containData&&i.coord&&!mK(i))?e.containData(i.coord):true}function hi(i,m,e,k){if(k<2){return i.coord&&i.coord[k]}return i.value}function yN(m,v,i){if(i==="average"){var e=0;var k=0;m.each(v,function(on,Z){if(!isNaN(on)){e+=on;k++}});return e/k}else{if(i==="median"){return m.getMedian(v)}else{return m.getDataExtent(v,true)[i==="max"?1:0]}}}var uG=rL({type:"marker",init:function(){this.markerGroupMap=EI()},render:function(i,e,k){var v=this.markerGroupMap;v.each(function(Z){Z.__keep=false});var m=this.type+"Model";e.eachSeries(function(on){var Z=on[m];Z&&this.renderSeries(on,Z,e,k)},this);v.each(function(Z){!Z.__keep&&this.group.remove(Z.group)},this)},renderSeries:function(){}});function hK(m,e,k){var i=e.coordinateSystem;m.each(function(on){var v1=m.getItemModel(on);var Z;var Kz=BD(v1.get("x"),k.getWidth());var v2=BD(v1.get("y"),k.getHeight());if(!isNaN(Kz)&&!isNaN(v2)){Z=[Kz,v2]}else{if(e.getMarkerPosition){Z=e.getMarkerPosition(m.getValues(m.dimensions,on))}else{if(i){var v=m.get(i.dimensions[0],on);var v3=m.get(i.dimensions[1],on);Z=i.dataToPoint([v,v3])}}}if(!isNaN(Kz)){Z[0]=Kz}if(!isNaN(v2)){Z[1]=v2}m.setItemLayout(on,Z)})}uG.extend({type:"markPoint",updateTransform:function(k,e,i){e.eachSeries(function(m){var v=m.markPointModel;if(v){hK(v.getData(),m,i);this.markerGroupMap.get(m.id).updateLayout(v)}},this)},renderSeries:function(k,v1,Z,on){var m=k.coordinateSystem;var v2=k.id;var i=k.getData();var v3=this.markerGroupMap;var e=v3.get(v2)||v3.set(v2,new Hf());var v=aJ(m,k,v1);v1.setData(v);hK(v1.getData(),k,on);v.each(function(KH){var KI=v.getItemModel(KH);var Kz=KI.getShallow("symbol");var KA=KI.getShallow("symbolSize");var KE=KI.getShallow("symbolRotate");var KD=Hb(Kz);var KG=Hb(KA);var KF=Hb(KE);if(KD||KG||KF){var KC=v1.getRawValue(KH);var KB=v1.getDataParams(KH);if(KD){Kz=Kz(KC,KB)}if(KG){KA=KA(KC,KB)}if(KF){KE=KE(KC,KB)}}v.setItemVisual(KH,{symbol:Kz,symbolSize:KA,symbolRotate:KE,color:KI.get("itemStyle.color")||i.getVisual("color")})});e.updateData(v);this.group.add(e.group);v.eachItemGraphicEl(function(Kz){Kz.traverse(function(KA){KA.dataModel=v1})});e.__keep=true;e.group.silent=v1.get("silent")||k.get("silent")}});function aJ(i,e,Z){var k;if(i){k=Gj(i&&i.dimensions,function(on){var v1=e.getData().getDimensionInfo(e.getData().mapDimension(on))||{};return Fg({name:on},v1)})}else{k=[{name:"value",type:"float"}]}var m=new y6(k,Z);var v=Gj(Z.get("data"),tT(Hi,e));if(i){v=sk(v,tT(di,i))}m.initData(v,null,i?hi:function(on){return on.value});return m}AO(function(e){e.markPoint=e.markPoint||{}});tX.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:true,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:true},lineStyle:{width:3}},animationEasing:"linear"}});var Ab=function(k,v,v1,KC){var Z=k.getData();var e=KC.type;if(!IQ(KC)&&(e==="min"||e==="max"||e==="average"||e==="median"||(KC.xAxis!=null||KC.yAxis!=null))){var KB;var KA;if(KC.yAxis!=null||KC.xAxis!=null){KB=v.getAxis(KC.yAxis!=null?"y":"x");KA=g1(KC.yAxis,KC.xAxis)}else{var m=Km(KC,Z,v,k);KB=m.valueAxis;var v2=kk(Z,m.valueDataDim);KA=yN(Z,v2,e)}var v3=KB.dim==="x"?0:1;var Kz=1-v3;var i=E5(KC);var KD={};i.type=null;i.coord=[];KD.coord=[];i.coord[Kz]=-Infinity;KD.coord[Kz]=Infinity;var on=v1.get("precision");if(on>=0&&typeof KA==="number"){KA=+KA.toFixed(Math.min(on,20))}i.coord[v3]=KD.coord[v3]=KA;KC=[i,KD,{type:e,valueIndex:KC.valueIndex,value:KA}]}KC=[Hi(k,KC[0]),Hi(k,KC[1]),cc({},KC[2])];KC[2].type=KC[2].type||"";xF(KC[2],KC[0]);xF(KC[2],KC[1]);return KC};function I2(e){return !isNaN(e)&&!isFinite(e)}function BL(v,e,k,i){var Z=1-v;var m=i.dimensions[v];return I2(e[Z])&&I2(k[Z])&&e[v]===k[v]&&i.getAxis(m).containData(e[v])}function Kc(k,m){if(k.type==="cartesian2d"){var e=m[0].coord;var i=m[1].coord;if(e&&i&&(BL(1,e,i,k)||BL(0,e,i,k))){return true}}return di(k,m[0])&&di(k,m[1])}function iU(v1,KB,on,v,v2){var Z=v.coordinateSystem;var KD=v1.getItemModel(KB);var KC;var e=BD(KD.get("x"),v2.getWidth());var m=BD(KD.get("y"),v2.getHeight());if(!isNaN(e)&&!isNaN(m)){KC=[e,m]}else{if(v.getMarkerPosition){KC=v.getMarkerPosition(v1.getValues(v1.dimensions,KB))}else{var KA=Z.dimensions;var Kz=v1.get(KA[0],KB);var v3=v1.get(KA[1],KB);KC=Z.dataToPoint([Kz,v3])}if(Z.type==="cartesian2d"){var k=Z.getAxis("x");var i=Z.getAxis("y");var KA=Z.dimensions;if(I2(v1.get(KA[0],KB))){KC[0]=k.toGlobalCoord(k.getExtent()[on?0:1])}else{if(I2(v1.get(KA[1],KB))){KC[1]=i.toGlobalCoord(i.getExtent()[on?0:1])}}}if(!isNaN(e)){KC[0]=e}if(!isNaN(m)){KC[1]=m}}v1.setItemLayout(KB,KC)}uG.extend({type:"markLine",updateTransform:function(i,e,k){e.eachSeries(function(v){var m=v.markLineModel;if(m){var on=m.getData();var v1=m.__from;var Z=m.__to;v1.each(function(v2){iU(v1,v2,true,v,k);iU(Z,v2,false,v,k)});on.each(function(v2){on.setItemLayout(v2,[v1.getItemLayout(v2),Z.getItemLayout(v2)])});this.markerGroupMap.get(v.id).updateLayout()}},this)},renderSeries:function(m,Z,on,v1){var v=m.coordinateSystem;var KA=m.id;var e=m.getData();var KD=this.markerGroupMap;var v2=KD.get(KA)||KD.set(KA,new h5());this.group.add(v2.group);var Kz=aI(v,m,Z);var KC=Kz.from;var v3=Kz.to;var k=Kz.line;Z.__from=KC;Z.__to=v3;Z.setData(k);var KE=Z.get("symbol");var i=Z.get("symbolSize");if(!IQ(KE)){KE=[KE,KE]}if(typeof i==="number"){i=[i,i]}Kz.from.each(function(KF){KB(KC,KF,true);KB(v3,KF,false)});k.each(function(KF){var KG=k.getItemModel(KF).get("lineStyle.color");k.setItemVisual(KF,{color:KG||KC.getItemVisual(KF,"color")});k.setItemLayout(KF,[KC.getItemLayout(KF),v3.getItemLayout(KF)]);k.setItemVisual(KF,{fromSymbolRotate:KC.getItemVisual(KF,"symbolRotate"),fromSymbolSize:KC.getItemVisual(KF,"symbolSize"),fromSymbol:KC.getItemVisual(KF,"symbol"),toSymbolRotate:v3.getItemVisual(KF,"symbolRotate"),toSymbolSize:v3.getItemVisual(KF,"symbolSize"),toSymbol:v3.getItemVisual(KF,"symbol")})});v2.updateData(k);Kz.line.eachItemGraphicEl(function(KG,KF){KG.traverse(function(KH){KH.dataModel=Z})});function KB(KI,KG,KF){var KH=KI.getItemModel(KG);iU(KI,KG,KF,m,v1);KI.setItemVisual(KG,{symbolRotate:KH.get("symbolRotate"),symbolSize:KH.get("symbolSize")||i[KF?0:1],symbol:KH.get("symbol",true)||KE[KF?0:1],color:KH.get("itemStyle.color")||e.getVisual("color")})}v2.__keep=true;v2.group.silent=Z.get("silent")||m.get("silent")}});function aI(m,i,Z){var on;if(m){on=Gj(m&&m.dimensions,function(v3){var Kz=i.getData().getDimensionInfo(i.getData().mapDimension(v3))||{};return Fg({name:v3},Kz)})}else{on=[{name:"value",type:"float"}]}var v2=new y6(on,Z);var v1=new y6(on,Z);var e=new y6([],Z);var k=Gj(Z.get("data"),tT(Ab,i,m,Z));if(m){k=sk(k,tT(Kc,m))}var v=m?hi:function(v3){return v3.value};v2.initData(Gj(k,function(v3){return v3[0]}),null,v);v1.initData(Gj(k,function(v3){return v3[1]}),null,v);e.initData(Gj(k,function(v3){return v3[2]}));e.hasItemOption=true;return{from:v2,to:v1,line:e}}AO(function(e){e.markLine=e.markLine||{}});tX.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:false,label:{show:true,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:true,position:"top"}}}});var hh=function(m,v,i,v1){var Z=Hi(m,v1[0]);var e=Hi(m,v1[1]);var v3=g1;var on=Z.coord;var k=e.coord;on[0]=v3(on[0],-Infinity);on[1]=v3(on[1],-Infinity);k[0]=v3(k[0],Infinity);k[1]=v3(k[1],Infinity);var v2=ae([{},Z,e]);v2.coord=[Z.coord,e.coord];v2.x0=Z.x;v2.y0=Z.y;v2.x1=e.x;v2.y1=e.y;return v2};function dT(e){return !isNaN(e)&&!isFinite(e)}function kr(m,e,k,i){var v=1-m;return dT(e[v])&&dT(k[v])}function Eo(k,m){var e=m.coord[0];var i=m.coord[1];if(k.type==="cartesian2d"){if(e&&i&&(kr(1,e,i,k)||kr(0,e,i,k))){return true}}return di(k,{coord:e,x:m.x0,y:m.y0})||di(k,{coord:i,x:m.x1,y:m.y1})}function zD(on,KA,Kz,v,v1){var Z=v.coordinateSystem;var KC=on.getItemModel(KA);var KB;var e=BD(KC.get(Kz[0]),v1.getWidth());var m=BD(KC.get(Kz[1]),v1.getHeight());if(!isNaN(e)&&!isNaN(m)){KB=[e,m]}else{if(v.getMarkerPosition){KB=v.getMarkerPosition(on.getValues(Kz,KA))}else{var v3=on.get(Kz[0],KA);var v2=on.get(Kz[1],KA);var KD=[v3,v2];Z.clampData&&Z.clampData(KD,KD);KB=Z.dataToPoint(KD,true)}if(Z.type==="cartesian2d"){var k=Z.getAxis("x");var i=Z.getAxis("y");var v3=on.get(Kz[0],KA);var v2=on.get(Kz[1],KA);if(dT(v3)){KB[0]=k.toGlobalCoord(k.getExtent()[Kz[0]==="x0"?0:1])}else{if(dT(v2)){KB[1]=i.toGlobalCoord(i.getExtent()[Kz[1]==="y0"?0:1])}}}if(!isNaN(e)){KB[0]=e}if(!isNaN(m)){KB[1]=m}}return KB}var gI=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];uG.extend({type:"markArea",updateTransform:function(k,e,i){e.eachSeries(function(v){var m=v.markAreaModel;if(m){var Z=m.getData();Z.each(function(on){var v2=Gj(gI,function(v3){return zD(Z,on,v3,v,i)});Z.setItemLayout(on,v2);var v1=Z.getItemGraphicEl(on);v1.setShape("points",v2)})}},this)},renderSeries:function(v,k,on,v1){var Z=v.coordinateSystem;var v3=v.id;var i=v.getData();var m=this.markerGroupMap;var e=m.get(v3)||m.set(v3,{group:new D4()});this.group.add(e.group);e.__keep=true;var v2=aH(Z,v,k);k.setData(v2);v2.each(function(Kz){var KA=Gj(gI,function(KC){return zD(v2,Kz,KC,v,v1)});var KB=true;qg(gI,function(KE){if(!KB){return}var KD=v2.get(KE[0],Kz);var KC=v2.get(KE[1],Kz);if((dT(KD)||Z.getAxis("x").containData(KD))&&(dT(KC)||Z.getAxis("y").containData(KC))){KB=false}});v2.setItemLayout(Kz,{points:KA,allClipped:KB});v2.setItemVisual(Kz,{color:i.getVisual("color")})});v2.diff(e.__data).add(function(Kz){var KB=v2.getItemLayout(Kz);if(!KB.allClipped){var KA=new iO({shape:{points:KB.points}});v2.setItemGraphicEl(Kz,KA);e.group.add(KA)}}).update(function(KB,KA){var Kz=e.__data.getItemGraphicEl(KA);var KC=v2.getItemLayout(KB);if(!KC.allClipped){if(Kz){pZ(Kz,{shape:{points:KC.points}},k,KB)}else{Kz=new iO({shape:{points:KC.points}})}v2.setItemGraphicEl(KB,Kz);e.group.add(Kz)}else{if(Kz){e.group.remove(Kz)}}}).remove(function(Kz){var KA=e.__data.getItemGraphicEl(Kz);e.group.remove(KA)}).execute();v2.eachItemGraphicEl(function(KC,KA){var KD=v2.getItemModel(KA);var KE=KD.getModel("label");var Kz=KD.getModel("emphasis.label");var KB=v2.getItemVisual(KA,"color");KC.useStyle(Fg(KD.getModel("itemStyle").getItemStyle(),{fill:iX(KB,0.4),stroke:KB}));KC.hoverStyle=KD.getModel("emphasis.itemStyle").getItemStyle();Dz(KC.style,KC.hoverStyle,KE,Kz,{labelFetcher:k,labelDataIndex:KA,defaultText:v2.getName(KA)||"",isRectText:true,autoColor:KB});z3(KC,{});KC.dataModel=k});e.__data=v2;e.group.silent=k.get("silent")||v.get("silent")}});function aH(Z,m,k){var on;var v;var v1=["x0","y0","x1","y1"];if(Z){on=Gj(Z&&Z.dimensions,function(v2){var v3=m.getData();var Kz=v3.getDimensionInfo(v3.mapDimension(v2))||{};return Fg({name:v2},Kz)});v=new y6(Gj(v1,function(v3,v2){return{name:v3,type:on[v2%2].type}}),k)}else{on=[{name:"value",type:"float"}];v=new y6(on,k)}var i=Gj(k.get("data"),tT(hh,m,Z,k));if(Z){i=sk(i,tT(Eo,Z))}var e=Z?function(v3,KA,v2,Kz){return v3.coord[Math.floor(Kz/2)][Kz%2]}:function(v2){return v2.value};v.initData(i,null,e);v.hasItemOption=true;return v}AO(function(e){e.markArea=e.markArea||{}});var gP=Ek.legend.selector;var q7={all:{type:"all",title:E5(gP.all)},inverse:{type:"inverse",title:E5(gP.inverse)}};var fA=rg({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:true},init:function(k,i,e){this.mergeDefaultAndTheme(k,e);k.selected=k.selected||{};this._updateSelector(k)},mergeOption:function(e){fA.superCall(this,"mergeOption",e);this._updateSelector(e)},_updateSelector:function(i){var e=i.selector;if(e===true){e=i.selector=["all","inverse"]}if(IQ(e)){qg(e,function(m,k){xN(m)&&(m={type:m});e[k]=xF(m,q7[m.type])})}},optionUpdated:function(){this._updateData(this.ecModel);var k=this._data;if(k[0]&&this.get("selectedMode")==="single"){var e=false;for(var v=0;v<k.length;v++){var m=k[v].get("name");if(this.isSelected(m)){this.select(m);e=true;break}}!e&&this.select(k[0].get("name"))}},_updateData:function(e){var k=[];var m=[];e.eachRawSeries(function(v1){var Z=v1.name;m.push(Z);var on;if(v1.legendVisualProvider){var v3=v1.legendVisualProvider;var v2=v3.getAllNames();if(!e.isSeriesFiltered(v1)){m=m.concat(v2)}if(v2.length){k=k.concat(v2)}else{on=true}}else{on=true}if(on&&sa(v1)){k.push(v1.name)}});this._availableNames=m;var v=this.get("data")||k;var i=Gj(v,function(Z){if(typeof Z==="string"||typeof Z==="number"){Z={name:Z}}return new fV(Z,this,this.ecModel)},this);this._data=i},getData:function(){return this._data},select:function(e){var i=this.option.selected;var m=this.get("selectedMode");if(m==="single"){var k=this._data;qg(k,function(v){i[v.get("name")]=false})}i[e]=true},unSelect:function(e){if(this.get("selectedMode")!=="single"){this.option.selected[e]=false}},toggleSelected:function(e){var i=this.option.selected;if(!i.hasOwnProperty(e)){i[e]=true}this[i[e]?"unSelect":"select"](e)},allSelect:function(){var i=this._data;var e=this.option.selected;qg(i,function(k){e[k.get("name",true)]=true})},inverseSelect:function(){var i=this._data;var e=this.option.selected;qg(i,function(m){var k=m.get("name",true);if(!e.hasOwnProperty(k)){e[k]=true}e[k]=!e[k]})},isSelected:function(e){var i=this.option.selected;return !(i.hasOwnProperty(e)&&!i[e])&&fc(this._availableNames,e)>=0},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:true,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:true,selector:false,selectorLabel:{show:true,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:true,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:false}}});function kz(i,Z,e){var v={};var m=i==="toggleSelected";var k;e.eachComponent("legend",function(v1){if(m&&k!=null){v1[k?"select":"unSelect"](Z.name)}else{if(i==="allSelect"||i==="inverseSelect"){v1[i]()}else{v1[i](Z.name);k=v1.isSelected(Z.name)}}var on=v1.getData();qg(on,function(v3){var v2=v3.get("name");if(v2==="\n"||v2===""){return}var Kz=v1.isSelected(v2);if(v.hasOwnProperty(v2)){v[v2]=v[v2]&&Kz}else{v[v2]=Kz}})});return(i==="allSelect"||i==="inverseSelect")?{selected:v}:{name:Z.name,selected:v}}ce("legendToggleSelect","legendselectchanged",tT(kz,"toggleSelected"));ce("legendAllSelect","legendselectall",tT(kz,"allSelect"));ce("legendInverseSelect","legendinverseselect",tT(kz,"inverseSelect"));ce("legendSelect","legendselected",tT(kz,"select"));ce("legendUnSelect","legendunselected",tT(kz,"unSelect"));var vE=tT;var uO=qg;var sz=D4;var aQ=rL({type:"legend.plain",newlineDisabled:false,init:function(){this.group.add(this._contentGroup=new sz());this._backgroundEl;this.group.add(this._selectorGroup=new sz());this._isFirstRender=true},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(k,on,v1){var KB=this._isFirstRender;this._isFirstRender=false;this.resetInner();if(!k.get("show",true)){return}var i=k.get("align");var Z=k.get("orient");if(!i||i==="auto"){i=(k.get("left")==="right"&&Z==="vertical")?"right":"left"}var m=k.get("selector",true);var KC=k.get("selectorPosition",true);if(m&&(!KC||KC==="auto")){KC=Z==="horizontal"?"end":"start"}this.renderInner(i,k,on,v1,m,Z,KC);var e=k.getBoxLayoutParams();var v={width:v1.getWidth(),height:v1.getHeight()};var v3=k.get("padding");var KA=lL(e,v,v3);var v2=this.layoutInner(k,i,KA,KB,m,KC);var Kz=lL(Fg({width:v2.width,height:v2.height},e),v,v3);this.group.attr("position",[Kz.x-v2.x,Kz.y-v2.y]);this.group.add(this._backgroundEl=Cf(v2,k))},resetInner:function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl);this.getSelectorGroup().removeAll()},renderInner:function(e,k,Z,v1,m,v,Kz){var v2=this.getContentGroup();var i=EI();var on=k.get("selectedMode");var v3=[];Z.eachRawSeries(function(KA){!KA.get("legendHoverLink")&&v3.push(KA.id)});uO(k.getData(),function(KI,KH){var KA=KI.get("name");if(!this.newlineDisabled&&(KA===""||KA==="\n")){v2.add(new sz({newline:true}));return}var KC=Z.getSeriesByName(KA)[0];if(i.get(KA)){return}if(KC){var KF=KC.getData();var KE=KF.getVisual("color");var KB=KF.getVisual("borderColor");if(typeof KE==="function"){KE=KE(KC.getDataParams(0))}if(typeof KB==="function"){KB=KB(KC.getDataParams(0))}var KG=KF.getVisual("legendSymbol")||"roundRect";var KJ=KF.getVisual("symbol");var KD=this._createItem(KA,KH,KI,k,KG,KJ,e,KE,KB,on);KD.on("click",vE(FT,KA,null,v1,v3)).on("mouseover",vE(wt,KC.name,null,v1,v3)).on("mouseout",vE(lq,KC.name,null,v1,v3));i.set(KA,true)}else{Z.eachRawSeries(function(KM){if(i.get(KA)){return}if(KM.legendVisualProvider){var KO=KM.legendVisualProvider;if(!KO.containName(KA)){return}var KK=KO.indexOfName(KA);var KL=KO.getItemVisual(KK,"color");var KQ=KO.getItemVisual(KK,"borderColor");var KN="roundRect";var KP=this._createItem(KA,KH,KI,k,KN,null,e,KL,KQ,on);KP.on("click",vE(FT,null,KA,v1,v3)).on("mouseover",vE(wt,null,KA,v1,v3)).on("mouseout",vE(lq,null,KA,v1,v3));i.set(KA,true)}},this)}if(pm){if(!i.get(KA)){console.warn(KA+" series not exists. Legend data should be same with series name or data name.")}}},this);if(m){this._createSelector(m,k,v1,v,Kz)}},_createSelector:function(e,v,m,k,i){var on=this.getSelectorGroup();uO(e,function(v1){Z(v1)});function Z(v2){var v3=v2.type;var Kz=new jv({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){m.dispatchAction({type:v3==="all"?"legendAllSelect":"legendInverseSelect"})}});on.add(Kz);var KA=v.getModel("selectorLabel");var v1=v.getModel("emphasis.selectorLabel");Dz(Kz.style,Kz.hoverStyle={},KA,v1,{defaultText:v2.title,isRectText:false});z3(Kz)}},_createItem:function(KS,KR,KN,m,v,KE,Kz,KM,e,KQ){var v1=m.get("itemWidth");var KK=m.get("itemHeight");var on=m.get("inactiveColor");var v3=m.get("inactiveBorderColor");var Z=m.get("symbolKeepAspect");var k=m.getModel("itemStyle");var KD=m.isSelected(KS);var KP=new sz();var KC=KN.getModel("textStyle");var KJ=KN.get("icon");var KB=KN.getModel("tooltip");var i=KB.parentModel;v=KJ||v;var KA=vz(v,0,0,v1,KK,KD?KM:on,Z==null?true:Z);KP.add(pa(KA,v,k,e,v3,KD));if(!KJ&&KE&&((KE!==v)||KE==="none")){var KG=KK*0.8;if(KE==="none"){KE="circle"}var KI=vz(KE,(v1-KG)/2,(KK-KG)/2,KG,KG,KD?KM:on,Z==null?true:Z);KP.add(pa(KI,KE,k,e,v3,KD))}var KH=Kz==="left"?v1+5:-5;var v2=Kz;var KO=m.get("formatter");var KL=KS;if(typeof KO==="string"&&KO){KL=KO.replace("{name}",KS!=null?KS:"")}else{if(typeof KO==="function"){KL=KO(KS)}}KP.add(new jv({style:ql({},KC,{text:KL,x:KH,y:KK/2,textFill:KD?KC.getTextColor():on,textAlign:v2,textVerticalAlign:"middle"})}));var KF=new GM({shape:KP.getBoundingRect(),invisible:true,tooltip:KB.get("show")?cc({content:KS,formatter:i.get("formatter",true)||function(){return KS},formatterParams:{componentType:"legend",legendIndex:m.componentIndex,name:KS,$vars:["name"]}},KB.option):null});KP.add(KF);KP.eachChild(function(KT){KT.silent=true});KF.silent=!KQ;this.getContentGroup().add(KP);z3(KP);KP.__legendDataIndex=KR;return KP},layoutInner:function(e,Z,m,v,KE,KB){var v1=this.getContentGroup();var v2=this.getSelectorGroup();fL(e.get("orient"),v1,e.get("itemGap"),m.width,m.height);var KC=v1.getBoundingRect();var v3=[-KC.x,-KC.y];if(KE){fL("horizontal",v2,e.get("selectorItemGap",true));var k=v2.getBoundingRect();var i=[-k.x,-k.y];var KG=e.get("selectorButtonGap",true);var Kz=e.getOrient().index;var on=Kz===0?"width":"height";var KF=Kz===0?"height":"width";var KA=Kz===0?"y":"x";if(KB==="end"){i[Kz]+=KC[on]+KG}else{v3[Kz]+=k[on]+KG}i[1-Kz]+=KC[KF]/2-k[KF]/2;v2.attr("position",i);v1.attr("position",v3);var KD={x:0,y:0};KD[on]=KC[on]+KG+k[on];KD[KF]=Math.max(KC[KF],k[KF]);KD[KA]=Math.min(0,k[KA]+i[1-Kz]);return KD}else{v1.attr("position",v3);return this.group.getBoundingRect()}},remove:function(){this.getContentGroup().removeAll();this._isFirstRender=true}});function pa(m,v,Z,on,e,i){var k;if(v!=="line"&&v.indexOf("empty")<0){k=Z.getItemStyle();m.style.stroke=on;if(!i){k.stroke=e}}else{k=Z.getItemStyle(["borderWidth","borderColor"])}return m.setStyle(k)}function FT(i,e,m,k){lq(i,e,m,k);m.dispatchAction({type:"legendToggleSelect",name:i!=null?i:e});wt(i,e,m,k)}function wt(i,e,v,k){var m=v.getZr().storage.getDisplayList()[0];if(!(m&&m.useHoverLayer)){v.dispatchAction({type:"highlight",seriesName:i,name:e,excludeSeriesId:k})}}function lq(i,e,v,k){var m=v.getZr().storage.getDisplayList()[0];if(!(m&&m.useHoverLayer)){v.dispatchAction({type:"downplay",seriesName:i,name:e,excludeSeriesId:k})}}var yA=function(e){var i=e.findComponents({mainType:"legend"});if(i&&i.length){e.filterSeries(function(m){for(var k=0;k<i.length;k++){if(!i[k].isSelected(m.name)){return false}}return true})}};ex(D2.PROCESSOR.SERIES_FILTER,yA);aO.registerSubTypeDefaulter("legend",function(){return"plain"});var jV=fA.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(k,i,e,m){var v=hD(k);jV.superCall(this,"init",k,i,e,m);gg(this,k,v)},mergeOption:function(e,i){jV.superCall(this,"mergeOption",e,i);gg(this,this.option,e)}});function gg(m,v,k){var i=m.getOrient();var e=[1,1];e[i.index]=0;hP(v,k,{type:"box",ignoreSize:e})}var sy=D4;var d1=["width","height"];var c9=["x","y"];var t1=aQ.extend({type:"legend.scroll",newlineDisabled:true,init:function(){t1.superCall(this,"init");this._currentIndex=0;this.group.add(this._containerGroup=new sy());this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new sy());this._showController},resetInner:function(){t1.superCall(this,"resetInner");this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null},renderInner:function(e,m,v2,v3,on,v1,KA){var Kz=this;t1.superCall(this,"renderInner",e,m,v2,v3,on,v1,KA);var k=this._controllerGroup;var i=m.get("pageIconSize",true);if(!IQ(i)){i=[i,i]}v("pagePrev",0);var Z=m.getModel("pageTextStyle");k.add(new jv({name:"pageText",style:{textFill:Z.getTextColor(),font:Z.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:true}));v("pageNext",1);function v(KC,KB){var KD=KC+"DataIndex";var KE=Ih(m.get("pageIcons",true)[m.getOrient().name][KB],{onclick:k9(Kz._pageGo,Kz,KD,m,v3)},{x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]});KE.name=KC;k.add(KE)}},layoutInner:function(e,v1,m,on,KD,KB){var v3=this.getSelectorGroup();var Kz=e.getOrient().index;var v2=d1[Kz];var Z=c9[Kz];var KE=d1[1-Kz];var KA=c9[1-Kz];KD&&fL("horizontal",v3,e.get("selectorItemGap",true));var KG=e.get("selectorButtonGap",true);var k=v3.getBoundingRect();var i=[-k.x,-k.y];var KF=E5(m);KD&&(KF[v2]=m[v2]-k[v2]-KG);var KC=this._layoutContentAndController(e,on,KF,Kz,v2,KE,KA);if(KD){if(KB==="end"){i[Kz]+=KC[v2]+KG}else{var v=k[v2]+KG;i[Kz]-=v;KC[Z]-=v}KC[v2]+=k[v2]+KG;i[1-Kz]+=KC[KA]+KC[KE]/2-k[KE]/2;KC[KE]=Math.max(KC[KE],k[KE]);KC[KA]=Math.min(KC[KA],k[KA]+i[1-Kz]);v3.attr("position",i)}return KC},_layoutContentAndController:function(i,v2,Z,KD,v3,KH,KE){var KA=this.getContentGroup();var on=this._containerGroup;var m=this._controllerGroup;fL(i.get("orient"),KA,i.get("itemGap"),!KD?null:Z.width,KD?null:Z.height);fL("horizontal",m,i.get("pageButtonItemGap",true));var KF=KA.getBoundingRect();var KJ=m.getBoundingRect();var KI=this._showController=KF[v3]>Z[v3];var KB=[-KF.x,-KF.y];if(!v2){KB[KD]=KA.position[KD]}var v1=[0,0];var k=[-KJ.x,-KJ.y];var KC=kY(i.get("pageButtonGap",true),i.get("itemGap",true));if(KI){var e=i.get("pageButtonPosition",true);if(e==="end"){k[KD]+=Z[v3]-KJ[v3]}else{v1[KD]+=KJ[v3]+KC}}k[1-KD]+=KF[KH]/2-KJ[KH]/2;KA.attr("position",KB);on.attr("position",v1);m.attr("position",k);var KG={x:0,y:0};KG[v3]=KI?Z[v3]:KF[v3];KG[KH]=Math.max(KF[KH],KJ[KH]);KG[KE]=Math.min(0,KJ[KE]+k[1-KD]);on.__rectSize=Z[v3];if(KI){var Kz={x:0,y:0};Kz[v3]=Math.max(Z[v3]-KJ[v3]-KC,0);Kz[KH]=KG[KH];on.setClipPath(new GM({shape:Kz}));on.__rectSize=Kz[v3]}else{m.eachChild(function(KK){KK.attr({invisible:true,silent:true})})}var v=this._getPageInfo(i);v.pageIndex!=null&&pZ(KA,{position:v.contentPosition},KI?i:false);this._updatePageInfoView(i,v);return KG},_pageGo:function(m,i,e){var k=this._getPageInfo(i)[m];k!=null&&e.dispatchAction({type:"legendScroll",scrollDataIndex:k,legendId:i.id})},_updatePageInfoView:function(k,i){var v1=this._controllerGroup;qg(["pagePrev","pageNext"],function(v2){var Kz=i[v2+"DataIndex"]!=null;var v3=v1.childOfName(v2);if(v3){v3.setStyle("fill",Kz?k.get("pageIconColor",true):k.get("pageIconInactiveColor",true));v3.cursor=Kz?"pointer":"default"}});var v=v1.childOfName("pageText");var on=k.get("pageFormatter");var e=i.pageIndex;var Z=e!=null?e+1:0;var m=i.pageCount;v&&on&&v.setStyle("text",xN(on)?on.replace("{current}",Z).replace("{total}",m):on({current:Z,total:m}))},_getPageInfo:function(m){var v=m.get("scrollDataIndex",true);var Kz=this.getContentGroup();var e=this._containerGroup.__rectSize;var KB=m.getOrient().index;var v2=d1[KB];var v1=c9[KB];var KG=this._findTargetItemIndex(v);var on=Kz.children();var KA=on[KG];var KJ=on.length;var v3=!KJ?0:1;var KC={contentPosition:Kz.position.slice(),pageCount:v3,pageIndex:v3-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!KA){return KC}var k=KE(KA);KC.contentPosition[KB]=-k.s;for(var KH=KG+1,Z=k,KF=k,KD=null;KH<=KJ;++KH){KD=KE(on[KH]);if((!KD&&KF.e>Z.s+e)||(KD&&!KI(KD,Z.s))){if(KF.i>Z.i){Z=KF}else{Z=KD}if(Z){if(KC.pageNextDataIndex==null){KC.pageNextDataIndex=Z.i}++KC.pageCount}}KF=KD}for(var KH=KG-1,Z=k,KF=k,KD=null;KH>=-1;--KH){KD=KE(on[KH]);if((!KD||!KI(KF,KD.s))&&Z.i<KF.i){KF=Z;if(KC.pagePrevDataIndex==null){KC.pagePrevDataIndex=Z.i}++KC.pageCount;++KC.pageIndex}Z=KD}return KC;function KE(i){if(i){var KL=i.getBoundingRect();var KK=KL[v1]+i.position[KB];return{s:KK,e:KK+KL[v2],i:i.__legendDataIndex}}}function KI(i,KK){return i.e>=KK&&i.s<=KK+e}},_findTargetItemIndex:function(m){if(!this._showController){return 0}var e;var i=this.getContentGroup();var k;i.eachChild(function(on,v){var Z=on.__legendDataIndex;if(k==null&&Z!=null){k=v}if(Z===m){e=v}});return e!=null?e:k}});ce("legendScroll","legendscroll",function(k,e){var i=k.scrollDataIndex;i!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:k},function(m){m.setScrollDataIndex(i)})});var FE=Ai.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:true,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:0.5,opacity:0.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:0.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:true,showDataShadow:"auto",realtime:true,zoomLock:false,textStyle:{color:"#333"}}});var CP=GM;var mS=GV;var G3=qe;var qB=k9;var uN=qg;var yR=7;var bO=1;var pk=30;var rj="horizontal";var dh="vertical";var kt=5;var n0=["line","bar","candlestick","scatter"];var e3=Ga.extend({type:"dataZoom.slider",init:function(e,i){this._displayables={};this._orient;this._range;this._handleEnds;this._size;this._handleWidth;this._handleHeight;this._location;this._dragging;this._dataShadowInfo;this.api=i},render:function(m,e,i,k){e3.superApply(this,"render",arguments);nF(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=m.get("orient");if(this.dataZoomModel.get("show")===false){this.group.removeAll();return}if(!k||k.type!=="dataZoom"||k.from!==this.uid){this._buildView()}this._updateView()},remove:function(){e3.superApply(this,"remove",arguments);cW(this,"_dispatchZoomAction")},dispose:function(){e3.superApply(this,"dispose",arguments);cW(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll();this._resetLocation();this._resetInterval();var i=this._displayables.barGroup=new D4();this._renderBackground();this._renderHandle();this._renderDataShadow();e.add(i);this._positionGroup()},_resetLocation:function(){var on=this.dataZoomModel;var v=this.api;var m=this._findCoordRect();var e={width:v.getWidth(),height:v.getHeight()};var i=this._orient===rj?{right:e.width-m.x-m.width,top:(e.height-pk-yR),width:m.width,height:pk}:{right:yR,top:m.y,width:pk,height:m.height};var k=hD(on.option);qg(["right","top","width","height"],function(v1){if(k[v1]==="ph"){k[v1]=i[v1]}});var Z=lL(k,e,on.padding);this._location={x:Z.x,y:Z.y};this._size=[Z.width,Z.height];this._orient===dh&&this._size.reverse()},_positionGroup:function(){var m=this.group;var i=this._location;var v=this._orient;var v1=this.dataZoomModel.getFirstTargetAxisModel();var e=v1&&v1.get("inverse");var on=this._displayables.barGroup;var k=(this._dataShadowInfo||{}).otherAxisInverse;on.attr((v===rj&&!e)?{scale:k?[1,1]:[1,-1]}:(v===rj&&e)?{scale:k?[-1,1]:[-1,-1]}:(v===dh&&!e)?{scale:k?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:k?[-1,-1]:[-1,1],rotation:Math.PI/2});var Z=m.getBoundingRect([on]);m.attr("position",[i.x-Z.x,i.y-Z.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var k=this.dataZoomModel;var e=this._size;var i=this._displayables.barGroup;i.add(new CP({silent:true,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:k.get("backgroundColor")},z2:-40}));i.add(new CP({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:k9(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var m=this._dataShadowInfo=this._prepareDataShadowInfo();if(!m){return}var KE=this._size;var v=m.series;var on=v.getRawData();var KB=v.getShadowDim?v.getShadowDim():m.otherDim;if(KB==null){return}var v2=on.getDataExtent(KB);var KD=(v2[1]-v2[0])*0.3;v2=[v2[0]-KD,v2[1]+KD];var KC=[0,KE[1]];var KA=[0,KE[0]];var v3=[[KE[0],0],[0,0]];var Kz=[];var k=KA[1]/(on.count()-1);var e=0;var i=Math.round(on.count()/KE[0]);var v1;on.each([KB],function(KH,KF){if(i>0&&(KF%i)){e+=k;return}var KI=KH==null||isNaN(KH)||KH==="";var KG=KI?0:mS(KH,v2,KC,true);if(KI&&!v1&&KF){v3.push([v3[v3.length-1][0],0]);Kz.push([Kz[Kz.length-1][0],0])}else{if(!KI&&v1){v3.push([e,0]);Kz.push([e,0])}}v3.push([e,KG]);Kz.push([e,KG]);e+=k;v1=KI});var Z=this.dataZoomModel;this._displayables.barGroup.add(new iO({shape:{points:v3},style:Fg({fill:Z.get("dataBackgroundColor")},Z.getModel("dataBackground.areaStyle").getAreaStyle()),silent:true,z2:-20}));this._displayables.barGroup.add(new BY({shape:{points:Kz},style:Z.getModel("dataBackground.lineStyle").getLineStyle(),silent:true,z2:-19}))},_prepareDataShadowInfo:function(){var m=this.dataZoomModel;var k=m.get("showDataShadow");if(k===false){return}var i;var e=this.ecModel;m.eachTargetAxis(function(v,Z){var on=m.getAxisProxy(v.name,Z).getTargetSeriesModels();qg(on,function(v3){if(i){return}if(k!==true&&fc(n0,v3.get("type"))<0){return}var Kz=e.getComponent(v.axis,Z).axis;var v1=rx(v.name);var v2;var KA=v3.coordinateSystem;if(v1!=null&&KA.getOtherAxis){v2=KA.getOtherAxis(Kz).inverse}v1=v3.getData().mapDimension(v1);i={thisAxis:Kz,series:v3,thisDim:v.name,otherDim:v1,otherAxisInverse:v2}},this)},this);return i},_renderHandle:function(){var Z=this._displayables;var k=Z.handles=[];var e=Z.handleLabels=[];var m=this._displayables.barGroup;var i=this._size;var v=this.dataZoomModel;m.add(Z.filler=new CP({draggable:true,cursor:mU(this._orient),drift:qB(this._onDragMove,this,"all"),ondragstart:qB(this._showDataInfo,this,true),ondragend:qB(this._onDragEnd,this),onmouseover:qB(this._showDataInfo,this,true),onmouseout:qB(this._showDataInfo,this,false),style:{fill:v.get("fillerColor"),textPosition:"inside"}}));m.add(new CP({silent:true,subPixelOptimize:true,shape:{x:0,y:0,width:i[0],height:i[1]},style:{stroke:v.get("dataBackgroundColor")||v.get("borderColor"),lineWidth:bO,fill:"rgba(0,0,0,0)"}}));uN([0,1],function(Kz){var v2=Ih(v.get("handleIcon"),{cursor:mU(this._orient),draggable:true,drift:qB(this._onDragMove,this,Kz),ondragend:qB(this._onDragEnd,this),onmouseover:qB(this._showDataInfo,this,true),onmouseout:qB(this._showDataInfo,this,false)},{x:-1,y:0,width:2,height:2});var v1=v2.getBoundingRect();this._handleHeight=BD(v.get("handleSize"),this._size[1]);this._handleWidth=v1.width/v1.height*this._handleHeight;v2.setStyle(v.getModel("handleStyle").getItemStyle());var v3=v.get("handleColor");if(v3!=null){v2.style.fill=v3}m.add(k[Kz]=v2);var on=v.textStyleModel;this.group.add(e[Kz]=new jv({silent:true,invisible:true,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:on.getTextColor(),textFont:on.getFont()},z2:10}))},this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange();var i=this._getViewExtent();this._handleEnds=[mS(e[0],[0,100],i,true),mS(e[1],[0,100],i,true)]},_updateInterval:function(e,v1){var i=this.dataZoomModel;var v=this._handleEnds;var v2=this._getViewExtent();var on=i.findRepresentativeAxisProxy().getMinMaxSpan();var Z=[0,100];ot(v1,v,v2,i.get("zoomLock")?"all":e,on.minSpan!=null?mS(on.minSpan,Z,v2,true):null,on.maxSpan!=null?mS(on.maxSpan,Z,v2,true):null);var k=this._range;var m=this._range=G3([mS(v[0],v2,Z,true),mS(v[1],v2,Z,true)]);return !k||k[0]!==m[0]||k[1]!==m[1]},_updateView:function(k){var v=this._displayables;var m=this._handleEnds;var e=G3(m.slice());var i=this._size;uN([0,1],function(v1){var on=v.handles[v1];var Z=this._handleHeight;on.attr({scale:[Z/2,Z/2],position:[m[v1],i[1]/2-Z/2]})},this);v.filler.setShape({x:e[0],y:0,width:e[1]-e[0],height:i[1]});this._updateDataInfo(k)},_updateDataInfo:function(KA){var on=this.dataZoomModel;var i=this._displayables;var v=i.handleLabels;var Z=this._orient;var v3=["",""];if(on.get("showDetail")){var e=on.findRepresentativeAxisProxy();if(e){var m=e.getAxisModel().axis;var v1=this._range;var v2=KA?e.calculateDataWindow({start:v1[0],end:v1[1]}).valueWindow:e.getDataValueWindow();v3=[this._formatLabel(v2[0],m),this._formatLabel(v2[1],m)]}}var Kz=G3(this._handleEnds.slice());k.call(this,0);k.call(this,1);function k(KF){var KD=aP(i.handles[KF].parent,this.group);var KC=o2(KF===0?"right":"left",KD);var KE=this._handleWidth/2+kt;var KB=xI([Kz[KF]+(KF===0?-KE:KE),this._size[1]/2],KD);v[KF].setStyle({x:KB[0],y:KB[1],textVerticalAlign:Z===rj?"middle":KC,textAlign:Z===rj?KC:"center",text:v3[KF]})}},_formatLabel:function(v,m){var Z=this.dataZoomModel;var k=Z.get("labelFormatter");var i=Z.get("labelPrecision");if(i==null||i==="auto"){i=m.getPixelPrecision()}var e=(v==null||isNaN(v))?"":(m.type==="category"||m.type==="time")?m.scale.getLabel(Math.round(v)):v.toFixed(Math.min(i,20));return Hb(k)?k(v,e):xN(k)?k.replace("{value}",e):e},_showDataInfo:function(e){e=this._dragging||e;var i=this._displayables.handleLabels;i[0].attr("invisible",!e);i[1].attr("invisible",!e)},_onDragMove:function(v1,k,i,m){this._dragging=true;I1(m.event);var Z=this._displayables.barGroup.getLocalTransform();var v=xI([k,i],Z,true);var on=this._updateInterval(v1,v[0]);var e=this.dataZoomModel.get("realtime");this._updateView(!e);on&&e&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=false;this._showDataInfo(false);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction()},_onClickPanelClick:function(v){var k=this._size;var m=this._displayables.barGroup.transformCoordToLocal(v.offsetX,v.offsetY);if(m[0]<0||m[0]>k[0]||m[1]<0||m[1]>k[1]){return}var on=this._handleEnds;var i=(on[0]+on[1])/2;var Z=this._updateInterval("all",m[0]-i);this._updateView();Z&&this._dispatchZoomAction()},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_findCoordRect:function(){var k;uN(this.getTargetCoordInfo(),function(v){if(!k&&v.length){var m=v[0].model.coordinateSystem;k=m.getRect&&m.getRect()}});if(!k){var i=this.api.getWidth();var e=this.api.getHeight();k={x:i*0.2,y:e*0.2,width:i*0.6,height:e*0.6}}return k}});function rx(i){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[i]}function mU(e){return e==="vertical"?"ns-resize":"ew-resize"}Ai.extend({type:"dataZoom.inside",defaultOption:{disabled:false,zoomLock:false,zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:false,preventDefaultMouseMove:true}});var by="\0_ec_dataZoom_roams";function aK(v,on){var k=pF(v);var i=on.dataZoomId;var m=on.coordId;qg(k,function(v1,v3){var v2=v1.dataZoomInfos;if(v2[i]&&fc(on.allCoordIds,m)<0){delete v2[i];v1.count--}});L(k);var e=k[m];if(!e){e=k[m]={coordId:m,dataZoomInfos:{},count:0};e.controller=oO(v,e);e.dispatchAction=tT(dS,v)}!(e.dataZoomInfos[i])&&e.count++;e.dataZoomInfos[i]=on;var Z=Ki(e.dataZoomInfos);e.controller.enable(Z.controlType,Z.opt);e.controller.setPointerChecker(on.containsPoint);nF(e,"dispatchAction",on.dataZoomModel.get("throttle",true),"fixRate")}function fK(k,e){var i=pF(k);qg(i,function(m){m.controller.dispose();var v=m.dataZoomInfos;if(v[e]){delete v[e];m.count--}});L(i)}function kN(e){return e.type+"\0_"+e.id}function pF(e){var i=e.getZr();return i[by]||(i[by]={})}function oO(k,i){var e=new ai(k.getZr());qg(["pan","zoom","scrollMove"],function(m){e.on(m,function(Z){var v=[];qg(i.dataZoomInfos,function(v1){if(!Z.isAvailableBehavior(v1.dataZoomModel.option)){return}var v2=(v1.getRange||{})[m];var on=v2&&v2(i.controller,Z);!v1.dataZoomModel.get("disabled",true)&&on&&v.push({dataZoomId:v1.dataZoomId,start:on[0],end:on[1]})});v.length&&i.dispatchAction(v)})});return e}function L(e){qg(e,function(i,k){if(!i.count){i.controller.dispose();delete e[k]}})}function dS(i,e){i.dispatchAction({type:"dataZoom",batch:e})}function Ki(i){var v;var k="type_";var e={type_true:2,type_move:1,type_false:0,type_undefined:-1};var m=true;qg(i,function(v1){var on=v1.dataZoomModel;var Z=on.get("disabled",true)?false:on.get("zoomLock",true)?"move":true;if(e[k+Z]>e[k+v]){v=Z}m&=on.get("preventDefaultMouseMove",true)});return{controlType:v,opt:{zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:true,preventDefaultMouseMove:!!m}}}var qA=k9;var se=Ga.extend({type:"dataZoom.inside",init:function(e,i){this._range},render:function(m,e,i,k){se.superApply(this,"render",arguments);this._range=m.getPercentRange();qg(this.getTargetCoordInfo(),function(v,Z){var on=Gj(v,function(v1){return kN(v1.model)});qg(v,function(v1){var v3=v1.model;var v2={};qg(["pan","zoom","scrollMove"],function(Kz){v2[Kz]=qA(cK[Kz],this,v1,Z)},this);aK(i,{coordId:kN(v3),allCoordIds:on,containsPoint:function(KA,Kz,KB){return v3.coordinateSystem.containPoint([Kz,KB])},dataZoomId:m.id,dataZoomModel:m,getRange:v2})},this)},this)},dispose:function(){fK(this.api,this.dataZoomModel.id);se.superApply(this,"dispose",arguments);this._range=null}});var cK={zoom:function(i,m,v1,v2){var Z=this._range;var on=Z.slice();var KA=i.axisModels[0];if(!KA){return}var Kz=xe[m](null,[v2.originX,v2.originY],KA,v1,i);var k=(Kz.signal>0?(Kz.pixelStart+Kz.pixelLength-Kz.pixel):(Kz.pixel-Kz.pixelStart))/Kz.pixelLength*(on[1]-on[0])+on[0];var v=Math.max(1/v2.scale,0);on[0]=(on[0]-k)*v+k;on[1]=(on[1]-k)*v+k;var v3=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();ot(0,on,[0,100],0,v3.minSpan,v3.maxSpan);this._range=on;if(Z[0]!==on[0]||Z[1]!==on[1]){return on}},pan:cP(function(k,m,v,on,i,Z){var v1=xe[on]([Z.oldX,Z.oldY],[Z.newX,Z.newY],m,i,v);return v1.signal*(k[1]-k[0])*v1.pixel/v1.pixelLength}),scrollMove:cP(function(k,m,v,on,i,Z){var v1=xe[on]([0,0],[Z.scrollDelta,Z.scrollDelta],m,i,v);return v1.signal*(k[1]-k[0])*Z.scrollDelta})};function cP(e){return function(v,v1,i,on){var v2=this._range;var k=v2.slice();var m=v.axisModels[0];if(!m){return}var Z=e(k,m,v,v1,i,on);ot(Z,k,[0,100],"all");this._range=k;if(v2[0]!==k[0]||v2[1]!==k[1]){return k}}}var xe={grid:function(v1,i,m,e,Z){var v=m.axis;var k={};var on=Z.model.coordinateSystem.getRect();v1=v1||[0,0];if(v.dim==="x"){k.pixel=i[0]-v1[0];k.pixelLength=on.width;k.pixelStart=on.x;k.signal=v.inverse?1:-1}else{k.pixel=i[1]-v1[1];k.pixelLength=on.height;k.pixelStart=on.y;k.signal=v.inverse?-1:1}return k},polar:function(e,m,v3,on,i){var v=v3.axis;var v1={};var k=i.model.coordinateSystem;var Z=k.getRadiusAxis().getExtent();var v2=k.getAngleAxis().getExtent();e=e?k.pointToCoord(e):[0,0];m=k.pointToCoord(m);if(v3.mainType==="radiusAxis"){v1.pixel=m[0]-e[0];v1.pixelLength=Z[1]-Z[0];v1.pixelStart=Z[0];v1.signal=v.inverse?1:-1}else{v1.pixel=m[1]-e[1];v1.pixelLength=v2[1]-v2[0];v1.pixelStart=v2[0];v1.signal=v.inverse?-1:1}return v1},singleAxis:function(v1,i,m,e,Z){var v=m.axis;var on=Z.model.coordinateSystem.getRect();var k={};v1=v1||[0,0];if(v.orient==="horizontal"){k.pixel=i[0]-v1[0];k.pixelLength=on.width;k.pixelStart=on.x;k.signal=v.inverse?1:-1}else{k.pixel=i[1]-v1[1];k.pixelLength=on.height;k.pixelStart=on.y;k.signal=v.inverse?-1:1}return k}};var uM=qg;var Kb=function(i){var e=i&&i.visualMap;if(!IQ(e)){e=e?[e]:[]}uM(e,function(k){if(!k){return}if(pR(k,"splitList")&&!pR(k,"pieces")){k.pieces=k.splitList;delete k.splitList}var m=k.pieces;if(m&&IQ(m)){uM(m,function(v){if(u7(v)){if(pR(v,"start")&&!pR(v,"min")){v.min=v.start}if(pR(v,"end")&&!pR(v,"max")){v.max=v.end}}})}})};function pR(i,e){return i&&i.hasOwnProperty&&i.hasOwnProperty(e)}aO.registerSubTypeDefaulter("visualMap",function(e){return(!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable))?"continuous":"piecewise"});var pL=D2.VISUAL.COMPONENT;H(pL,{createOnAllSeries:true,reset:function(i,e){var k=[];e.eachComponent("visualMap",function(m){var v=i.pipelineContext;if(!m.isTargetSeries(i)||(v&&v.large)){return}k.push(md(m.stateList,m.targetVisuals,k9(m.getValueState,m),m.getDataDimension(i.getData())))});return k}});H(pL,{createOnAllSeries:true,reset:function(i,e){var m=i.getData();var k=[];e.eachComponent("visualMap",function(on){if(on.isTargetSeries(i)){var v=on.getVisualMeta(k9(dE,null,i,on))||{stops:[],outerColors:[]};var v1=on.getDataDimension(m);var Z=m.getDimensionInfo(v1);if(Z!=null){v.dimension=Z.index;k.push(v)}}});i.getData().setVisual("visualMeta",k)}});function dE(Z,KC,KB,v){var v1=KC.targetVisuals[v];var k=nC.prepareVisualTypes(v1);var m={color:Z.getData().getVisual("color")};for(var on=0,v2=k.length;on<v2;on++){var Kz=k[on];var e=v1[Kz==="opacity"?"__alphaForOpacity":Kz];e&&e.applyVisual(KB,v3,KA)}return m.color;function v3(i){return m[i]}function KA(i,KD){m[i]=KD}}var JU={get:function(m,i,e){var k=E5((rs[m]||{})[i]);return e?(IQ(k)?k[k.length-1]:k):k}};var rs={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[0.3,1],inactive:[0,0]},colorLightness:{active:[0.9,0.5],inactive:[0,0]},colorAlpha:{active:[0.3,1],inactive:[0,0]},opacity:{active:[0.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};var nG=nC.mapVisual;var pA=nC.eachVisual;var Kt=IQ;var uI=qg;var G2=qe;var mR=GV;var xi=Y;var oP=rg({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-Infinity,Infinity],layoutMode:{type:"box",ignoreSize:true},defaultOption:{show:true,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:false,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(k,i,e){this._dataExtent;this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.itemSize;this.mergeDefaultAndTheme(k,e)},optionUpdated:function(i,k){var e=this.option;if(!uk.canvasSupported){e.realtime=false}!k&&n7(e,i,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(i){var e=this.stateList;i=k9(i,this);this.controllerVisuals=B2(this.option.controller,e,i);this.targetVisuals=B2(this.option.target,e,i)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex;var i=[];if(e==null||e==="all"){this.ecModel.eachSeries(function(k,m){i.push(m)})}else{i=nk(e)}return i},eachTargetSeries:function(i,e){qg(this.getTargetSeriesIndices(),function(k){i.call(e,this.ecModel.getSeriesByIndex(k))},this)},isTargetSeries:function(e){var i=false;this.eachTargetSeries(function(k){k===e&&(i=true)});return i},formatValueText:function(v1,Z,on){var k=this.option;var m=k.precision;var v=this.dataBound;var v2=k.formatter;var v3;var i;on=on||["<",">"];if(IQ(v1)){v1=v1.slice();v3=true}i=Z?v1:(v3?[e(v1[0]),e(v1[1])]:e(v1));if(xN(v2)){return v2.replace("{value}",v3?i[0]:i).replace("{value2}",v3?i[1]:i)}else{if(Hb(v2)){return v3?v2(v1[0],v1[1]):v2(v1)}}if(v3){if(v1[0]===v[0]){return on[0]+" "+i[1]}else{if(v1[1]===v[1]){return on[1]+" "+i[0]}else{return i[0]+" - "+i[1]}}}else{return i}function e(Kz){return Kz===v[0]?"min":Kz===v[1]?"max":(+Kz).toFixed(Math.min(m,20))}},resetExtent:function(){var e=this.option;var i=G2([e.min,e.max]);this._dataExtent=i},getDataDimension:function(v){var v1=this.option.dimension;var on=v.dimensions;if(v1==null&&!on.length){return}if(v1!=null){return v.getDimension(v1)}var k=v.dimensions;for(var m=k.length-1;m>=0;m--){var Z=k[m];var e=v.getDimensionInfo(Z);if(!e.isCalculationCoord){return Z}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var m=this.ecModel;var v1=this.option;var e={inRange:v1.inRange,outOfRange:v1.outOfRange};var v=v1.target||(v1.target={});var k=v1.controller||(v1.controller={});xF(v,e);xF(k,e);var Z=this.isCategory();on.call(this,v);on.call(this,k);v2.call(this,v,"inRange","outOfRange");i.call(this,k);function on(v3){if(Kt(v1.color)&&!v3.inRange){v3.inRange={color:v1.color.slice().reverse()}}v3.inRange=v3.inRange||{color:m.get("gradientColor")};uI(this.stateList,function(KA){var KB=v3[KA];if(xN(KB)){var Kz=JU.get(KB,"active",Z);if(Kz){v3[KA]={};v3[KA][KB]=Kz}else{delete v3[KA]}}},this)}function v2(KB,KC,Kz){var KA=KB[KC];var v3=KB[Kz];if(KA&&!v3){v3=KB[Kz]={};uI(KA,function(KF,KE){if(!nC.isValidType(KE)){return}var KD=JU.get(KE,"inactive",Z);if(KD!=null){v3[KE]=KD;if(KE==="color"&&!v3.hasOwnProperty("opacity")&&!v3.hasOwnProperty("colorAlpha")){v3.opacity=[0,0]}}})}}function i(v3){var KB=(v3.inRange||{}).symbol||(v3.outOfRange||{}).symbol;var KA=(v3.inRange||{}).symbolSize||(v3.outOfRange||{}).symbolSize;var Kz=this.get("inactiveColor");uI(this.stateList,function(KF){var KG=this.itemSize;var KE=v3[KF];if(!KE){KE=v3[KF]={color:Z?Kz:[Kz]}}if(KE.symbol==null){KE.symbol=KB&&E5(KB)||(Z?"roundRect":["roundRect"])}if(KE.symbolSize==null){KE.symbolSize=KA&&E5(KA)||(Z?KG[0]:[KG[0],KG[0]])}KE.symbol=nG(KE.symbol,function(KH){return(KH==="none"||KH==="square")?"roundRect":KH});var KD=KE.symbolSize;if(KD!=null){var KC=-Infinity;pA(KD,function(KH){KH>KC&&(KC=KH)});KE.symbolSize=nG(KD,function(KH){return mR(KH,[0,KC],[0,KG[0]],true)})}},this)}},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return !!this.option.categories},setSelected:xi,getValueState:xi,getVisualMeta:xi});var ow=[20,140];var gu=oP.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:false,range:null,realtime:true,itemHeight:null,itemWidth:null,hoverLink:true,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,i){gu.superApply(this,"optionUpdated",arguments);this.resetExtent();this.resetVisual(function(k){k.mappingMethod="linear";k.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){gu.superApply(this,"resetItemSize",arguments);var e=this.itemSize;this._orient==="horizontal"&&e.reverse();(e[0]==null||isNaN(e[0]))&&(e[0]=ow[0]);(e[1]==null||isNaN(e[1]))&&(e[1]=ow[1])},_resetRange:function(){var i=this.getExtent();var e=this.option.range;if(!e||e.auto){i.auto=1;this.option.range=i}else{if(IQ(e)){if(e[0]>e[1]){e.reverse()}e[0]=Math.max(e[0],i[0]);e[1]=Math.min(e[1],i[1])}}},completeVisualOption:function(){oP.prototype.completeVisualOption.apply(this,arguments);qg(this.stateList,function(i){var e=this.option.controller[i].symbolSize;if(e&&e[0]!==e[1]){e[0]=0}},this)},setSelected:function(e){this.option.range=e.slice();this._resetRange()},getSelected:function(){var i=this.getExtent();var e=qe((this.get("range")||[]).slice());e[0]>i[1]&&(e[0]=i[1]);e[1]>i[1]&&(e[1]=i[1]);e[0]<i[0]&&(e[0]=i[0]);e[1]<i[0]&&(e[1]=i[0]);return e},getValueState:function(k){var e=this.option.range;var i=this.getExtent();return((e[0]<=i[0]||e[0]<=k)&&(e[1]>=i[1]||k<=e[1]))?"inRange":"outOfRange"},findTargetDataIndices:function(i){var e=[];this.eachTargetSeries(function(k){var v=[];var m=k.getData();m.each(this.getDataDimension(m),function(on,Z){i[0]<=on&&on<=i[1]&&v.push(Z)},this);e.push({seriesId:k.id,dataIndex:v})},this);return e},getVisualMeta:function(v1){var m=BK(this,"outOfRange",this.getExtent());var Kz=BK(this,"inRange",this.option.range.slice());var v2=[];function k(KB,KA){v2.push({value:KB,color:v1(KB,KA)})}var Z=0;var v3=0;var i=Kz.length;var on=m.length;for(;v3<on&&(!Kz.length||m[v3]<=Kz[0]);v3++){if(m[v3]<Kz[Z]){k(m[v3],"outOfRange")}}for(var v=1;Z<i;Z++,v=0){v&&v2.length&&k(Kz[Z],"outOfRange");k(Kz[Z],"inRange")}for(var v=1;v3<on;v3++){if(!Kz.length||Kz[Kz.length-1]<m[v3]){if(v){v2.length&&k(v2[v2.length-1].value,"outOfRange");v=0}k(m[v3],"outOfRange")}}var e=v2.length;return{stops:v2,outerColors:[e?v2[0].color:"transparent",e?v2[e-1].color:"transparent"]}}});function BK(k,e,v2){if(v2[0]===v2[1]){return v2.slice()}var on=200;var Z=(v2[1]-v2[0])/on;var v1=v2[0];var v=[];for(var m=0;m<=on&&v1<v2[1];m++){v.push(v1);v1+=Z}v.push(v2[1]);return v}var zk=rL({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,i){this.ecModel=e;this.api=i;this.visualMapModel},render:function(i,e,k,m){this.visualMapModel=i;if(i.get("show")===false){this.group.removeAll();return}this.doRender.apply(this,arguments)},renderBackground:function(m){var e=this.visualMapModel;var k=Db(e.get("padding")||0);var i=m.getBoundingRect();m.add(new GM({z2:-1,silent:true,shape:{x:i.x-k[3],y:i.y-k[0],width:i.width+k[3]+k[1],height:i.height+k[0]+k[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(on,m,e){e=e||{};var k=e.forceState;var Kz=this.visualMapModel;var v2={};if(m==="symbol"){v2.symbol=Kz.get("itemSymbol")}if(m==="color"){var v=Kz.get("contentColor");v2.color=v}function v3(KA){return v2[KA]}function Z(KA,KB){v2[KA]=KB}var v1=Kz.controllerVisuals[k||Kz.getValueState(on)];var i=nC.prepareVisualTypes(v1);qg(i,function(KB){var KA=v1[KB];if(e.convertOpacityToAlpha&&KB==="opacity"){KB="colorAlpha";KA=v1.__alphaForOpacity}if(nC.dependsOn(KB,m)){KA&&KA.applyVisual(on,v3,Z)}});return v2[m]},positionGroup:function(k){var e=this.visualMapModel;var i=this.api;Cp(k,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:Y});function H5(KA,v2,KC){var v1=KA.option;var e=v1.align;if(e!=null&&e!=="auto"){return e}var Kz={width:v2.getWidth(),height:v2.getHeight()};var m=v1.orient==="horizontal"?1:0;var KB=[["left","right","width"],["top","bottom","height"]];var k=KB[m];var v=[0,null,10];var on={};for(var Z=0;Z<3;Z++){on[KB[1-m][Z]]=v[Z];on[k[Z]]=Z===2?KC[0]:v1[k[Z]]}var KD=[["x","width",3],["y","height",0]][m];var v3=lL(on,Kz,v1.padding);return k[(v3.margin[KD[2]]||0)+v3[KD[0]]+v3[KD[1]]*0.5<Kz[KD[1]]*0.5?0:1]}function ww(i,e){qg(i||[],function(k){if(k.dataIndex!=null){k.dataIndexInside=k.dataIndex;k.dataIndex=null}k.highlightKey="visualMap"+(e?e.componentIndex:"")});return i}var mQ=GV;var uF=qg;var j6=Math.min;var Cw=Math.max;var ca=12;var gf=6;var ha=zk.extend({type:"visualMap.continuous",init:function(){ha.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._orient;this._useHandle;this._hoverLinkDataIndices=[];this._dragging;this._hovering},doRender:function(i,e,k,m){if(!m||m.type!=="selectDataRange"||m.from!==this.uid){this._buildView()}},_buildView:function(){this.group.removeAll();var k=this.visualMapModel;var i=this.group;this._orient=k.get("orient");this._useHandle=k.get("calculable");this._resetInterval();this._renderBar(i);var e=k.get("text");this._renderEndsText(i,e,0);this._renderEndsText(i,e,1);this._updateView(true);this.renderBackground(i);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(i)},_renderEndsText:function(v2,i,KA){if(!i){return}var v3=i[1-KA];v3=v3!=null?v3+"":"";var v1=this.visualMapModel;var e=v1.get("textGap");var Kz=v1.itemSize;var on=this._shapes.barGroup;var m=this._applyTransform([Kz[0]/2,KA===0?-e:Kz[1]+e],on);var v=this._applyTransform(KA===0?"bottom":"top",on);var k=this._orient;var Z=this.visualMapModel.textStyleModel;this.group.add(new jv({style:{x:m[0],y:m[1],textVerticalAlign:k==="horizontal"?"middle":v,textAlign:k==="horizontal"?v:"center",text:v3,textFont:Z.getFont(),textFill:Z.getTextColor()}}))},_renderBar:function(Z){var v2=this.visualMapModel;var k=this._shapes;var v3=v2.itemSize;var m=this._orient;var v=this._useHandle;var i=H5(v2,this.api,v3);var on=k.barGroup=this._createBarGroup(i);on.add(k.outOfRange=wR());on.add(k.inRange=wR(null,v?vL(this._orient):null,k9(this._dragHandle,this,"all",false),k9(this._dragHandle,this,"all",true)));var v1=v2.textStyleModel.getTextRect("");var e=Cw(v1.width,v1.height);if(v){k.handleThumbs=[];k.handleLabels=[];k.handleLabelPoints=[];this._createHandle(on,0,v3,e,m,i);this._createHandle(on,1,v3,e,m,i)}this._createIndicator(on,v3,e,m);Z.add(on)},_createHandle:function(Kz,k,KA,e,Z){var v2=k9(this._dragHandle,this,k,false);var m=k9(this._dragHandle,this,k,true);var v1=wR(BI(k,e),vL(this._orient),v2,m);v1.position[0]=KA[0];Kz.add(v1);var v3=this.visualMapModel.textStyleModel;var v=new jv({draggable:true,drift:v2,onmousemove:function(KB){I1(KB.event)},ondragend:m,style:{x:0,y:0,text:"",textFont:v3.getFont(),textFill:v3.getTextColor()}});this.group.add(v);var on=[Z==="horizontal"?e/2:e*1.5,Z==="horizontal"?(k===0?-(e*1.5):(e*1.5)):(k===0?-e/2:e/2)];var i=this._shapes;i.handleThumbs[k]=v1;i.handleLabelPoints[k]=on;i.handleLabels[k]=v},_createIndicator:function(v,v2,e,m){var on=wR([[0,0]],"move");on.position[0]=v2[0];on.attr({invisible:true,silent:true});v.add(on);var Z=this.visualMapModel.textStyleModel;var i=new jv({silent:true,invisible:true,style:{x:0,y:0,text:"",textFont:Z.getFont(),textFill:Z.getTextColor()}});this.group.add(i);var v1=[m==="horizontal"?e/2:gf+3,0];var k=this._shapes;k.indicator=on;k.indicatorLabel=i;k.indicatorLabelPoint=v1},_dragHandle:function(v,m,i,e){if(!this._useHandle){return}this._dragging=!m;if(!m){var k=this._applyTransform([i,e],this._shapes.barGroup,true);this._updateInterval(v,k[1]);this._updateView()}if(m===!this.visualMapModel.get("realtime")){this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}if(m){!this._hovering&&this._clearHoverLinkToSeries()}else{if(xq(this.visualMapModel)){this._doHoverLinkToSeries(this._handleEnds[v],false)}}},_resetInterval:function(){var i=this.visualMapModel;var k=this._dataInterval=i.getSelected();var m=i.getExtent();var e=[0,i.itemSize[1]];this._handleEnds=[mQ(k[0],m,e,true),mQ(k[1],m,e,true)]},_updateInterval:function(Z,v){v=v||0;var i=this.visualMapModel;var m=this._handleEnds;var e=[0,i.itemSize[1]];ot(v,m,e,Z,0);var k=i.getExtent();this._dataInterval=[mQ(m[0],e,k,true),mQ(m[1],e,k,true)]},_updateView:function(v1){var m=this.visualMapModel;var Z=m.getExtent();var k=this._shapes;var i=[0,m.itemSize[1]];var v=v1?i:this._handleEnds;var on=this._createBarVisual(this._dataInterval,Z,v,"inRange");var e=this._createBarVisual(Z,Z,i,"outOfRange");k.inRange.setStyle({fill:on.barColor,opacity:on.opacity}).setShape("points",on.barPoints);k.outOfRange.setStyle({fill:e.barColor,opacity:e.opacity}).setShape("points",e.barPoints);this._updateHandle(v,on)},_createBarVisual:function(Z,on,v1,k){var v={forceState:k,convertOpacityToAlpha:true};var i=this._makeColorGradient(Z,v);var m=[this.getControllerVisual(Z[0],"symbolSize",v),this.getControllerVisual(Z[1],"symbolSize",v)];var e=this._createBarPoints(v1,m);return{barColor:new v6(0,0,0,1,i),barPoints:e,handlesColor:[i[0].color,i[i.length-1].color]}},_makeColorGradient:function(v1,on){var e=100;var m=[];var Z=(v1[1]-v1[0])/e;m.push({color:this.getControllerVisual(v1[0],"color",on),offset:0});for(var v=1;v<e;v++){var k=v1[0]+Z*v;if(k>v1[1]){break}m.push({color:this.getControllerVisual(k,"color",on),offset:v/e})}m.push({color:this.getControllerVisual(v1[1],"color",on),offset:1});return m},_createBarPoints:function(k,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],k[0]],[i[0],k[0]],[i[0],k[1]],[i[0]-e[1],k[1]]]},_createBarGroup:function(i){var k=this._orient;var e=this.visualMapModel.get("inverse");return new D4((k==="horizontal"&&!e)?{scale:i==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2}:(k==="horizontal"&&e)?{scale:i==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:(k==="vertical"&&!e)?{scale:i==="left"?[1,-1]:[-1,-1]}:{scale:i==="left"?[1,1]:[-1,1]})},_updateHandle:function(Z,v){if(!this._useHandle){return}var e=this._shapes;var k=this.visualMapModel;var m=e.handleThumbs;var i=e.handleLabels;uF([0,1],function(v2){var v1=m[v2];v1.setStyle("fill",v.handlesColor[v2]);v1.position[1]=Z[v2];var on=xI(e.handleLabelPoints[v2],aP(v1,this.group));i[v2].setStyle({x:on[0],y:on[1],text:k.formatValueText(this._dataInterval[v2]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?(v2===0?"bottom":"top"):"left",e.barGroup)})},this)},_showIndicator:function(KA,on,Z,v2){var KD=this.visualMapModel;var KF=KD.getExtent();var KE=KD.itemSize;var v3=[0,KE[1]];var KB=mQ(KA,KF,v3,true);var k=this._shapes;var KC=k.indicator;if(!KC){return}KC.position[1]=KB;KC.attr("invisible",false);KC.setShape("points",tF(!!Z,v2,KB,KE[1]));var e={convertOpacityToAlpha:true};var v=this.getControllerVisual(KA,"color",e);KC.setStyle("fill",v);var m=xI(k.indicatorLabelPoint,aP(KC,this.group));var i=k.indicatorLabel;i.attr("invisible",false);var Kz=this._applyTransform("left",k.barGroup);var v1=this._orient;i.setStyle({text:(Z?Z:"")+KD.formatValueText(on),textVerticalAlign:v1==="horizontal"?Kz:"middle",textAlign:v1==="horizontal"?"center":Kz,x:m[0],y:m[1]})},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(k){e._hovering=true;if(!e._dragging){var i=e.visualMapModel.itemSize;var m=e._applyTransform([k.offsetX,k.offsetY],e._shapes.barGroup,true,true);m[1]=j6(Cw(0,m[1]),i[1]);e._doHoverLinkToSeries(m[1],0<=m[0]&&m[0]<=i[0])}}).on("mouseout",function(){e._hovering=false;!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();if(this.visualMapModel.option.hoverLink){e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this);e.on("mouseout",this._hideIndicator,this)}else{this._clearHoverLinkFromSeries()}},_doHoverLinkToSeries:function(e,k){var v3=this.visualMapModel;var KA=v3.itemSize;if(!v3.option.hoverLink){return}var m=[0,KA[1]];var KB=v3.getExtent();e=j6(Cw(m[0],e),m[1]);var i=Co(v3,KB,m);var v1=[e-i,e+i];var on=mQ(e,m,KB,true);var Z=[mQ(v1[0],m,KB,true),mQ(v1[1],m,KB,true)];v1[0]<m[0]&&(Z[0]=-Infinity);v1[1]>m[1]&&(Z[1]=Infinity);if(k){if(Z[0]===-Infinity){this._showIndicator(on,Z[1],"< ",i)}else{if(Z[1]===Infinity){this._showIndicator(on,Z[0],"> ",i)}else{this._showIndicator(on,on," ",i)}}}var v=this._hoverLinkDataIndices;var v2=[];if(k||xq(v3)){v2=this._hoverLinkDataIndices=v3.findTargetDataIndices(Z)}var Kz=cE(v,v2);this._dispatchHighDown("downplay",ww(Kz[0],v3));this._dispatchHighDown("highlight",ww(Kz[1],v3))},_hoverLinkFromSeriesMouseOver:function(on){var m=on.target;var i=this.visualMapModel;if(!m||m.dataIndex==null){return}var k=this.ecModel.getSeriesByIndex(m.seriesIndex);if(!i.isTargetSeries(k)){return}var Z=k.getData(m.dataType);var v=Z.get(i.getDataDimension(Z),m.dataIndex,true);if(!isNaN(v)){this._showIndicator(v,v)}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",true);e.indicatorLabel&&e.indicatorLabel.attr("invisible",true)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",ww(e,this.visualMapModel));e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver);e.off("mouseout",this._hideIndicator)},_applyTransform:function(v,k,e,m){var i=aP(k,m?null:this.group);return zV[IQ(v)?"applyTransform":"transformDirection"](v,i,e)},_dispatchHighDown:function(i,e){e&&e.length&&this.api.dispatchAction({type:i,batch:e})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});function wR(k,m,i,e){return new iO({shape:{points:k},draggable:!!i,cursor:m,drift:i,onmousemove:function(v){I1(v.event)},ondragend:e})}function BI(i,e){return i===0?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}function tF(i,k,m,e){return i?[[0,-j6(k,Cw(m,0))],[gf,0],[0,j6(k,Cw(e-m,0))]]:[[0,0],[5,-5],[5,5]]}function Co(i,v,e){var m=ca/2;var k=i.get("hoverLinkDataSize");if(k){m=mQ(k,v,e,true)/2}return m}function xq(i){var e=i.get("hoverLinkOnHandle");return !!(e==null?i.get("realtime"):e)}function vL(e){return e==="vertical"?"ns-resize":"ew-resize"}var Ea={type:"selectDataRange",event:"dataRangeSelected",update:"update"};ce(Ea,function(i,e){e.eachComponent({mainType:"visualMap",query:i},function(k){k.setSelected(i.selected)})});AO(Kb);var ul=oP.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:false,maxOpen:false,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:true,showLabel:null},optionUpdated:function(i,m){ul.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetExtent();var k=this._mode=this._determineMode();cw[this._mode].call(this);this._resetSelected(i,m);var e=this.option.categories;this.resetVisual(function(Z,v){if(k==="categories"){Z.mappingMethod="category";Z.categories=E5(e)}else{Z.dataExtent=this.getExtent();Z.mappingMethod="piecewise";Z.pieceList=Gj(this._pieceList,function(on){var on=E5(on);if(v!=="inRange"){on.visual=null}return on})}})},completeVisualOption:function(){var m=this.option;var k={};var v=nC.listVisualTypes();var e=this.isCategory();qg(m.pieces,function(Z){qg(v,function(on){if(Z.hasOwnProperty(on)){k[on]=1}})});qg(k,function(Z,v1){var on=0;qg(this.stateList,function(v2){on|=i(m,v2,v1)||i(m.target,v2,v1)},this);!on&&qg(this.stateList,function(v2){(m[v2]||(m[v2]={}))[v1]=JU.get(v1,v2==="inRange"?"active":"inactive",e)})},this);function i(v1,Z,on){return v1&&v1[Z]&&(u7(v1[Z])?v1[Z].hasOwnProperty(on):v1[Z]===on)}oP.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(v,Z){var i=this.option;var e=this._pieceList;var k=(Z?i:v).selected||{};i.selected=k;qg(e,function(v2,on){var v1=this.getSelectedMapKey(v2);if(!k.hasOwnProperty(v1)){k[v1]=true}},this);if(i.selectedMode==="single"){var m=false;qg(e,function(v2,on){var v1=this.getSelectedMapKey(v2);if(k[v1]){m?(k[v1]=false):(m=true)}},this)}},getSelectedMapKey:function(e){return this._mode==="categories"?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=E5(e)},getValueState:function(i){var e=nC.findPieceIndex(i,this._pieceList);return e!=null?(this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"):"outOfRange"},findTargetDataIndices:function(i){var e=[];this.eachTargetSeries(function(k){var v=[];var m=k.getData();m.each(this.getDataDimension(m),function(v1,on){var Z=nC.findPieceIndex(v1,this._pieceList);Z===i&&v.push(on)},this);e.push({seriesId:k.id,dataIndex:v})},this);return e},getRepresentValue:function(i){var e;if(this.isCategory()){e=i.value}else{if(i.value!=null){e=i.value}else{var k=i.interval||[];e=(k[0]===-Infinity&&k[1]===Infinity)?0:(k[0]+k[1])/2}}return e},getVisualMeta:function(v){if(this.isCategory()){return}var m=[];var on=[];var i=this;function v1(Kz,v3){var KA=i.getRepresentValue({interval:Kz});if(!v3){v3=i.getValueState(KA)}var v2=v(KA,v3);if(Kz[0]===-Infinity){on[0]=v2}else{if(Kz[1]===Infinity){on[1]=v2}else{m.push({value:Kz[0],color:v2},{value:Kz[1],color:v2})}}}var e=this._pieceList.slice();if(!e.length){e.push({interval:[-Infinity,Infinity]})}else{var k=e[0].interval[0];k!==-Infinity&&e.unshift({interval:[-Infinity,k]});k=e[e.length-1].interval[1];k!==Infinity&&e.push({interval:[k,Infinity]})}var Z=-Infinity;qg(e,function(v3){var v2=v3.interval;if(v2){v2[0]>Z&&v1([Z,v2[0]],"outOfRange");v1(v2.slice());Z=v2[1]}},this);return{stops:m,outerColors:on}}});var cw={splitNumber:function(){var Z=this.option;var e=this._pieceList;var k=Math.min(Z.precision,20);var on=this.getExtent();var i=Z.splitNumber;i=Math.max(parseInt(i,10),1);Z.splitNumber=i;var v2=(on[1]-on[0])/i;while(+v2.toFixed(k)!==v2&&k<5){k++}Z.precision=k;v2=+v2.toFixed(k);if(Z.minOpen){e.push({interval:[-Infinity,on[0]],close:[0,0]})}for(var m=0,v1=on[0];m<i;v1+=v2,m++){var v=m===i-1?on[1]:(v1+v2);e.push({interval:[v1,v],close:[1,1]})}if(Z.maxOpen){e.push({interval:[on[1],Infinity],close:[0,0]})}aa(e);qg(e,function(Kz,v3){Kz.index=v3;Kz.text=this.formatValueText(Kz.interval)},this)},categories:function(){var e=this.option;qg(e.categories,function(i){this._pieceList.push({text:this.formatValueText(i,true),value:i})},this);Hj(e,this._pieceList)},pieces:function(){var i=this.option;var e=this._pieceList;qg(i.pieces,function(Z,v1){if(!u7(Z)){Z={value:Z}}var KC={text:"",index:v1};if(Z.label!=null){KC.text=Z.label}if(Z.hasOwnProperty("value")){var Kz=KC.value=Z.value;KC.interval=[Kz,Kz];KC.close=[1,1]}else{var m=KC.interval=[];var KB=KC.close=[0,0];var k=[1,0,1];var v2=[-Infinity,Infinity];var v=[];for(var KA=0;KA<2;KA++){var v3=[["gte","gt","min"],["lte","lt","max"]][KA];for(var on=0;on<3&&m[KA]==null;on++){m[KA]=Z[v3[on]];KB[KA]=k[on];v[KA]=on===2}m[KA]==null&&(m[KA]=v2[KA])}v[0]&&m[1]===Infinity&&(KB[0]=0);v[1]&&m[0]===-Infinity&&(KB[1]=0);if(pm){if(m[0]>m[1]){console.warn("Piece "+v1+"is illegal: "+m+" lower bound should not greater then uppper bound.")}}if(m[0]===m[1]&&KB[0]&&KB[1]){KC.value=m[0]}}KC.visual=nC.retrieveVisuals(Z);e.push(KC)},this);Hj(i,e);aa(e);qg(e,function(m){var v=m.close;var k=[["<",""][v[1]],[">",""][v[0]]];m.text=m.text||this.formatValueText(m.value!=null?m.value:m.interval,false,k)},this)}};function Hj(k,i){var e=k.inverse;if(k.orient==="vertical"?!e:e){i.reverse()}}var hX=zk.extend({type:"visualMap.piecewise",doRender:function(){var v=this.group;v.removeAll();var v3=this.visualMapModel;var e=v3.get("textGap");var v2=v3.textStyleModel;var m=v2.getFont();var KA=v2.getTextColor();var i=this._getItemAlign();var Kz=v3.itemSize;var k=this._getViewData();var on=k.endsText;var v1=g1(v3.get("showLabel",true),!on);on&&this._renderEndsText(v,on[0],Kz,v1,i);qg(k.viewPieceList,Z,this);on&&this._renderEndsText(v,on[1],Kz,v1,i);fL(v3.get("orient"),v,v3.get("itemGap"));this.renderBackground(v);this.positionGroup(v);function Z(KD){var KC=KD.piece;var KF=new D4();KF.onclick=k9(this._onItemClick,this,KC);this._enableHoverLink(KF,KD.indexInModelPieceList);var KB=v3.getRepresentValue(KC);this._createItemSymbol(KF,KB,[0,0,Kz[0],Kz[1]]);if(v1){var KE=this.visualMapModel.getValueState(KB);KF.add(new jv({style:{x:i==="right"?-e:Kz[0]+e,y:Kz[1]/2,text:KC.text,textVerticalAlign:"middle",textAlign:i,textFont:m,textFill:KA,opacity:KE==="outOfRange"?0.5:1}}))}v.add(KF)}},_enableHoverLink:function(k,i){k.on("mouseover",k9(e,this,"highlight")).on("mouseout",k9(e,this,"downplay"));function e(v){var m=this.visualMapModel;m.option.hoverLink&&this.api.dispatchAction({type:v,batch:ww(m.findTargetDataIndices(i),m)})}},_getItemAlign:function(){var e=this.visualMapModel;var i=e.option;if(i.orient==="vertical"){return H5(e,this.api,e.itemSize)}else{var k=i.align;if(!k||k==="auto"){k="left"}return k}},_renderEndsText:function(v,Z,m,i,e){if(!Z){return}var on=new D4();var k=this.visualMapModel.textStyleModel;on.add(new jv({style:{x:i?(e==="right"?m[0]:0):m[0]/2,y:m[1]/2,textVerticalAlign:"middle",textAlign:i?e:"center",text:Z,textFont:k.getFont(),textFill:k.getTextColor()}}));v.add(on)},_getViewData:function(){var m=this.visualMapModel;var v=Gj(m.getPieceList(),function(on,Z){return{piece:on,indexInModelPieceList:Z}});var i=m.get("text");var k=m.get("orient");var e=m.get("inverse");if(k==="horizontal"?e:!e){v.reverse()}else{if(i){i=i.slice().reverse()}}return{viewPieceList:v,endsText:i}},_createItemSymbol:function(i,e,k){i.add(vz(this.getControllerVisual(e,"symbol"),k[0],k[1],k[2],k[3],this.getControllerVisual(e,"color")))},_onItemClick:function(m){var e=this.visualMapModel;var k=e.option;var i=E5(k.selected);var v=e.getSelectedMapKey(m);if(k.selectedMode==="single"){i[v]=true;qg(i,function(on,Z){i[Z]=Z===v})}else{i[v]=!i[v]}this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}});AO(Kb);var gt="urn:schemas-microsoft-com:vml";var yk=typeof window==="undefined"?null:window;var Bh=false;var tZ=yk&&yk.document;function Dd(e){return cX(e)}var cX;if(tZ&&!uk.canvasSupported){try{!tZ.namespaces.zrvml&&tZ.namespaces.add("zrvml",gt);cX=function(e){return tZ.createElement("<zrvml:"+e+' class="zrvml">')}}catch(Jw){cX=function(e){return tZ.createElement("<"+e+' xmlns="'+gt+'" class="zrvml">')}}}function zs(){if(Bh||!tZ){return}Bh=true;var e=tZ.styleSheets;if(e.length<31){tZ.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)")}else{e[0].addRule(".zrvml","behavior:url(#default#VML)")}}var HU=kQ.CMD;var HN=Math.round;var FI=Math.sqrt;var DX=Math.abs;var FD=Math.cos;var HA=Math.sin;var Cv=Math.max;if(!uk.canvasSupported){var nb=",";var b5="progid:DXImageTransform.Microsoft";var JC=21600;var b2=JC/2;var cv=100000;var Fb=1000;var uy=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";e.coordsize=JC+","+JC;e.coordorigin="0,0"};var DW=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")};var t3=function(k,i,e){return"rgb("+[k,i,e].join(",")+")"};var l1=function(e,i){if(i&&e&&i.parentNode!==e){e.appendChild(i)}};var bn=function(e,i){if(i&&e&&i.parentNode===e){e.removeChild(i)}};var ek=function(e,k,i){return(parseFloat(e)||0)*cv+(parseFloat(k)||0)*Fb+i};var Bx=D1;var l0=function(k,e,i){var m=fk(e);i=+i;if(isNaN(i)){i=1}if(m){k.color=t3(m[0],m[1],m[2]);k.opacity=i*m[3]}};var eS=function(e){var i=fk(e);return[t3(i[0],i[1],i[2]),i[3]]};var hq=function(v,KR,KA){var KO=KR.fill;if(KO!=null){if(KO instanceof mN){var v2;var KU=0;var KI=[0,0];var KQ=0;var KJ=1;var m=KA.getBoundingRect();var e=m.width;var KN=m.height;if(KO.type==="linear"){v2="gradient";var KD=KA.transform;var Z=[KO.x*e,KO.y*KN];var k=[KO.x2*e,KO.y2*KN];if(KD){a5(Z,Z,KD);a5(k,k,KD)}var KC=k[0]-Z[0];var KB=k[1]-Z[1];KU=Math.atan2(KC,KB)*180/Math.PI;if(KU<0){KU+=360}if(KU<0.000001){KU=0}}else{v2="gradientradial";var Z=[KO.x*e,KO.y*KN];var KD=KA.transform;var v1=KA.scale;var KK=e;var KH=KN;KI=[(Z[0]-m.x)/KK,(Z[1]-m.y)/KH];if(KD){a5(Z,Z,KD)}KK/=v1[0]*JC;KH/=v1[1]*JC;var KV=Cv(KK,KH);KQ=2*0/KV;KJ=2*KO.r/KV-KQ}var v3=KO.colorStops.slice();v3.sort(function(KW,i){return KW.offset-i.offset});var KG=v3.length;var KM=[];var Kz=[];for(var KP=0;KP<KG;KP++){var KL=v3[KP];var on=eS(KL.color);Kz.push(KL.offset*KJ+KQ+" "+on[0]);if(KP===0||KP===KG-1){KM.push(on)}}if(KG>=2){var KT=KM[0][0];var KS=KM[1][0];var KF=KM[0][1]*KR.opacity;var KE=KM[1][1]*KR.opacity;v.type=v2;v.method="none";v.focus="100%";v.angle=KU;v.color=KT;v.color2=KS;v.colors=Kz.join(",");v.opacity=KE;v.opacity2=KF}if(v2==="radial"){v.focusposition=KI.join(",")}}else{l0(v,KO,KR.opacity)}}};var ri=function(i,e){if(e.lineDash){i.dashstyle=e.lineDash.join(" ")}if(e.stroke!=null&&!(e.stroke instanceof mN)){l0(i,e.stroke,e.opacity)}};var ub=function(e,m,k,Z){var v=m==="fill";var i=e.getElementsByTagName(m)[0];if(k[m]!=null&&k[m]!=="none"&&(v||(!v&&k.lineWidth))){e[v?"filled":"stroked"]="true";if(k[m] instanceof mN){bn(e,i)}if(!i){i=Dd(m)}v?hq(i,k,Z):ri(i,k);l1(e,i)}else{e[v?"filled":"stroked"]="false";bn(e,i)}};var FK=[[],[],[]];var pE=function(KS,KV){var v1=HU.M;var KB=HU.C;var v3=HU.L;var KE=HU.A;var v=HU.Q;var KN=[];var Z;var KO;var KY;var KX;var KQ;var KI;var K2=KS.data;var KA=KS.len();for(KX=0;KX<KA;){KY=K2[KX++];KO="";Z=0;switch(KY){case v1:KO=" m ";Z=1;KQ=K2[KX++];KI=K2[KX++];FK[0][0]=KQ;FK[0][1]=KI;break;case v3:KO=" l ";Z=1;KQ=K2[KX++];KI=K2[KX++];FK[0][0]=KQ;FK[0][1]=KI;break;case v:case KB:KO=" c ";Z=3;var KF=K2[KX++];var K6=K2[KX++];var KD=K2[KX++];var K4=K2[KX++];var KC;var K3;if(KY===v){KC=KD;K3=K4;KD=(KD+2*KF)/3;K4=(K4+2*K6)/3;KF=(KQ+2*KF)/3;K6=(KI+2*K6)/3}else{KC=K2[KX++];K3=K2[KX++]}FK[0][0]=KF;FK[0][1]=K6;FK[1][0]=KD;FK[1][1]=K4;FK[2][0]=KC;FK[2][1]=K3;KQ=KC;KI=K3;break;case KE:var KR=0;var KP=0;var Kz=1;var v2=1;var KH=0;if(KV){KR=KV[4];KP=KV[5];Kz=FI(KV[0]*KV[0]+KV[1]*KV[1]);v2=FI(KV[2]*KV[2]+KV[3]*KV[3]);KH=Math.atan2(-KV[1]/v2,KV[0]/Kz)}var KK=K2[KX++];var KJ=K2[KX++];var KM=K2[KX++];var KL=K2[KX++];var on=K2[KX++]+KH;var KZ=K2[KX++]+on+KH;KX++;var KU=K2[KX++];var KG=KK+FD(on)*KM;var e=KJ+HA(on)*KL;var KF=KK+FD(KZ)*KM;var K6=KJ+HA(KZ)*KL;var K5=KU?" wa ":" at ";if(Math.abs(KG-KF)<0.0001){if(Math.abs(KZ-on)>0.01){if(KU){KG+=270/JC}}else{if(Math.abs(e-KJ)<0.0001){if((KU&&KG<KK)||(!KU&&KG>KK)){K6-=270/JC}else{K6+=270/JC}}else{if((KU&&e<KJ)||(!KU&&e>KJ)){KF+=270/JC}else{KF-=270/JC}}}}KN.push(K5,HN(((KK-KM)*Kz+KR)*JC-b2),nb,HN(((KJ-KL)*v2+KP)*JC-b2),nb,HN(((KK+KM)*Kz+KR)*JC-b2),nb,HN(((KJ+KL)*v2+KP)*JC-b2),nb,HN((KG*Kz+KR)*JC-b2),nb,HN((e*v2+KP)*JC-b2),nb,HN((KF*Kz+KR)*JC-b2),nb,HN((K6*v2+KP)*JC-b2));KQ=KF;KI=K6;break;case HU.R:var K1=FK[0];var K0=FK[1];K1[0]=K2[KX++];K1[1]=K2[KX++];K0[0]=K1[0]+K2[KX++];K0[1]=K1[1]+K2[KX++];if(KV){a5(K1,K1,KV);a5(K0,K0,KV)}K1[0]=HN(K1[0]*JC-b2);K0[0]=HN(K0[0]*JC-b2);K1[1]=HN(K1[1]*JC-b2);K0[1]=HN(K0[1]*JC-b2);KN.push(" m ",K1[0],nb,K1[1]," l ",K0[0],nb,K1[1]," l ",K0[0],nb,K0[1]," l ",K1[0],nb,K0[1]);break;case HU.Z:KN.push(" x ")}if(Z>0){KN.push(KO);for(var KW=0;KW<Z;KW++){var KT=FK[KW];KV&&a5(KT,KT,KV);KN.push(HN(KT[0]*JC-b2),nb,HN(KT[1]*JC-b2),KW<Z-1?nb:"")}}}return KN.join("")};nh.prototype.brushVML=function(v){var i=this.style;var k=this._vmlEl;if(!k){k=Dd("shape");uy(k);this._vmlEl=k}ub(k,"fill",i,this);ub(k,"stroke",i,this);var Z=this.transform;var e=Z!=null;var v2=k.getElementsByTagName("stroke")[0];if(v2){var on=i.lineWidth;if(e&&!i.strokeNoScale){var v1=Z[0]*Z[3]-Z[1]*Z[2];on*=FI(DX(v1))}v2.weight=on+"px"}var v3=this.path||(this.path=new kQ());if(this.__dirtyPath){v3.beginPath();v3.subPixelOptimize=false;this.buildPath(v3,this.shape);v3.toStatic();this.__dirtyPath=false}k.path=pE(v3,this.transform);k.style.zIndex=ek(this.zlevel,this.z,this.z2);l1(v,k);if(i.text!=null){this.drawRectText(v,this.getBoundingRect())}else{this.removeRectText(v)}};nh.prototype.onRemove=function(e){bn(e,this._vmlEl);this.removeRectText(e)};nh.prototype.onAdd=function(e){l1(e,this._vmlEl);this.appendRectText(e)};var Ic=function(e){return(typeof e==="object")&&e.tagName&&e.tagName.toUpperCase()==="IMG"};Hz.prototype.brushVML=function(KC){var KT=this.style;var k=KT.image;var KK;var KP;if(Ic(k)){var KH=k.src;if(KH===this._imageSrc){KK=this._imageWidth;KP=this._imageHeight}else{var KJ=k.runtimeStyle;var KN=KJ.width;var KB=KJ.height;KJ.width="auto";KJ.height="auto";KK=k.width;KP=k.height;KJ.width=KN;KJ.height=KB;this._imageSrc=KH;this._imageWidth=KK;this._imageHeight=KP}k=KH}else{if(k===this._imageSrc){KK=this._imageWidth;KP=this._imageHeight}}if(!k){return}var KR=KT.x||0;var KQ=KT.y||0;var v=KT.width;var v3=KT.height;var v2=KT.sWidth;var KD=KT.sHeight;var v1=KT.sx||0;var on=KT.sy||0;var KS=v2&&KD;var Kz=this._vmlEl;if(!Kz){Kz=tZ.createElement("div");uy(Kz);this._vmlEl=Kz}var KY=Kz.style;var KL=false;var KV;var KO=1;var KM=1;if(this.transform){KV=this.transform;KO=FI(KV[0]*KV[0]+KV[1]*KV[1]);KM=FI(KV[2]*KV[2]+KV[3]*KV[3]);KL=KV[1]||KV[2]}if(KL){var K2=[KR,KQ];var K1=[KR+v,KQ];var K0=[KR,KQ+v3];var KZ=[KR+v,KQ+v3];a5(K2,K2,KV);a5(K1,K1,KV);a5(K0,K0,KV);a5(KZ,KZ,KV);var KG=Cv(K2[0],K1[0],K0[0],KZ[0]);var KF=Cv(K2[1],K1[1],K0[1],KZ[1]);var KE=[];KE.push("M11=",KV[0]/KO,nb,"M12=",KV[2]/KM,nb,"M21=",KV[1]/KO,nb,"M22=",KV[3]/KM,nb,"Dx=",HN(KR*KO+KV[4]),nb,"Dy=",HN(KQ*KM+KV[5]));KY.padding="0 "+HN(KG)+"px "+HN(KF)+"px 0";KY.filter=b5+".Matrix("+KE.join("")+", SizingMethod=clip)"}else{if(KV){KR=KR*KO+KV[4];KQ=KQ*KM+KV[5]}KY.filter="";KY.left=HN(KR)+"px";KY.top=HN(KQ)+"px"}var KX=this._imageEl;var KU=this._cropEl;if(!KX){KX=tZ.createElement("div");this._imageEl=KX}var i=KX.style;if(KS){if(!(KK&&KP)){var e=new Image();var Z=this;e.onload=function(){e.onload=null;KK=e.width;KP=e.height;i.width=HN(KO*KK*v/v2)+"px";i.height=HN(KM*KP*v3/KD)+"px";Z._imageWidth=KK;Z._imageHeight=KP;Z._imageSrc=k};e.src=k}else{i.width=HN(KO*KK*v/v2)+"px";i.height=HN(KM*KP*v3/KD)+"px"}if(!KU){KU=tZ.createElement("div");KU.style.overflow="hidden";this._cropEl=KU}var KI=KU.style;KI.width=HN((v+v1*v/v2)*KO);KI.height=HN((v3+on*v3/KD)*KM);KI.filter=b5+".Matrix(Dx="+(-v1*v/v2*KO)+",Dy="+(-on*v3/KD*KM)+")";if(!KU.parentNode){Kz.appendChild(KU)}if(KX.parentNode!==KU){KU.appendChild(KX)}}else{i.width=HN(KO*v)+"px";i.height=HN(KM*v3)+"px";Kz.appendChild(KX);if(KU&&KU.parentNode){Kz.removeChild(KU);this._cropEl=null}}var KA="";var KW=KT.opacity;if(KW<1){KA+=".Alpha(opacity="+HN(KW*100)+") "}KA+=b5+".AlphaImageLoader(src="+k+", SizingMethod=scale)";i.filter=KA;Kz.style.zIndex=ek(this.zlevel,this.z,this.z2);l1(KC,Kz);if(KT.text!=null){this.drawRectText(KC,this.getBoundingRect())}};Hz.prototype.onRemove=function(e){bn(e,this._vmlEl);this._vmlEl=null;this._cropEl=null;this._imageEl=null;this.removeRectText(e)};Hz.prototype.onAdd=function(e){l1(e,this._vmlEl);this.appendRectText(e)};var qp="normal";var jk={};var f=0;var vD=100;var cL=document.createElement("div");var d3=function(Z){var v=jk[Z];if(!v){if(f>vD){f=0;jk={}}var k=cL.style;var i;try{k.font=Z;i=k.fontFamily.split(",")[0]}catch(m){}v={style:k.fontStyle||qp,variant:k.fontVariant||qp,weight:k.fontWeight||qp,size:parseFloat(k.fontSize||12)|0,family:i||"Microsoft YaHei"};jk[Z]=v;f++}return v};var DS;hz("measureText",function(m,i){var k=tZ;if(!DS){DS=k.createElement("div");DS.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;";tZ.body.appendChild(DS)}try{DS.style.font=i}catch(e){}DS.innerHTML="";DS.appendChild(k.createTextNode(m));return{width:DS.offsetWidth}});var eL=new EG();var Ck=function(KQ,on,Z,v1){var KP=this.style;this.__dirty&&qo(KP,true);var KG=KP.text;KG!=null&&(KG+="");if(!KG){return}if(KP.rich){var KB=tO(KG,KP);KG=[];for(var KO=0;KO<KB.lines.length;KO++){var KH=KB.lines[KO].tokens;var KE=[];for(var KM=0;KM<KH.length;KM++){KE.push(KH[KM].text)}KG.push(KE.join(""))}KG=KG.join("\n")}var KD;var KC;var KL=KP.textAlign;var v=KP.textVerticalAlign;var v2=d3(KP.font);var KI=v2.style+" "+v2.variant+" "+v2.weight+" "+v2.size+'px "'+v2.family+'"';Z=Z||IA(KG,KI,KL,v,KP.textPadding,KP.textLineHeight);var KK=this.transform;if(KK&&!v1){eL.copy(on);eL.applyTransform(KK);on=eL}if(!v1){var Kz=KP.textPosition;if(Kz instanceof Array){KD=on.x+Bx(Kz[0],on.width);KC=on.y+Bx(Kz[1],on.height);KL=KL||"left"}else{var KT=this.calculateTextPosition?this.calculateTextPosition({},KP,on):wp({},KP,on);KD=KT.x;KC=KT.y;KL=KL||KT.textAlign;v=v||KT.textVerticalAlign}}else{KD=on.x;KC=on.y}KD=vZ(KD,Z.width,KL);KC=vV(KC,Z.height,v);KC+=Z.height/2;var KS=Dd;var KF=this._textVmlEl;var KJ;var k;var v3;if(!KF){KF=KS("line");KJ=KS("path");k=KS("textpath");v3=KS("skew");k.style["v-text-align"]="left";uy(KF);KJ.textpathok=true;k.on=true;KF.from="0 0";KF.to="1000 0.05";l1(KF,v3);l1(KF,KJ);l1(KF,k);this._textVmlEl=KF}else{v3=KF.firstChild;KJ=v3.nextSibling;k=KJ.nextSibling}var KN=[KD,KC];var KA=KF.style;if(KK&&v1){a5(KN,KN,KK);v3.on=true;v3.matrix=KK[0].toFixed(3)+nb+KK[2].toFixed(3)+nb+KK[1].toFixed(3)+nb+KK[3].toFixed(3)+",0,0";v3.offset=(HN(KN[0])||0)+","+(HN(KN[1])||0);v3.origin="0 0";KA.left="0px";KA.top="0px"}else{v3.on=false;KA.left=HN(KD)+"px";KA.top=HN(KC)+"px"}k.string=DW(KG);try{k.style.font=KI}catch(KR){}ub(KF,"fill",{fill:KP.textFill,opacity:KP.opacity},this);ub(KF,"stroke",{stroke:KP.textStroke,opacity:KP.opacity,lineDash:KP.lineDash||null},this);KF.style.zIndex=ek(this.zlevel,this.z,this.z2);l1(KQ,KF)};var u8=function(e){bn(e,this._textVmlEl);this._textVmlEl=null};var eI=function(e){l1(e,this._textVmlEl)};var iR=[AV,Ku,Hz,nh,jv];for(var B1=0;B1<iR.length;B1++){var cm=iR[B1].prototype;cm.drawRectText=Ck;cm.removeRectText=u8;cm.appendRectText=eI}jv.prototype.brushVML=function(e){var i=this.style;if(i.text!=null){this.drawRectText(e,{x:i.x||0,y:i.y||0,width:0,height:0},this.getBoundingRect(),true)}else{this.removeRectText(e)}};jv.prototype.onRemove=function(e){this.removeRectText(e)};jv.prototype.onAdd=function(e){this.appendRectText(e)}}function fJ(e){return parseInt(e,10)}function ar(i,Z){zs();this.root=i;this.storage=Z;var e=document.createElement("div");var m=document.createElement("div");e.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";m.style.cssText="position:absolute;left:0;top:0;";i.appendChild(e);this._vmlRoot=m;this._vmlViewport=e;this.resize();var k=Z.delFromStorage;var v=Z.addToStorage;Z.delFromStorage=function(on){k.call(Z,on);if(on){on.onRemove&&on.onRemove(m)}};Z.addToStorage=function(on){on.onAdd&&on.onAdd(m);v.call(Z,on)};this._firstPaint=true}ar.prototype={constructor:ar,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e){return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}}},refresh:function(){var e=this.storage.getDisplayList(true,true);this._paintList(e)},_paintList:function(v){var k=this._vmlRoot;for(var e=0;e<v.length;e++){var m=v[e];if(m.invisible||m.ignore){if(!m.__alreadyNotVisible){m.onRemove(k)}m.__alreadyNotVisible=true}else{if(m.__alreadyNotVisible){m.onAdd(k)}m.__alreadyNotVisible=false;if(m.__dirty){m.beforeBrush&&m.beforeBrush();(m.brushVML||m.brush).call(m,k);m.afterBrush&&m.afterBrush()}}m.__dirty=false}if(this._firstPaint){this._vmlViewport.appendChild(k);this._firstPaint=false}},resize:function(k,e){var k=k==null?this._getWidth():k;var e=e==null?this._getHeight():e;if(this._width!==k||this._height!==e){this._width=k;this._height=e;var i=this._vmlViewport.style;i.width=k+"px";i.height=e+"px"}},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){if(this._vmlViewport){this.root.removeChild(this._vmlViewport)}},_getWidth:function(){var e=this.root;var i=e.currentStyle;return((e.clientWidth||fJ(i.width))-fJ(i.paddingLeft)-fJ(i.paddingRight))|0},_getHeight:function(){var e=this.root;var i=e.currentStyle;return((e.clientHeight||fJ(i.height))-fJ(i.paddingTop)-fJ(i.paddingBottom))|0}};function gM(e){return function(){Dc('In IE8.0 VML mode painter not support method "'+e+'"')}}qg(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){ar.prototype[e]=gM(e)});yG("vml",ar);var bk="http://www.w3.org/2000/svg";function H7(e){return document.createElementNS(bk,e)}var HT=kQ.CMD;var fQ=Array.prototype.join;var DY="none";var s0=Math.round;var I5=Math.sin;var B0=Math.cos;var Af=Math.PI;var I6=Math.PI*2;var m3=180/Af;var ma=0.0001;function A3(e){return s0(e*10000)/10000}function hO(e){return e<ma&&e>-ma}function jM(e,k){var i=k?e.textFill:e.fill;return i!=null&&i!==DY}function eK(e,k){var i=k?e.textStroke:e.stroke;return i!=null&&i!==DY}function CO(i,e){if(e){sK(i,"transform","matrix("+fQ.call(e,",")+")")}}function sK(i,e,k){if(!k||k.type!=="linear"&&k.type!=="radial"){i.setAttribute(e,k)}}function jT(i,e,k){i.setAttributeNS("http://www.w3.org/1999/xlink",e,k)}function EQ(Z,e,m,i){if(jM(e,m)){var on=m?e.textFill:e.fill;on=on==="transparent"?DY:on;sK(Z,"fill",on);sK(Z,"fill-opacity",e.fillOpacity!=null?e.fillOpacity*e.opacity:e.opacity)}else{sK(Z,"fill",DY)}if(eK(e,m)){var v1=m?e.textStroke:e.stroke;v1=v1==="transparent"?DY:v1;sK(Z,"stroke",v1);var v=m?e.textStrokeWidth:e.lineWidth;var v2=!m&&e.strokeNoScale?i.getLineScale():1;sK(Z,"stroke-width",v/v2);sK(Z,"paint-order",m?"stroke":"fill");sK(Z,"stroke-opacity",e.strokeOpacity!=null?e.strokeOpacity:e.opacity);var k=e.lineDash;if(k){sK(Z,"stroke-dasharray",e.lineDash.join(","));sK(Z,"stroke-dashoffset",s0(e.lineDashOffset||0))}else{sK(Z,"stroke-dasharray","")}e.lineCap&&sK(Z,"stroke-linecap",e.lineCap);e.lineJoin&&sK(Z,"stroke-linejoin",e.lineJoin);e.miterLimit&&sK(Z,"stroke-miterlimit",e.miterLimit)}else{sK(Z,"stroke",DY)}}function Ig(KD){var KF=[];var KQ=KD.data;var v3=KD.len();for(var KJ=0;KJ<v3;){var KI=KQ[KJ++];var on="";var k=0;switch(KI){case HT.M:on="M";k=2;break;case HT.L:on="L";k=2;break;case HT.Q:on="Q";k=4;break;case HT.C:on="C";k=6;break;case HT.A:var v=KQ[KJ++];var m=KQ[KJ++];var v2=KQ[KJ++];var v1=KQ[KJ++];var Kz=KQ[KJ++];var KN=KQ[KJ++];var KO=KQ[KJ++];var KL=KQ[KJ++];var KE=Math.abs(KN);var KG=hO(KE-I6)||(KL?KN>=I6:-KN>=I6);var KP=KN>0?KN%I6:(KN%I6+I6);var e=false;if(KG){e=true}else{if(hO(KE)){e=false}else{e=(KP>=Af)===!!KL}}var KM=A3(v+v2*B0(Kz));var Z=A3(m+v1*I5(Kz));if(KG){if(KL){KN=I6-0.0001}else{KN=-I6+0.0001}e=true;if(KJ===9){KF.push("M",KM,Z)}}var KB=A3(v+v2*B0(Kz+KN));var KA=A3(m+v1*I5(Kz+KN));KF.push("A",A3(v2),A3(v1),s0(KO*m3),+e,+KL,KB,KA);break;case HT.Z:on="Z";break;case HT.R:var KB=A3(KQ[KJ++]);var KA=A3(KQ[KJ++]);var KC=A3(KQ[KJ++]);var KK=A3(KQ[KJ++]);KF.push("M",KB,KA,"L",KB+KC,KA,"L",KB+KC,KA+KK,"L",KB,KA+KK,"L",KB,KA);break}on&&KF.push(on);for(var KH=0;KH<k;KH++){KF.push(A3(KQ[KJ++]))}}return KF.join(" ")}var tj={};tj.brush=function(k){var i=k.style;var v=k.__svgEl;if(!v){v=H7("path");k.__svgEl=v}if(!k.path){k.createPathProxy()}var m=k.path;if(k.__dirtyPath){m.beginPath();m.subPixelOptimize=false;k.buildPath(m,k.shape);k.__dirtyPath=false;var e=Ig(m);if(e.indexOf("NaN")<0){sK(v,"d",e)}}EQ(v,i,false,k);CO(v,k.transform);if(i.text!=null){xT(k,k.getBoundingRect())}else{oE(k)}};var jH={};jH.brush=function(m){var k=m.style;var v=k.image;if(v instanceof HTMLImageElement){var e=v.src;v=e}if(!v){return}var v1=k.x||0;var on=k.y||0;var i=k.width;var Z=k.height;var v2=m.__svgEl;if(!v2){v2=H7("image");m.__svgEl=v2}if(v!==m.__imageSrc){jT(v2,"href",v);m.__imageSrc=v}sK(v2,"width",i);sK(v2,"height",Z);sK(v2,"x",v1);sK(v2,"y",on);CO(v2,m.transform);if(k.text!=null){xT(m,m.getBoundingRect())}else{oE(m)}};var po={};var lI=new EG();var aj={};var kS=[];var tH={left:"start",right:"end",center:"middle",middle:"middle"};var xT=function(on,KP){var KO=on.style;var KM=on.transform;var KR=on instanceof jv||KO.transformText;on.__dirty&&qo(KO,true);var KD=KO.text;KD!=null&&(KD+="");if(!Gz(KD,KO)){return}KD==null&&(KD="");if(!KR&&KM){lI.copy(KP);lI.applyTransform(KM);KP=lI}var v2=on.__textSvgEl;if(!v2){v2=H7("text");on.__textSvgEl=v2}var KQ=v2.style;var KI=KO.font||xK;var v=v2.__computedFont;if(KI!==v2.__styleFont){KQ.font=v2.__styleFont=KI;v=v2.__computedFont=KQ.font}var KN=KO.textPadding;var KC=KO.textLineHeight;var KB=on.__textCotentBlock;if(!KB||on.__dirtyText){KB=on.__textCotentBlock=z(KD,v,KN,KC,KO.truncate)}var Z=KB.outerHeight;var v1=KB.lineHeight;Aw(aj,on,KO,KP);var k=aj.baseX;var i=aj.baseY;var v3=aj.textAlign||"left";var KH=aj.textVerticalAlign;xw(v2,KR,KM,KO,KP,k,i);var KS=vV(i,Z,KH);var KK=k;var KJ=KS;if(KN){KK=ba(k,v3,KN);KJ+=KN[0]}KJ+=v1/2;EQ(v2,KO,true,on);var e=KB.canCacheByTextString;var Kz=on.__tspanList||(on.__tspanList=[]);var m=Kz.length;if(e&&on.__canCacheByTextString&&on.__text===KD){if(on.__dirtyText&&m){for(var KG=0;KG<m;++KG){IT(Kz[KG],v3,KK,KJ+KG*v1)}}}else{on.__text=KD;on.__canCacheByTextString=e;var KE=KB.lines;var KL=KE.length;var KG=0;for(;KG<KL;KG++){var KA=Kz[KG];var KF=KE[KG];if(!KA){KA=Kz[KG]=H7("tspan");v2.appendChild(KA);KA.appendChild(document.createTextNode(KF))}else{if(KA.__zrText!==KF){KA.innerHTML="";KA.appendChild(document.createTextNode(KF))}}IT(KA,v3,KK,KJ+KG*v1)}if(m>KL){for(;KG<m;KG++){v2.removeChild(Kz[KG])}Kz.length=KL}}};function xw(Z,e,v,i,v1,m,k){mF(kS);if(e&&v){Bj(kS,v)}var on=i.textRotation;if(v1&&on){var v2=i.textOrigin;if(v2==="center"){m=v1.width/2+v1.x;k=v1.height/2+v1.y}else{if(v2){m=v2[0]+v1.x;k=v2[1]+v1.y}}kS[4]-=m;kS[5]-=k;k5(kS,kS,on);kS[4]+=m;kS[5]+=k}CO(Z,kS)}function ba(e,i,k){return i==="right"?(e-k[1]):i==="center"?(e+k[3]/2-k[1]/2):(e+k[3])}function IT(k,i,e,m){sK(k,"dominant-baseline","middle");sK(k,"text-anchor",tH[i]);sK(k,"x",e);sK(k,"y",m)}function oE(e){if(e&&e.__textSvgEl){if(e.__textSvgEl.parentNode){e.__textSvgEl.parentNode.removeChild(e.__textSvgEl)}e.__textSvgEl=null;e.__tspanList=[];e.__text=null}}po.drawRectText=xT;po.brush=function(i){var e=i.style;if(e.text!=null){xT(i,false)}else{oE(i)}};function pf(){}pf.prototype={diff:function(k,v2,m){if(!m){m=function(KE,i){return KE===i}}this.equals=m;var KD=this;k=k.slice();v2=v2.slice();var v3=v2.length;var v=k.length;var e=1;var KB=v3+v;var KA=[{newPos:-1,components:[]}];var Z=this.extractCommon(KA[0],v2,k,0);if(KA[0].newPos+1>=v3&&Z+1>=v){var KC=[];for(var v1=0;v1<v2.length;v1++){KC.push(v1)}return[{indices:KC,count:v2.length}]}function on(){for(var KF=-1*e;KF<=e;KF+=2){var KJ;var KE=KA[KF-1];var i=KA[KF+1];var KG=(i?i.newPos:0)-KF;if(KE){KA[KF-1]=undefined}var KH=KE&&KE.newPos+1<v3;var KI=i&&0<=KG&&KG<v;if(!KH&&!KI){KA[KF]=undefined;continue}if(!KH||(KI&&KE.newPos<i.newPos)){KJ=dc(i);KD.pushComponent(KJ.components,undefined,true)}else{KJ=KE;KJ.newPos++;KD.pushComponent(KJ.components,true,undefined)}KG=KD.extractCommon(KJ,v2,k,KF);if(KJ.newPos+1>=v3&&KG+1>=v){return bI(KD,KJ.components,v2,k)}else{KA[KF]=KJ}}e++}while(e<=KB){var Kz=on();if(Kz){return Kz}}},pushComponent:function(k,e,m){var i=k[k.length-1];if(i&&i.added===e&&i.removed===m){k[k.length-1]={count:i.count+1,added:e,removed:m}}else{k.push({count:1,added:e,removed:m})}},extractCommon:function(v2,m,e,v1){var v=m.length;var i=e.length;var on=v2.newPos;var k=on-v1;var Z=0;while(on+1<v&&k+1<i&&this.equals(m[on+1],e[k+1])){on++;k++;Z++}if(Z){v2.components.push({count:Z})}v2.newPos=on;return k},tokenize:function(e){return e.slice()},join:function(e){return e.slice()}};function bI(Kz,v1,Z,e){var on=0;var k=v1.length;var v2=0;var m=0;for(;on<k;on++){var v3=v1[on];if(!v3.removed){var KA=[];for(var v=v2;v<v2+v3.count;v++){KA.push(v)}v3.indices=KA;v2+=v3.count;if(!v3.added){m+=v3.count}}else{var KA=[];for(var v=m;v<m+v3.count;v++){KA.push(v)}v3.indices=KA;m+=v3.count}}return v1}function dc(e){return{newPos:e.newPos,components:e.components.slice(0)}}var j2=new pf();var he=function(e,i,k){return j2.diff(e,i,k)};var n4="0";var ht="1";function ut(m,i,e,v,k){this._zrId=m;this._svgRoot=i;this._tagNames=typeof e==="string"?[e]:e;this._markLabel=v;this._domName=k||"_dom";this.nextId=0}ut.prototype.createElement=H7;ut.prototype.getDefs=function(k){var i=this._svgRoot;var e=this._svgRoot.getElementsByTagName("defs");if(e.length===0){if(k){e=i.insertBefore(this.createElement("defs"),i.firstChild);if(!e.contains){e.contains=function(Z){var v=e.children;if(!v){return false}for(var m=v.length-1;m>=0;--m){if(v[m]===Z){return true}}return false}}return e}else{return null}}else{return e[0]}};ut.prototype.update=function(k,i){if(!k){return}var e=this.getDefs(false);if(k[this._domName]&&e.contains(k[this._domName])){if(typeof i==="function"){i(k)}}else{var m=this.add(k);if(m){k[this._domName]=m}}};ut.prototype.addDom=function(i){var e=this.getDefs(true);e.appendChild(i)};ut.prototype.removeDom=function(i){var e=this.getDefs(false);if(e&&i[this._domName]){e.removeChild(i[this._domName]);i[this._domName]=null}};ut.prototype.getDoms=function(){var e=this.getDefs(false);if(!e){return[]}var i=[];qg(this._tagNames,function(m){var k=e.getElementsByTagName(m);i=i.concat([].slice.call(k))});return i};ut.prototype.markAllUnused=function(){var i=this.getDoms();var e=this;qg(i,function(k){k[e._markLabel]=n4})};ut.prototype.markUsed=function(e){if(e){e[this._markLabel]=ht}};ut.prototype.removeUnused=function(){var e=this.getDefs(false);if(!e){return}var k=this.getDoms();var i=this;qg(k,function(m){if(m[i._markLabel]!==ht){e.removeChild(m)}})};ut.prototype.getSvgProxy=function(e){if(e instanceof nh){return tj}else{if(e instanceof Hz){return jH}else{if(e instanceof jv){return po}else{return tj}}}};ut.prototype.getTextSvgElement=function(e){return e.__textSvgEl};ut.prototype.getSvgElement=function(e){return e.__svgEl};function ho(i,e){ut.call(this,i,e,["linearGradient","radialGradient"],"__gradient_in_use__")}nm(ho,ut);ho.prototype.addWithoutUpdate=function(k,e){if(e&&e.style){var i=this;qg(["fill","stroke"],function(v){if(e.style[v]&&(e.style[v].type==="linear"||e.style[v].type==="radial")){var Z=e.style[v];var m=i.getDefs(true);var on;if(Z._dom){on=Z._dom;if(!m.contains(Z._dom)){i.addDom(on)}}else{on=i.add(Z)}i.markUsed(e);var v1=on.getAttribute("id");k.setAttribute(v,"url(#"+v1+")")}})}};ho.prototype.add=function(e){var i;if(e.type==="linear"){i=this.createElement("linearGradient")}else{if(e.type==="radial"){i=this.createElement("radialGradient")}else{Dc("Illegal gradient type.");return null}}e.id=e.id||this.nextId++;i.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id);this.updateDom(e,i);this.addDom(i);return i};ho.prototype.update=function(i){var e=this;ut.prototype.update.call(this,i,function(){var m=i.type;var k=i._dom.tagName;if(m==="linear"&&k==="linearGradient"||m==="radial"&&k==="radialGradient"){e.updateDom(i,i._dom)}else{e.removeDom(i);e.add(i)}})};ho.prototype.updateDom=function(v3,v){if(v3.type==="linear"){v.setAttribute("x1",v3.x);v.setAttribute("y1",v3.y);v.setAttribute("x2",v3.x2);v.setAttribute("y2",v3.y2)}else{if(v3.type==="radial"){v.setAttribute("cx",v3.x);v.setAttribute("cy",v3.y);v.setAttribute("r",v3.r)}else{Dc("Illegal gradient type.");return}}if(v3.global){v.setAttribute("gradientUnits","userSpaceOnUse")}else{v.setAttribute("gradientUnits","objectBoundingBox")}v.innerHTML="";var e=v3.colorStops;for(var Z=0,v1=e.length;Z<v1;++Z){var v2=this.createElement("stop");v2.setAttribute("offset",e[Z].offset*100+"%");var m=e[Z].color;if(m.indexOf("rgba")>-1){var on=fk(m)[3];var k=A5(m);v2.setAttribute("stop-color","#"+k);v2.setAttribute("stop-opacity",on)}else{v2.setAttribute("stop-color",e[Z].color)}v.appendChild(v2)}v3._dom=v};ho.prototype.markUsed=function(e){if(e.style){var i=e.style.fill;if(i&&i._dom){ut.prototype.markUsed.call(this,i._dom)}i=e.style.stroke;if(i&&i._dom){ut.prototype.markUsed.call(this,i._dom)}}};function kv(i,e){ut.call(this,i,e,"clipPath","__clippath_in_use__")}nm(kv,ut);kv.prototype.update=function(e){var k=this.getSvgElement(e);if(k){this.updateDom(k,e.__clipPaths,false)}var i=this.getTextSvgElement(e);if(i){this.updateDom(i,e.__clipPaths,true)}this.markUsed(e)};kv.prototype.updateDom=function(on,v2,Z){if(v2&&v2.length>0){var v=this.getDefs(true);var v3=v2[0];var Kz;var e;var m=Z?"_textDom":"_dom";if(v3[m]){e=v3[m].getAttribute("id");Kz=v3[m];if(!v.contains(Kz)){v.appendChild(Kz)}}else{e="zr"+this._zrId+"-clip-"+this.nextId;++this.nextId;Kz=this.createElement("clipPath");Kz.setAttribute("id",e);v.appendChild(Kz);v3[m]=Kz}var k=this.getSvgProxy(v3);if(v3.transform&&v3.parent.invTransform&&!Z){var i=Array.prototype.slice.call(v3.transform);n(v3.transform,v3.parent.invTransform,v3.transform);k.brush(v3);v3.transform=i}else{k.brush(v3)}var v1=this.getSvgElement(v3);Kz.innerHTML="";Kz.appendChild(v1.cloneNode());on.setAttribute("clip-path","url(#"+e+")");if(v2.length>1){this.updateDom(Kz,v2.slice(1),Z)}}else{if(on){on.setAttribute("clip-path","none")}}};kv.prototype.markUsed=function(e){var i=this;if(e.__clipPaths){qg(e.__clipPaths,function(k){if(k._dom){ut.prototype.markUsed.call(i,k._dom)}if(k._textDom){ut.prototype.markUsed.call(i,k._textDom)}})}};function hS(i,e){ut.call(this,i,e,["filter"],"__filter_in_use__","_shadowDom")}nm(hS,ut);hS.prototype.addWithoutUpdate=function(k,i){if(i&&cM(i.style)){var m;if(i._shadowDom){m=i._shadowDom;var e=this.getDefs(true);if(!e.contains(i._shadowDom)){this.addDom(m)}}else{m=this.add(i)}this.markUsed(i);var v=m.getAttribute("id");k.style.filter="url(#"+v+")"}};hS.prototype.add=function(e){var i=this.createElement("filter");e._shadowDomId=e._shadowDomId||this.nextId++;i.setAttribute("id","zr"+this._zrId+"-shadow-"+e._shadowDomId);this.updateDom(e,i);this.addDom(i);return i};hS.prototype.update=function(m,e){var i=e.style;if(cM(i)){var k=this;ut.prototype.update.call(this,e,function(){k.updateDom(e,e._shadowDom)})}else{this.remove(m,e)}};hS.prototype.remove=function(i,e){if(e._shadowDomId!=null){this.removeDom(i);i.style.filter=""}};hS.prototype.updateDom=function(v,m){var v3=m.getElementsByTagName("feDropShadow");if(v3.length===0){v3=this.createElement("feDropShadow")}else{v3=v3[0]}var e=v.style;var KB=v.scale?(v.scale[0]||1):1;var KA=v.scale?(v.scale[1]||1):1;var on;var Z;var i;var k;if(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY){on=e.shadowOffsetX||0;Z=e.shadowOffsetY||0;i=e.shadowBlur;k=e.shadowColor}else{if(e.textShadowBlur){on=e.textShadowOffsetX||0;Z=e.textShadowOffsetY||0;i=e.textShadowBlur;k=e.textShadowColor}else{this.removeDom(m,e);return}}v3.setAttribute("dx",on/KB);v3.setAttribute("dy",Z/KA);v3.setAttribute("flood-color",k);var v2=i/2/KB;var v1=i/2/KA;var Kz=v2+" "+v1;v3.setAttribute("stdDeviation",Kz);m.setAttribute("x","-100%");m.setAttribute("y","-100%");m.setAttribute("width",Math.ceil(i/2*200)+"%");m.setAttribute("height",Math.ceil(i/2*200)+"%");m.appendChild(v3);v._shadowDom=m};hS.prototype.markUsed=function(e){if(e._shadowDom){ut.prototype.markUsed.call(this,e._shadowDom)}};function cM(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY||e.textShadowBlur||e.textShadowOffsetX||e.textShadowOffsetY)}function fH(e){return parseInt(e,10)}function oJ(e){if(e instanceof nh){return tj}else{if(e instanceof Hz){return jH}else{if(e instanceof jv){return po}else{return tj}}}}function JK(e,i){return i&&e&&i.parentNode!==e}function AS(i,m,e){if(JK(i,m)&&e){var k=e.nextSibling;k?i.insertBefore(m,k):i.appendChild(m)}}function rw(e,k){if(JK(e,k)){var i=e.firstChild;i?e.insertBefore(k,i):e.appendChild(k)}}function be(e,i){if(i&&e&&i.parentNode===e){e.removeChild(i)}}function Hk(e){return e.__textSvgEl}function oL(e){return e.__svgEl}var w8=function(k,v1,on,v){this.root=k;this.storage=v1;this._opts=on=cc({},on||{});var Z=H7("svg");Z.setAttribute("xmlns","http://www.w3.org/2000/svg");Z.setAttribute("version","1.1");Z.setAttribute("baseProfile","full");Z.style.cssText="user-select:none;position:absolute;left:0;top:0;";var m=H7("g");Z.appendChild(m);var i=H7("g");Z.appendChild(i);this.gradientManager=new ho(v,i);this.clipPathManager=new kv(v,i);this.shadowManager=new hS(v,i);var e=document.createElement("div");e.style.cssText="overflow:hidden;position:relative";this._svgDom=Z;this._svgRoot=i;this._backgroundRoot=m;this._viewport=e;k.appendChild(e);e.appendChild(Z);this.resize(on.width,on.height);this._visibleList=[]};w8.prototype={constructor:w8,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e){return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}}},refresh:function(){var e=this.storage.getDisplayList(true);this._paintList(e)},setBackgroundColor:function(e){if(this._backgroundRoot&&this._backgroundNode){this._backgroundRoot.removeChild(this._backgroundNode)}var i=H7("rect");i.setAttribute("width",this.getWidth());i.setAttribute("height",this.getHeight());i.setAttribute("x",0);i.setAttribute("y",0);i.setAttribute("id",0);i.style.fill=e;this._backgroundRoot.appendChild(i);this._backgroundNode=i},_paintList:function(v3){this.gradientManager.markAllUnused();this.clipPathManager.markAllUnused();this.shadowManager.markAllUnused();var KD=this._svgRoot;var KA=this._visibleList;var e=v3.length;var on=[];var v1;for(v1=0;v1<e;v1++){var v=v3[v1];var Z=oJ(v);var Kz=oL(v)||Hk(v);if(!v.invisible){if(v.__dirty){Z&&Z.brush(v);this.clipPathManager.update(v);if(v.style){this.gradientManager.update(v.style.fill);this.gradientManager.update(v.style.stroke);this.shadowManager.update(Kz,v)}v.__dirty=false}on.push(v)}}var KC=he(KA,on);var v2;for(v1=0;v1<KC.length;v1++){var KE=KC[v1];if(KE.removed){for(var m=0;m<KE.count;m++){var v=KA[KE.indices[m]];var Kz=oL(v);var KB=Hk(v);be(KD,Kz);be(KD,KB)}}}for(v1=0;v1<KC.length;v1++){var KE=KC[v1];if(KE.added){for(var m=0;m<KE.count;m++){var v=on[KE.indices[m]];var Kz=oL(v);var KB=Hk(v);v2?AS(KD,Kz,v2):rw(KD,Kz);if(Kz){AS(KD,KB,Kz)}else{if(v2){AS(KD,KB,v2)}else{rw(KD,KB)}}AS(KD,KB,Kz);v2=KB||Kz||v2;this.gradientManager.addWithoutUpdate(Kz||KB,v);this.shadowManager.addWithoutUpdate(Kz||KB,v);this.clipPathManager.markUsed(v)}}else{if(!KE.removed){for(var m=0;m<KE.count;m++){var v=on[KE.indices[m]];var Kz=oL(v);var KB=Hk(v);var Kz=oL(v);var KB=Hk(v);this.gradientManager.markUsed(v);this.gradientManager.addWithoutUpdate(Kz||KB,v);this.shadowManager.markUsed(v);this.shadowManager.addWithoutUpdate(Kz||KB,v);this.clipPathManager.markUsed(v);if(KB){AS(KD,KB,Kz)}v2=Kz||KB||v2}}}}this.gradientManager.removeUnused();this.clipPathManager.removeUnused();this.shadowManager.removeUnused();this._visibleList=on},_getDefs:function(k){var i=this._svgDom;var e=i.getElementsByTagName("defs");if(e.length===0){if(k){var e=i.insertBefore(H7("defs"),i.firstChild);if(!e.contains){e.contains=function(Z){var v=e.children;if(!v){return false}for(var m=v.length-1;m>=0;--m){if(v[m]===Z){return true}}return false}}return e}else{return null}}else{return e[0]}},resize:function(v,i){var e=this._viewport;e.style.display="none";var Z=this._opts;v!=null&&(Z.width=v);i!=null&&(Z.height=i);v=this._getSize(0);i=this._getSize(1);e.style.display="";if(this._width!==v||this._height!==i){this._width=v;this._height=i;var m=e.style;m.width=v+"px";m.height=i+"px";var k=this._svgDom;k.setAttribute("width",v);k.setAttribute("height",i)}if(this._backgroundNode){this._backgroundNode.setAttribute("width",v);this._backgroundNode.setAttribute("height",i)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(v){var v1=this._opts;var m=["width","height"][v];var k=["clientWidth","clientHeight"][v];var Z=["paddingLeft","paddingTop"][v];var e=["paddingRight","paddingBottom"][v];if(v1[m]!=null&&v1[m]!=="auto"){return parseFloat(v1[m])}var i=this.root;var on=document.defaultView.getComputedStyle(i);return((i[k]||fH(on[m])||fH(i.style[m]))-(fH(on[Z])||0)-(fH(on[e])||0))|0},dispose:function(){this.root.innerHTML="";this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){if(this._viewport){this.root.removeChild(this._viewport)}},toDataURL:function(){this.refresh();var e=encodeURIComponent(this._svgDom.outerHTML.replace(/></g,">\n\r<"));return"data:image/svg+xml;charset=UTF-8,"+e}};function F4(e){return function(){Dc('In SVG mode painter not support method "'+e+'"')}}qg(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","pathToImage"],function(e){w8.prototype[e]=F4(e)});yG("svg",w8);sV.version=Kk;sV.dependencies=sd;sV.PRIORITY=D2;sV.init=G1;sV.connect=oN;sV.disConnect=ig;sV.disconnect=AI;sV.dispose=wE;sV.getInstanceByDom=cf;sV.getInstanceById=eb;sV.registerTheme=Bn;sV.registerPreprocessor=AO;sV.registerProcessor=ex;sV.registerPostUpdate=xS;sV.registerAction=ce;sV.registerCoordinateSystem=yc;sV.getCoordinateSystemDimensions=hC;sV.registerLayout=qz;sV.registerVisual=H;sV.registerLoading=zA;sV.extendComponentModel=rg;sV.extendComponentView=rL;sV.extendSeriesModel=DZ;sV.extendChartView=DH;sV.setCanvasCreator=e1;sV.registerMap=f5;sV.getMap=wK;sV.dataTool=yd;sV.zrender=mh;sV.number=oa;sV.format=gh;sV.throttle=fp;sV.helper=D5;sV.matrix=lp;sV.vector=GH;sV.color=yg;sV.parseGeoJSON=bW;sV.parseGeoJson=lb;sV.util=lW;sV.graphic=vm;sV.List=y6;sV.Model=fV;sV.Axis=DO;sV.env=uk;sV.parseGeoJson=lb;return sV})));