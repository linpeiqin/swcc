let tableIns;let tree;layui.use(["element","form","table","layer","laydate","tree","util"],function(){let table=layui.table;let form=layui.form;let laydate=layui.laydate;tree=layui.tree;tableIns=table.render({elem:"#sensorDataTable",url:ctx+"/wc/sensorData/page",method:"POST",request:{pageName:"page",limitName:"rows"},response:{statusName:"flag",statusCode:true,msgName:"msg",countName:"records",dataName:"rows"},parseData:function(a){var b=a.data;return{flag:a.flag,msg:a.msg,records:b.records,rows:b.rows}},title:"传感器数据查询",cols:[[{field:"sortNumber",title:"序号",type:"numbers"},{field:"time",title:"记录时间",sort:true},{field:"sensorId",title:"传感器ID",sort:true},{field:"sensorTypeName",title:"传感器类型",sort:true},{field:"value1Text",title:"值1"},{field:"value2Text",title:"值2"},{field:"value3Text",title:"值3"},{field:"macCode",title:"物理地址"}]],page:true,height:"full-120",cellMinWidth:60});initSelect(form);$("#rqueryButton").click(function(){let wcId=$("#wcSelector").val().split("|")[0]?$("#wcSelector").val().split("|")[0]:null;let macCode=$("#wcSelector").val().split("|")[1]?$("#wcSelector").val().split("|")[1]:null;let startTime=$("#startTimePicker").val();let endTime=$("#endTimePicker").val();let query={};query.where={macCode:macCode,wcId:wcId,startTime:startTime,endTime:endTime};tableIns.reload(query);return false});laydate.render({elem:"#startTimePicker",theme:"#8470FF",type:"datetime"});laydate.render({elem:"#endTimePicker",theme:"#8470FF",type:"datetime"})});